[{"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\index.tsx":"1","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\App.tsx":"2","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\providers\\GlobalProvider.tsx":"3","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\providers\\ClientProvider.tsx":"4","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\providers\\PaymentProvider.tsx":"5","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\providers\\EmployeeProvider.tsx":"6","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\providers\\CommissionProvider.tsx":"7","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\providers\\BranchProvider.tsx":"8","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\utils\\helper.ts":"9","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\layout\\index.tsx":"10","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyAlert\\index.tsx":"11","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyNav\\index.tsx":"12","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\clientService.tsx":"13","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\NotFound\\index.tsx":"14","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyDrawer\\index.tsx":"15","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyAuthRoute\\index.tsx":"16","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyGuestRoute\\index.tsx":"17","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Employees\\EditEmployee\\index.tsx":"18","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Dashboard\\index.tsx":"19","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\utils\\http.ts":"20","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Clients\\EditClient\\index.tsx":"21","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Clients\\NewClient\\index.tsx":"22","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Payments\\index.tsx":"23","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Employees\\ViewEmployee\\index.tsx":"24","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Clients\\index.tsx":"25","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Branches\\NewBranch\\index.tsx":"26","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Branches\\index.tsx":"27","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Clients\\ViewClient\\index.tsx":"28","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Employees\\index.tsx":"29","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Payments\\PaymentView\\index.tsx":"30","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Commissions\\index.tsx":"31","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Branches\\EditBranch\\index.tsx":"32","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Auth\\SignIn\\index.tsx":"33","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Transactions\\ReleaseTransaction\\index.tsx":"34","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Transactions\\EncodeTransaction\\index.tsx":"35","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Transactions\\EncodeTransaction\\TransactionForm.tsx":"36","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\authService.tsx":"37","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\branchService.tsx":"38","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Commissions\\CommissionCard\\index.tsx":"39","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\paymentService.tsx":"40","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\employeeService.tsx":"41","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\validators\\signInValidator.tsx":"42","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\validators\\saveBranchValidator.tsx":"43","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\commissionService.tsx":"44","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Transactions\\ReleaseTransaction\\ReleaseCard\\index.tsx":"45","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyAvatar\\index.tsx":"46","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyCard\\index.tsx":"47","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MySkeletonCard\\index.tsx":"48","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyAlertDialog\\index.tsx":"49","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyForm\\index.tsx":"50","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MySkeletonMiniCards\\index.tsx":"51","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MySearchField\\index.tsx":"52","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyMiniCards\\index.tsx":"53","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\validators\\clientTransactionValidator.tsx":"54","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyChips\\index.tsx":"55","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Clients\\NewClient\\ClientStepThree.tsx":"56","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Clients\\NewClient\\ClientStepTwo.tsx":"57","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Clients\\NewClient\\ClientStepOne.tsx":"58","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\validators\\saveEmployeeValidator.tsx":"59","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Employees\\EmployeeCard\\index.tsx":"60","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Branches\\BranchCard\\index.tsx":"61","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Clients\\ClientCard\\index.tsx":"62","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\imageService.tsx":"63","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Payments\\PaymentCard\\index.tsx":"64","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\validators\\saveProfileValidator.tsx":"65","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MySkeletonCards\\index.tsx":"66","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyStepper\\index.tsx":"67","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\validators\\clientStepTwoValidator.tsx":"68","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\validators\\clientStepThreeValidator.tsx":"69","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Users\\index.tsx":"70","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Users\\UserCard\\index.tsx":"71","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\providers\\UserProvider.tsx":"72","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\userService.tsx":"73","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Employees\\NewEmployee\\index.tsx":"74","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Users\\NewUser\\index.tsx":"75","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\validators\\saveUserValidator.tsx":"76","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Users\\EditUser\\index.tsx":"77","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\validators\\editUserValidator.tsx":"78","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Settings\\General\\index.tsx":"79","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Settings\\Account\\index.tsx":"80","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyGraph\\index.tsx":"81","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyNavFooter\\index.tsx":"82","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\statisticService.tsx":"83","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Dashboard\\StatisticGraph\\index.tsx":"84","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Notifications\\index.tsx":"85","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\providers\\StatisticProvider.tsx":"86","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\notificationService.tsx":"87","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\providers\\NotificationProvider.tsx":"88","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Notifications\\NotificationCard\\index.tsx":"89","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\settingService.tsx":"90","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\validators\\settingValidator.tsx":"91","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\serviceWorker.tsx":"92","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Transactions\\ReleaseTransaction\\PDFForm\\index.tsx":"93"},{"size":411,"mtime":1615504609976,"results":"94","hashOfConfig":"95"},{"size":1950,"mtime":1615287863221,"results":"96","hashOfConfig":"95"},{"size":9834,"mtime":1615257730266,"results":"97","hashOfConfig":"95"},{"size":2504,"mtime":1613977803039,"results":"98","hashOfConfig":"95"},{"size":1562,"mtime":1614186359419,"results":"99","hashOfConfig":"95"},{"size":2728,"mtime":1613977803039,"results":"100","hashOfConfig":"95"},{"size":1632,"mtime":1613977803039,"results":"101","hashOfConfig":"95"},{"size":1118,"mtime":1613977803039,"results":"102","hashOfConfig":"95"},{"size":2559,"mtime":1616031986678,"results":"103","hashOfConfig":"95"},{"size":4204,"mtime":1615255430210,"results":"104","hashOfConfig":"95"},{"size":856,"mtime":1613977802976,"results":"105","hashOfConfig":"95"},{"size":2606,"mtime":1613977802993,"results":"106","hashOfConfig":"95"},{"size":4260,"mtime":1616031222943,"results":"107","hashOfConfig":"95"},{"size":359,"mtime":1614195826017,"results":"108","hashOfConfig":"95"},{"size":9591,"mtime":1615148280265,"results":"109","hashOfConfig":"95"},{"size":1193,"mtime":1614046666492,"results":"110","hashOfConfig":"95"},{"size":837,"mtime":1613977802993,"results":"111","hashOfConfig":"95"},{"size":7407,"mtime":1614624699140,"results":"112","hashOfConfig":"95"},{"size":9220,"mtime":1615303919912,"results":"113","hashOfConfig":"95"},{"size":1525,"mtime":1615060486919,"results":"114","hashOfConfig":"95"},{"size":5975,"mtime":1615245177593,"results":"115","hashOfConfig":"95"},{"size":7035,"mtime":1616025959565,"results":"116","hashOfConfig":"95"},{"size":3959,"mtime":1614547407532,"results":"117","hashOfConfig":"95"},{"size":8305,"mtime":1615146977331,"results":"118","hashOfConfig":"95"},{"size":6029,"mtime":1615765519170,"results":"119","hashOfConfig":"95"},{"size":1984,"mtime":1613977803008,"results":"120","hashOfConfig":"95"},{"size":3633,"mtime":1614194282446,"results":"121","hashOfConfig":"95"},{"size":7097,"mtime":1616031147111,"results":"122","hashOfConfig":"95"},{"size":6111,"mtime":1615146129580,"results":"123","hashOfConfig":"95"},{"size":5383,"mtime":1615147126416,"results":"124","hashOfConfig":"95"},{"size":4320,"mtime":1616556124173,"results":"125","hashOfConfig":"95"},{"size":2274,"mtime":1613977803008,"results":"126","hashOfConfig":"95"},{"size":3623,"mtime":1615592554664,"results":"127","hashOfConfig":"95"},{"size":12257,"mtime":1617308421527,"results":"128","hashOfConfig":"95"},{"size":10150,"mtime":1616388041501,"results":"129","hashOfConfig":"95"},{"size":5852,"mtime":1615163124481,"results":"130","hashOfConfig":"95"},{"size":339,"mtime":1614203142900,"results":"131","hashOfConfig":"95"},{"size":821,"mtime":1613977803055,"results":"132","hashOfConfig":"95"},{"size":2784,"mtime":1616484569243,"results":"133","hashOfConfig":"95"},{"size":988,"mtime":1614538610143,"results":"134","hashOfConfig":"95"},{"size":1675,"mtime":1613977803055,"results":"135","hashOfConfig":"95"},{"size":234,"mtime":1614529570494,"results":"136","hashOfConfig":"95"},{"size":200,"mtime":1613977803069,"results":"137","hashOfConfig":"95"},{"size":2055,"mtime":1617303625324,"results":"138","hashOfConfig":"95"},{"size":2906,"mtime":1614290903927,"results":"139","hashOfConfig":"95"},{"size":1184,"mtime":1614702518906,"results":"140","hashOfConfig":"95"},{"size":1186,"mtime":1615147690052,"results":"141","hashOfConfig":"95"},{"size":1441,"mtime":1614280699468,"results":"142","hashOfConfig":"95"},{"size":1702,"mtime":1613977802976,"results":"143","hashOfConfig":"95"},{"size":11440,"mtime":1615150206261,"results":"144","hashOfConfig":"95"},{"size":1476,"mtime":1613977802993,"results":"145","hashOfConfig":"95"},{"size":1707,"mtime":1613977802993,"results":"146","hashOfConfig":"95"},{"size":3015,"mtime":1616033858985,"results":"147","hashOfConfig":"95"},{"size":476,"mtime":1613977803068,"results":"148","hashOfConfig":"95"},{"size":1746,"mtime":1615147539739,"results":"149","hashOfConfig":"95"},{"size":6063,"mtime":1616030531527,"results":"150","hashOfConfig":"95"},{"size":5830,"mtime":1615150782858,"results":"151","hashOfConfig":"95"},{"size":4673,"mtime":1614049311970,"results":"152","hashOfConfig":"95"},{"size":518,"mtime":1613977803071,"results":"153","hashOfConfig":"95"},{"size":3465,"mtime":1615143762543,"results":"154","hashOfConfig":"95"},{"size":1917,"mtime":1613977802993,"results":"155","hashOfConfig":"95"},{"size":3782,"mtime":1614632330692,"results":"156","hashOfConfig":"95"},{"size":648,"mtime":1614697683197,"results":"157","hashOfConfig":"95"},{"size":2983,"mtime":1614547329081,"results":"158","hashOfConfig":"95"},{"size":382,"mtime":1613977803072,"results":"159","hashOfConfig":"95"},{"size":1420,"mtime":1613977802993,"results":"160","hashOfConfig":"95"},{"size":1391,"mtime":1613977802993,"results":"161","hashOfConfig":"95"},{"size":389,"mtime":1613977803055,"results":"162","hashOfConfig":"95"},{"size":523,"mtime":1613977803055,"results":"163","hashOfConfig":"95"},{"size":4605,"mtime":1614527318978,"results":"164","hashOfConfig":"95"},{"size":2748,"mtime":1614525724051,"results":"165","hashOfConfig":"95"},{"size":1506,"mtime":1614337198029,"results":"166","hashOfConfig":"95"},{"size":1080,"mtime":1614612048114,"results":"167","hashOfConfig":"95"},{"size":6469,"mtime":1614511117864,"results":"168","hashOfConfig":"95"},{"size":5440,"mtime":1614513414595,"results":"169","hashOfConfig":"95"},{"size":556,"mtime":1614526978291,"results":"170","hashOfConfig":"95"},{"size":4317,"mtime":1614613392233,"results":"171","hashOfConfig":"95"},{"size":485,"mtime":1614527003887,"results":"172","hashOfConfig":"95"},{"size":3363,"mtime":1615435881028,"results":"173","hashOfConfig":"95"},{"size":6455,"mtime":1614614253341,"results":"174","hashOfConfig":"95"},{"size":6543,"mtime":1616487241364,"results":"175","hashOfConfig":"95"},{"size":4018,"mtime":1615328734947,"results":"176","hashOfConfig":"95"},{"size":536,"mtime":1615057051825,"results":"177","hashOfConfig":"95"},{"size":1544,"mtime":1615075321406,"results":"178","hashOfConfig":"95"},{"size":3099,"mtime":1616034516644,"results":"179","hashOfConfig":"95"},{"size":1271,"mtime":1615287381507,"results":"180","hashOfConfig":"95"},{"size":720,"mtime":1615299516859,"results":"181","hashOfConfig":"95"},{"size":1534,"mtime":1615435994410,"results":"182","hashOfConfig":"95"},{"size":4260,"mtime":1615301940966,"results":"183","hashOfConfig":"95"},{"size":356,"mtime":1615328013870,"results":"184","hashOfConfig":"95"},{"size":205,"mtime":1615328236615,"results":"185","hashOfConfig":"95"},{"size":4602,"mtime":1615504556652,"results":"186","hashOfConfig":"95"},{"size":2255,"mtime":1617304560049,"results":"187","hashOfConfig":"95"},{"filePath":"188","messages":"189","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},"z4cawg",{"filePath":"191","messages":"192","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"193","usedDeprecatedRules":"190"},{"filePath":"194","messages":"195","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"196","messages":"197","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"198","usedDeprecatedRules":"190"},{"filePath":"199","messages":"200","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"201","messages":"202","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"203","usedDeprecatedRules":"190"},{"filePath":"204","messages":"205","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"206","messages":"207","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"208","messages":"209","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"210","messages":"211","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"212","messages":"213","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"214","messages":"215","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"216","usedDeprecatedRules":"190"},{"filePath":"217","messages":"218","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"219","usedDeprecatedRules":"190"},{"filePath":"220","messages":"221","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"222","messages":"223","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"224","usedDeprecatedRules":"190"},{"filePath":"225","messages":"226","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"227","usedDeprecatedRules":"190"},{"filePath":"228","messages":"229","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"230","usedDeprecatedRules":"190"},{"filePath":"231","messages":"232","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"233","usedDeprecatedRules":"190"},{"filePath":"234","messages":"235","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"236","usedDeprecatedRules":"190"},{"filePath":"237","messages":"238","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"239","usedDeprecatedRules":"190"},{"filePath":"240","messages":"241","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"242","usedDeprecatedRules":"190"},{"filePath":"243","messages":"244","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"245","usedDeprecatedRules":"190"},{"filePath":"246","messages":"247","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"248","usedDeprecatedRules":"190"},{"filePath":"249","messages":"250","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"251","usedDeprecatedRules":"190"},{"filePath":"252","messages":"253","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"254","usedDeprecatedRules":"190"},{"filePath":"255","messages":"256","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"257","messages":"258","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"259","usedDeprecatedRules":"190"},{"filePath":"260","messages":"261","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"262","usedDeprecatedRules":"190"},{"filePath":"263","messages":"264","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"265","usedDeprecatedRules":"190"},{"filePath":"266","messages":"267","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"268","usedDeprecatedRules":"190"},{"filePath":"269","messages":"270","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"271","usedDeprecatedRules":"190"},{"filePath":"272","messages":"273","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"274","usedDeprecatedRules":"190"},{"filePath":"275","messages":"276","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"277","usedDeprecatedRules":"190"},{"filePath":"278","messages":"279","errorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"280","messages":"281","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"282","usedDeprecatedRules":"190"},{"filePath":"283","messages":"284","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"285","usedDeprecatedRules":"190"},{"filePath":"286","messages":"287","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"288","messages":"289","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"290","messages":"291","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"292","usedDeprecatedRules":"190"},{"filePath":"293","messages":"294","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"295","usedDeprecatedRules":"190"},{"filePath":"296","messages":"297","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"298","messages":"299","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"300","messages":"301","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"302","usedDeprecatedRules":"190"},{"filePath":"303","messages":"304","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"305","messages":"306","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"307","usedDeprecatedRules":"190"},{"filePath":"308","messages":"309","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"310","usedDeprecatedRules":"190"},{"filePath":"311","messages":"312","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"313","messages":"314","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"315","messages":"316","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"317","usedDeprecatedRules":"190"},{"filePath":"318","messages":"319","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"320","usedDeprecatedRules":"190"},{"filePath":"321","messages":"322","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"323","messages":"324","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"325","usedDeprecatedRules":"190"},{"filePath":"326","messages":"327","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"328","usedDeprecatedRules":"190"},{"filePath":"329","messages":"330","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"331","usedDeprecatedRules":"190"},{"filePath":"332","messages":"333","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"334","usedDeprecatedRules":"190"},{"filePath":"335","messages":"336","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"337","usedDeprecatedRules":"190"},{"filePath":"338","messages":"339","errorCount":0,"warningCount":10,"fixableErrorCount":0,"fixableWarningCount":0,"source":"340","usedDeprecatedRules":"190"},{"filePath":"341","messages":"342","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"343","usedDeprecatedRules":"190"},{"filePath":"344","messages":"345","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"346","usedDeprecatedRules":"190"},{"filePath":"347","messages":"348","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"349","usedDeprecatedRules":"190"},{"filePath":"350","messages":"351","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"352","usedDeprecatedRules":"190"},{"filePath":"353","messages":"354","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"355","usedDeprecatedRules":"190"},{"filePath":"356","messages":"357","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"358","messages":"359","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"360","usedDeprecatedRules":"190"},{"filePath":"361","messages":"362","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"363","usedDeprecatedRules":"190"},{"filePath":"364","messages":"365","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"366","messages":"367","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"368","messages":"369","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"370","usedDeprecatedRules":"190"},{"filePath":"371","messages":"372","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"373","usedDeprecatedRules":"190"},{"filePath":"374","messages":"375","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"376","usedDeprecatedRules":"190"},{"filePath":"377","messages":"378","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"379","usedDeprecatedRules":"190"},{"filePath":"380","messages":"381","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"382","messages":"383","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"384","messages":"385","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"386","usedDeprecatedRules":"190"},{"filePath":"387","messages":"388","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"389","usedDeprecatedRules":"190"},{"filePath":"390","messages":"391","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"392","messages":"393","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"394","usedDeprecatedRules":"190"},{"filePath":"395","messages":"396","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"397","messages":"398","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"399","usedDeprecatedRules":"190"},{"filePath":"400","messages":"401","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"402","usedDeprecatedRules":"190"},{"filePath":"403","messages":"404","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"405","usedDeprecatedRules":"190"},{"filePath":"406","messages":"407","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"408","usedDeprecatedRules":"190"},{"filePath":"409","messages":"410","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"411","messages":"412","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"413","usedDeprecatedRules":"190"},{"filePath":"414","messages":"415","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"416","usedDeprecatedRules":"190"},{"filePath":"417","messages":"418","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"419","usedDeprecatedRules":"190"},{"filePath":"420","messages":"421","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"422","messages":"423","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"424","messages":"425","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"426","usedDeprecatedRules":"190"},{"filePath":"427","messages":"428","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"429","messages":"430","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"431","usedDeprecatedRules":"190"},{"filePath":"432","messages":"433","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"190"},{"filePath":"434","messages":"435","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"436","usedDeprecatedRules":"190"},"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\index.tsx",[],["437","438"],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\App.tsx",["439","440"],"import React, { useContext, useEffect } from 'react'\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport Nav from 'components/common/MyNav'\r\nimport MyAlert from 'components/common/MyAlert'\r\nimport Layout from 'components/layout'\r\nimport { ClientProvider } from 'providers/ClientProvider'\r\nimport { EmployeeProvider } from 'providers/EmployeeProvider'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport { PaymentProvider } from 'providers/PaymentProvider'\r\nimport { BranchProvider } from 'providers/BranchProvider'\r\nimport { CommissionProvider } from 'providers/CommissionProvider'\r\nimport { NotificationProvider } from 'providers/NotificationProvider'\r\nimport wave from 'assets/wave.svg'\r\nimport { UserProvider } from 'providers/UserProvider'\r\nimport MyNavFooter from 'components/common/MyNavFooter'\r\nimport { StatisticProvider } from 'providers/StatisticProvider'\r\n\r\nconst App: React.FC = (props) => {\r\n  const [state, dispatch] = useContext(GlobalContext)!\r\n\r\n  return (\r\n    <>\r\n      <CssBaseline />\r\n      <MyAlert />\r\n      {!state.currentUser && (\r\n        <img\r\n          style={{ position: 'absolute', top: 0 }}\r\n          width='100%'\r\n          src={wave}\r\n          alt='wave logo'\r\n        />\r\n      )}\r\n      {state.currentUser && <Nav />}\r\n      <BranchProvider>\r\n        <UserProvider>\r\n          <EmployeeProvider>\r\n            <ClientProvider>\r\n              <PaymentProvider>\r\n                <CommissionProvider>\r\n                  <StatisticProvider>\r\n                    <NotificationProvider>\r\n                      <Layout />\r\n                      {state.currentUser && <MyNavFooter />}\r\n                    </NotificationProvider>\r\n                  </StatisticProvider>\r\n                </CommissionProvider>\r\n              </PaymentProvider>\r\n            </ClientProvider>\r\n          </EmployeeProvider>\r\n        </UserProvider>\r\n      </BranchProvider>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default App\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\providers\\GlobalProvider.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\providers\\ClientProvider.tsx",["441"],"import { createContext, Dispatch, useEffect, useReducer } from 'react'\r\nimport { produce } from 'immer'\r\nimport Client from 'models/client'\r\nimport Plan from 'models/plan'\r\nimport { plans } from 'services/clientService'\r\n\r\nexport const ClientContext = createContext<\r\n  [state: ClientState, dispatch: Dispatch<ClientAction>] | null\r\n>(null)\r\n\r\ninterface ClientState {\r\n  clients: Client[]\r\n  plans: Plan[]\r\n  isLoading: boolean\r\n  onReloadPlans: boolean\r\n  pages: number\r\n  total: number\r\n}\r\n\r\nexport type ClientAction =\r\n  | { type: 'TOGGLE_LOADING' | 'ON_RELOAD_PLANS' }\r\n  | {\r\n      type: 'ON_LOAD_CLIENTS'\r\n      payload: { clients: Client[]; total?: number; pages?: number }\r\n    }\r\n  | { type: 'ON_LOAD_CLIENTS_INSTALLMENT'; payload: Client[] }\r\n  | { type: 'ON_LOAD_PLANS'; payload: Plan[] }\r\n  | { type: 'SET_IS_LOADING'; payload: boolean }\r\n  | { type: 'SET_TOTAL'; payload: number }\r\n  | { type: 'SET_PAGES'; payload: number }\r\n\r\nconst reducer = (state: ClientState, action: ClientAction) => {\r\n  switch (action.type) {\r\n    case 'ON_LOAD_PLANS':\r\n      state.plans = action.payload\r\n      break\r\n    case 'ON_RELOAD_PLANS':\r\n      state.onReloadPlans = !state.onReloadPlans\r\n      break\r\n    case 'ON_LOAD_CLIENTS':\r\n      state.clients = action.payload.clients\r\n      state.total = action.payload.total!\r\n      state.pages = action.payload.pages!\r\n      state.isLoading = false\r\n      break\r\n    case 'ON_LOAD_CLIENTS_INSTALLMENT':\r\n      state.clients = action.payload.filter(\r\n        (client) => client.payment_mode === 'Installment',\r\n      )\r\n      state.isLoading = false\r\n      break\r\n    case 'SET_IS_LOADING':\r\n      state.isLoading = action.payload\r\n      break\r\n    case 'TOGGLE_LOADING':\r\n      state.isLoading = !state.isLoading\r\n      break\r\n    case 'SET_PAGES':\r\n      state.pages = action.payload\r\n      break\r\n    case 'SET_TOTAL':\r\n      state.total = action.payload\r\n      break\r\n    default:\r\n      return state\r\n  }\r\n  return state\r\n}\r\n\r\nexport const ClientProvider: React.FC = (props) => {\r\n  const [state, dispatch] = useReducer(produce(reducer), {\r\n    clients: [],\r\n    plans,\r\n    isLoading: false,\r\n    onReloadPlans: false,\r\n    pages: 0,\r\n    total: 0,\r\n  })\r\n\r\n  // useEffect(() => {\r\n  //   getPlans().then((plans) => {\r\n  //     dispatch({ type: 'ON_LOAD_PLANS', payload: plans })\r\n  //   })\r\n  // }, [state.onReloadPlans])\r\n\r\n  return (\r\n    <ClientContext.Provider value={[state, dispatch]}>\r\n      {props.children}\r\n    </ClientContext.Provider>\r\n  )\r\n}\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\providers\\PaymentProvider.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\providers\\EmployeeProvider.tsx",["442"],"import { Dispatch, createContext, useReducer, useEffect } from 'react'\r\nimport Employee from 'models/employee'\r\nimport { produce } from 'immer'\r\nimport Branch from 'models/branch'\r\nimport Position from 'models/position'\r\n\r\ninterface EmployeeState {\r\n  employees: Employee[]\r\n  isLoading: boolean\r\n  employee: Employee\r\n  branches: Branch[]\r\n  positions: Position[]\r\n  pages: number\r\n  total: number\r\n}\r\n\r\ntype EmployeeAction =\r\n  | {\r\n      type: 'ON_ADD_EMPLOYEE'\r\n      payload: Employee\r\n    }\r\n  | {\r\n      type: 'ON_GET_EMPLOYEE'\r\n      payload: number\r\n    }\r\n  | {\r\n      type: 'ON_LOAD_EMPLOYEES'\r\n      payload: { employees: Employee[]; pages?: number; total?: number }\r\n    }\r\n  | {\r\n      type: 'SET_IS_LOADING'\r\n      payload: boolean\r\n    }\r\n  | {\r\n      type: 'ON_LOAD_BRANCHES'\r\n      payload: Branch[]\r\n    }\r\n  | {\r\n      type: 'ON_LOAD_POSITIONS'\r\n      payload: Position[]\r\n    }\r\n  | {\r\n      type: 'SET_PAGES'\r\n      payload: number\r\n    }\r\n  | {\r\n      type: 'SET_TOTAL'\r\n      payload: number\r\n    }\r\n\r\nconst reducer = (state: EmployeeState, action: EmployeeAction) => {\r\n  switch (action.type) {\r\n    case 'ON_LOAD_BRANCHES':\r\n      state.branches = action.payload\r\n      break\r\n    case 'ON_LOAD_POSITIONS':\r\n      state.positions = action.payload\r\n      break\r\n    case 'ON_LOAD_EMPLOYEES':\r\n      state.employees = action.payload.employees\r\n      state.pages = action.payload.pages!\r\n      state.total = action.payload.total!\r\n      state.isLoading = false\r\n      break\r\n    case 'ON_ADD_EMPLOYEE':\r\n      state.employees = [...state.employees, action.payload]\r\n      break\r\n    case 'ON_GET_EMPLOYEE':\r\n      state.employee = state.employees.filter(\r\n        (employee) => employee.id === action.payload,\r\n      )[0]\r\n      break\r\n    case 'SET_IS_LOADING':\r\n      state.isLoading = action.payload\r\n      break\r\n    case 'SET_PAGES':\r\n      state.pages = action.payload\r\n      break\r\n    case 'SET_TOTAL':\r\n      state.total = action.payload\r\n      break\r\n    default:\r\n      return state\r\n  }\r\n  return state\r\n}\r\n\r\nexport const EmployeeContext = createContext<\r\n  [state: EmployeeState, dispatch: Dispatch<EmployeeAction>] | null\r\n>(null)\r\n\r\nexport const EmployeeProvider: React.FC = (props) => {\r\n  const [state, dispatch] = useReducer(produce(reducer), {\r\n    employees: [],\r\n    isLoading: false,\r\n    employee: {},\r\n    branches: [],\r\n    positions: [\r\n      { id: 1, name: 'Branch Manager' },\r\n      { id: 2, name: 'Agency Manager' },\r\n      { id: 3, name: 'Supervisor' },\r\n      { id: 4, name: 'Sales Agent' },\r\n    ],\r\n    pages: 0,\r\n    total: 0,\r\n  })\r\n\r\n  return (\r\n    <EmployeeContext.Provider value={[state, dispatch]}>\r\n      {props.children}\r\n    </EmployeeContext.Provider>\r\n  )\r\n}\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\providers\\CommissionProvider.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\providers\\BranchProvider.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\utils\\helper.ts",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\layout\\index.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyAlert\\index.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyNav\\index.tsx",["443"],"import * as React from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nimport Typography from '@material-ui/core/Typography'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Menu from '@material-ui/icons/Menu'\r\nimport Grid from '@material-ui/core/Grid'\r\n\r\nimport MyDrawer from 'components/common/MyDrawer'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport useScrollTrigger from '@material-ui/core/useScrollTrigger'\r\nimport Slide from '@material-ui/core/Slide'\r\nimport LinearProgress from '@material-ui/core/LinearProgress'\r\n\r\nconst Nav: React.FC = (props) => {\r\n  const [state, dispatch] = React.useContext(GlobalContext)!\r\n  const history = useHistory()\r\n  const [isActive, setIsActive] = React.useState(false)\r\n\r\n  const onToggle = (title?: string) => {\r\n    setIsActive((isActive) => !isActive)\r\n\r\n    if (!title) {\r\n      return\r\n    }\r\n    dispatch({ type: 'SET_TITLE', payload: title })\r\n  }\r\n\r\n  interface Props {\r\n    window?: () => Window\r\n    children: React.ReactElement\r\n  }\r\n\r\n  function HideOnScroll(props: Props) {\r\n    const { children, window } = props\r\n    const trigger = useScrollTrigger({ target: window ? window() : undefined })\r\n\r\n    return (\r\n      <Slide appear={false} direction='down' in={!trigger}>\r\n        {children}\r\n      </Slide>\r\n    )\r\n  }\r\n  return (\r\n    <>\r\n      <MyDrawer onToggle={onToggle} isActive={isActive} />\r\n      <HideOnScroll {...props}>\r\n        <AppBar\r\n          style={{\r\n            background:\r\n              'linear-gradient(to right, #9c27b0, #9c27b0, #9c27b0, #9c27b0, #9c27b0, #a721aa, #b119a4, #ba119e, #cb0090, #d80081, #e20672, #e91e63)',\r\n          }}\r\n        >\r\n          <Toolbar>\r\n            <Grid container xs={12} justify='center'>\r\n              <Grid container xs={1} sm={5} md={4} justify='flex-start'>\r\n                <IconButton\r\n                  onClick={() => onToggle()}\r\n                  edge='start'\r\n                  color='inherit'\r\n                  aria-label='menu'\r\n                >\r\n                  <Menu />\r\n                </IconButton>\r\n              </Grid>\r\n              <Grid container xs={11} sm={5} md={4} justify='flex-end'>\r\n                <Typography style={{ paddingTop: 8 }} variant='h6'>\r\n                  {state.title}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Toolbar>\r\n\r\n          <LinearProgress hidden={!state.isLoading} />\r\n        </AppBar>\r\n      </HideOnScroll>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Nav\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\clientService.tsx",["444","445","446"],"import Branch from 'models/branch'\r\nimport Client from 'models/client'\r\nimport Commissioner from 'models/commissioner'\r\nimport Payment from 'models/payment'\r\nimport Plan from 'models/plan'\r\nimport Profile from 'models/profile'\r\nimport { calculateAge } from 'utils/helper'\r\nimport http from 'utils/http'\r\n\r\nexport const plans: Plan[] = [\r\n  {\r\n    id: 1,\r\n    regular_price: 23280,\r\n    sr_pwd_price: 24000,\r\n    name: 'Plan 1',\r\n  },\r\n  {\r\n    id: 2,\r\n    regular_price: 32280,\r\n    sr_pwd_price: 36000,\r\n    name: 'Plan 2',\r\n  },\r\n  {\r\n    id: 3,\r\n    regular_price: 41280,\r\n    sr_pwd_price: 48000,\r\n    name: 'Plan 3',\r\n  },\r\n  {\r\n    id: 4,\r\n    regular_price: 50280,\r\n    sr_pwd_price: 60000,\r\n    name: 'Plan 4',\r\n  },\r\n  {\r\n    id: 5,\r\n    regular_price: 65280,\r\n    sr_pwd_price: 80000,\r\n    name: 'Plan 5',\r\n  },\r\n  {\r\n    id: 6,\r\n    regular_price: 83280,\r\n    sr_pwd_price: 96000,\r\n    name: 'Plan 6',\r\n  },\r\n  {\r\n    id: 7,\r\n    regular_price: 95280,\r\n    sr_pwd_price: 120000,\r\n    name: 'Plan 7',\r\n  },\r\n  {\r\n    id: 8,\r\n    regular_price: 173280,\r\n    sr_pwd_price: 200000,\r\n    name: 'Plan 8',\r\n  },\r\n]\r\n\r\nexport const getClient = async (id: number) => {\r\n  return http.get('/clients/' + id).then(({ data }) => data)\r\n}\r\n\r\nexport const getPlans = async () => {\r\n  return new Promise<Plan[]>(function (resolve, reject) {\r\n    resolve(plans)\r\n  })\r\n}\r\n\r\nexport interface ClientProps {\r\n  search?: string\r\n  category?: string\r\n  page?: number\r\n}\r\n\r\nexport const saveClient = (transaction: any) => {\r\n  return http.post('/clients', transaction).then(({ data }) => {\r\n    return data\r\n  })\r\n}\r\n\r\nexport const updateClient = (profile: Profile) => {\r\n  return http.put('/clients/' + profile.id, profile).then(({ data }) => {\r\n    return data\r\n  })\r\n}\r\n\r\nexport const getClients = async (props: ClientProps) => {\r\n  return http\r\n    .get(\r\n      `/clients?page=${props.page || ''}&search=${\r\n        props.search || ''\r\n      }&category=${props.category || ''}`\r\n    )\r\n    .then(({ data }) => {\r\n      const clients: Client[] = data.items.map((item: any) => ({\r\n        ...item.profile,\r\n        ...item,\r\n      }))\r\n      return { clients, pages: data.pages, total: data.count }\r\n    })\r\n}\r\n\r\nexport const getLapsedClients = async (search: string) => {\r\n  return http.get(`/clients/lapse?search=` + search).then(({ data }) =>\r\n    data.map((client: any) => ({\r\n      ...client.profile,\r\n      ...client,\r\n    }))\r\n  )\r\n}\r\n\r\nexport const getPrice = (client: Client) => {\r\n  const is_sr_pwd =\r\n    calculateAge(client?.profile?.birthdate) >= 60 || client?.is_pwd\r\n\r\n  const price = is_sr_pwd\r\n    ? client?.plan?.sr_pwd_price\r\n    : client?.plan?.regular_price\r\n  return price!\r\n}\r\n\r\nexport const getAmountToPay = (client: Client) => {\r\n  const price = getPrice(client)\r\n\r\n  if (client.payment_mode === 'Fullpayment') {\r\n    return price!\r\n  }\r\n\r\n  switch (client.payment_period) {\r\n    case 'Monthly':\r\n      return price! / (12 * client.years_to_pay!)\r\n    case 'Quarterly':\r\n      return price! / (4 * client.years_to_pay!)\r\n    case 'Semi-Annually':\r\n      return price! / (2 * client.years_to_pay!)\r\n    case 'Annually':\r\n      return price! / client.years_to_pay!\r\n    default:\r\n      return 0\r\n  }\r\n}\r\n\r\nexport const computeTotalCountToPay = (client: Client) => {\r\n  let period: number = 0\r\n\r\n  switch (client.payment_period) {\r\n    case 'Monthly':\r\n      period = 12\r\n      break\r\n    case 'Quarterly':\r\n      period = 4\r\n      break\r\n    case 'Semi-Annually':\r\n      period = 2\r\n      break\r\n    case 'Annually':\r\n      period = 1\r\n      break\r\n    default:\r\n      period = 12\r\n      break\r\n  }\r\n\r\n  return period * client.years_to_pay!\r\n}\r\n\r\nexport const hasCommission = (client: Client) => {\r\n  const price = getPrice(client)\r\n  const balance = client?.balance!\r\n  const percentage = Math.ceil(((price - balance) * 100) / price)\r\n  return percentage <= 20\r\n}\r\n\r\nexport const computeTotalCountPaid = (client: Client) => {\r\n  const amount = getAmountToPay(client)\r\n\r\n  const totalCountPaid = computeTotalCountToPay(client)\r\n  return (\r\n    Math.ceil(totalCountPaid - client.balance! / amount) + '/' + totalCountPaid\r\n  )\r\n}\r\n\r\nexport const archiveClient = (id: number) => {\r\n  return http.delete('/clients/' + id).then(({ data }) => data)\r\n}\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\NotFound\\index.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyDrawer\\index.tsx",["447","448","449","450"],"import React, { useState, useEffect } from 'react'\r\nimport Drawer from '@material-ui/core/Drawer'\r\nimport List from '@material-ui/core/List'\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft'\r\nimport EmployeesIcon from '@material-ui/icons/People'\r\nimport UsersIcon from '@material-ui/icons/Accessibility'\r\nimport BranchIcon from '@material-ui/icons/Business'\r\nimport ClientIcon from '@material-ui/icons/SupervisedUserCircle'\r\nimport PaymentIcon from '@material-ui/icons/Receipt'\r\nimport CommissionIcon from '@material-ui/icons/Description'\r\nimport SettingsIcon from '@material-ui/icons/Settings'\r\nimport TransactionIcon from '@material-ui/icons/Payment'\r\nimport ReleaseIcon from '@material-ui/icons/MonetizationOn'\r\nimport FaceIcon from '@material-ui/icons/Face'\r\nimport ListItem from '@material-ui/core/ListItem'\r\nimport makeStyles from '@material-ui/core/styles/makeStyles'\r\nimport ListItemText from '@material-ui/core/ListItemText'\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport Collapse from '@material-ui/core/Collapse'\r\nimport Grid from '@material-ui/core/Grid/Grid'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport { useHistory } from 'react-router-dom'\r\nimport ExpandLess from '@material-ui/icons/ExpandLess'\r\nimport ExpandMore from '@material-ui/icons/ExpandMore'\r\n\r\nimport Typography from '@material-ui/core/Typography'\r\nimport MyAlertDialog, { AlertDataProps } from '../MyAlertDialog'\r\nimport { onSignout } from 'services/authService'\r\nimport MyAvatar from '../MyAvatar'\r\nimport { getMe } from 'services/userService'\r\nimport User from 'models/user'\r\n\r\nexport interface MyDrawerProps {\r\n  isActive: boolean\r\n  onToggle: Function\r\n}\r\n\r\ninterface SubMenuProps {\r\n  name: string\r\n  path: string\r\n  icon: JSX.Element\r\n}\r\n\r\ninterface MenuProps {\r\n  name: string\r\n  subMenus: SubMenuProps[]\r\n}\r\n\r\nconst MyDrawer: React.FC<MyDrawerProps> = (props) => {\r\n  const styles = useStyles()\r\n\r\n  const history = useHistory()\r\n\r\n  const [state, dispatch] = React.useContext(GlobalContext)!\r\n\r\n  const [active, setActive] = useState('')\r\n\r\n  const stateManagementOpen = useState(false)\r\n  const stateTransactionOpen = useState(false)\r\n  const stateHistoryOpen = useState(false)\r\n  const stateSettingOpen = useState(false)\r\n\r\n  const [user, setUser] = useState<Partial<User>>({})\r\n\r\n  useEffect(() => {\r\n    getMe().then((user) => setUser(user))\r\n  }, [])\r\n\r\n  const adminMenus: MenuProps[] = [\r\n    {\r\n      name: 'Transaction',\r\n      subMenus: [\r\n        {\r\n          name: 'Encode Transaction',\r\n          path: '/transaction/encode',\r\n          icon: <TransactionIcon />,\r\n        },\r\n        {\r\n          name: 'Release Transaction',\r\n          path: '/transaction/releases',\r\n          icon: <ReleaseIcon />,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      name: 'Management',\r\n      subMenus: [\r\n        {\r\n          name: 'Branch Management',\r\n          path: '/branches',\r\n          icon: <BranchIcon />,\r\n        },\r\n        { name: 'Client Management', path: '/clients', icon: <ClientIcon /> },\r\n\r\n        {\r\n          name: 'Employee Management',\r\n          path: '/employees',\r\n          icon: <EmployeesIcon />,\r\n        },\r\n        {\r\n          name: 'User Management',\r\n          path: '/users',\r\n          icon: <UsersIcon />,\r\n        },\r\n      ],\r\n    },\r\n\r\n    {\r\n      name: 'History',\r\n      subMenus: [\r\n        {\r\n          name: 'Payment History',\r\n          path: '/payments',\r\n          icon: <PaymentIcon />,\r\n        },\r\n        {\r\n          name: 'Commission History',\r\n          path: '/commissions',\r\n          icon: <CommissionIcon />,\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      name: 'Settings',\r\n      subMenus: [\r\n        {\r\n          name: 'General Settings',\r\n          path: '/settings/general',\r\n          icon: <SettingsIcon />,\r\n        },\r\n        {\r\n          name: 'Account Settings',\r\n          path: '/settings/account',\r\n          icon: <FaceIcon />,\r\n        },\r\n      ],\r\n    },\r\n  ]\r\n\r\n  const cashierMenus = [\r\n    {\r\n      name: 'Client Registration',\r\n      path: '/clients/new',\r\n      icon: <BranchIcon />,\r\n    },\r\n    {\r\n      name: 'Employee Registration',\r\n      path: '/employees/new',\r\n      icon: <EmployeesIcon />,\r\n    },\r\n    {\r\n      name: 'Encode Transaction',\r\n      path: '/transaction/encode',\r\n      icon: <TransactionIcon />,\r\n    },\r\n    {\r\n      name: 'General Settings',\r\n      path: '/settings/general',\r\n      icon: <SettingsIcon />,\r\n    },\r\n    {\r\n      name: 'Account Settings',\r\n      path: '/settings/account',\r\n      icon: <FaceIcon />,\r\n    },\r\n  ]\r\n\r\n  const renderSubMenus = (subMenu: {\r\n    name: string\r\n    path: string\r\n    icon: JSX.Element\r\n  }) => {\r\n    return (\r\n      <List component='div' disablePadding>\r\n        <ListItem\r\n          onClick={() => {\r\n            props.onToggle(subMenu.name)\r\n            history.replace(subMenu.path)\r\n          }}\r\n          button\r\n          className={styles.nested}\r\n        >\r\n          <ListItemIcon style={{ paddingLeft: 20 }}>\r\n            {subMenu.icon}\r\n          </ListItemIcon>\r\n          <ListItemText primary={subMenu.name} />\r\n        </ListItem>\r\n      </List>\r\n    )\r\n  }\r\n\r\n  const toggleMenu = (name: string) => {\r\n    setActive((active) => (active === name ? '' : name))\r\n  }\r\n\r\n  const renderMenus = (menu: MenuProps) => {\r\n    const open = active === menu.name\r\n    return (\r\n      <>\r\n        <ListItem\r\n          style={{ paddingLeft: 30 }}\r\n          button\r\n          onClick={() => toggleMenu(menu.name)}\r\n        >\r\n          <ListItemText primary={menu.name} />\r\n          {open ? <ExpandLess /> : <ExpandMore />}\r\n        </ListItem>\r\n        <Collapse in={open} timeout='auto' unmountOnExit>\r\n          {menu.subMenus.map((subMenu) => renderSubMenus(subMenu))}\r\n        </Collapse>\r\n      </>\r\n    )\r\n  }\r\n\r\n  const [alertDialog, setAlertDialog] = useState<AlertDataProps>({})\r\n\r\n  const handleArchieve = () => {\r\n    props.onToggle()\r\n    setAlertDialog({\r\n      open: false,\r\n    })\r\n    dispatch({ type: 'SET_IS_LOADING', payload: true })\r\n    onSignout()\r\n      .then(() => {\r\n        localStorage.removeItem('access_token')\r\n        dispatch({ type: 'SET_CURRENT_USER', payload: null })\r\n        dispatch({ type: 'SET_IS_LOADING', payload: false })\r\n      })\r\n      .catch(() => {\r\n        localStorage.removeItem('access_token')\r\n        dispatch({ type: 'SET_CURRENT_USER', payload: null })\r\n        dispatch({ type: 'SET_IS_LOADING', payload: false })\r\n      })\r\n  }\r\n\r\n  return (\r\n    <Drawer\r\n      anchor='left'\r\n      open={props.isActive}\r\n      ModalProps={{ onBackdropClick: () => props.onToggle() }}\r\n    >\r\n      <MyAlertDialog\r\n        onAgree={handleArchieve}\r\n        onDisagree={() => setAlertDialog({ open: false })}\r\n        data={alertDialog}\r\n      />\r\n      <Grid container justify='flex-end'>\r\n        <IconButton\r\n          onClick={() => props.onToggle()}\r\n          edge='start'\r\n          color='inherit'\r\n          aria-label='menu'\r\n        >\r\n          <ChevronLeftIcon />\r\n        </IconButton>\r\n      </Grid>\r\n      {user?.id && (\r\n        <>\r\n          <Grid\r\n            alignItems='flex-end'\r\n            justify='center'\r\n            // xs={12}\r\n            direction='row'\r\n            style={{ paddingLeft: 10, paddingRight: 10, width: 280 }}\r\n            container\r\n          >\r\n            <Grid item container xs={4}>\r\n              <MyAvatar width={70} height={70} src={user?.image_url} />\r\n            </Grid>\r\n            <Grid\r\n              style={{ paddingLeft: 10 }}\r\n              xs={8}\r\n              item\r\n              justify='flex-start'\r\n              container\r\n              direction='column'\r\n            >\r\n              <Typography variant='subtitle1' color='textPrimary'>\r\n                {`${user?.lastname}, ${user?.firstname} ${user?.middlename}`}\r\n              </Typography>\r\n              <Typography variant='subtitle1' color='textSecondary'>\r\n                {`${user?.branch?.name} - ${user?.role}`}\r\n              </Typography>\r\n            </Grid>\r\n          </Grid>\r\n          <Divider\r\n            style={{\r\n              marginTop: 10,\r\n              marginLeft: 10,\r\n              marginRight: 10,\r\n            }}\r\n          ></Divider>\r\n        </>\r\n      )}\r\n      <List\r\n        className={styles.root}\r\n        component='nav'\r\n        aria-labelledby='nested-list-subheader'\r\n      >\r\n        {state.currentUser?.role === 'admin' &&\r\n          adminMenus.map((menu) => renderMenus(menu))}\r\n        {state.currentUser?.role === 'cashier' &&\r\n          cashierMenus.map((menu) => renderSubMenus(menu))}\r\n      </List>\r\n\r\n      <Divider\r\n        style={{\r\n          marginTop: 10,\r\n          marginLeft: 10,\r\n          marginRight: 10,\r\n        }}\r\n      ></Divider>\r\n      <ListItem style={{ paddingLeft: 30 }} button>\r\n        <ListItemText\r\n          className={styles.logout}\r\n          primary='Logout'\r\n          onClick={() => {\r\n            setAlertDialog({\r\n              text: 'Are you sure do you want to logout?',\r\n              open: true,\r\n            })\r\n          }}\r\n        />\r\n      </ListItem>\r\n    </Drawer>\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: 270,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  nested: {\r\n    paddingLeft: theme.spacing(2),\r\n  },\r\n  close: {\r\n    paddingTop: 5,\r\n    paddingRight: 5,\r\n  },\r\n  logout: {\r\n    marginTop: 10,\r\n    color: theme.palette.secondary.main,\r\n  },\r\n}))\r\n\r\nexport default MyDrawer\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyAuthRoute\\index.tsx",["451"],"import User from 'models/user'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\n\r\nimport React, { useContext } from 'react'\r\nimport { Route, Redirect, RouteProps } from 'react-router-dom'\r\nimport { getCurrentUser } from 'utils/helper'\r\n\r\nconst AuthRoute: React.FC<RouteProps & { isAdmin?: boolean }> = ({\r\n  path,\r\n  component: Component,\r\n  render,\r\n  isAdmin = false,\r\n  ...rest\r\n}) => {\r\n  const [state] = useContext(GlobalContext)!\r\n\r\n  const currentUser: User | null = getCurrentUser()\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        if (!currentUser)\r\n          return (\r\n            <Redirect\r\n              to={{\r\n                pathname: '/signin',\r\n                state: { from: props.location },\r\n              }}\r\n            />\r\n          )\r\n\r\n        if (isAdmin && currentUser?.role !== 'admin')\r\n          return (\r\n            <Redirect\r\n              to={{\r\n                pathname: '/not-found',\r\n                state: { from: props.location },\r\n              }}\r\n            />\r\n          )\r\n        \r\n        return Component ? <Component {...props} /> : render?.(props)\r\n      }}\r\n    />\r\n  )\r\n}\r\n\r\nexport default AuthRoute\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyGuestRoute\\index.tsx",["452"],"import { GlobalContext } from 'providers/GlobalProvider'\r\n\r\nimport React, { useContext } from 'react'\r\nimport { Route, Redirect, RouteProps } from 'react-router-dom'\r\nimport { getCurrentUser } from 'utils/helper'\r\n\r\nconst AuthRoute: React.FC<RouteProps & { isAdmin?: boolean }> = ({\r\n  path,\r\n  component: Component,\r\n  render,\r\n  isAdmin = false,\r\n  ...rest\r\n}) => {\r\n  const [state] = useContext(GlobalContext)!\r\n\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => {\r\n        if (getCurrentUser())\r\n          return (\r\n            <Redirect\r\n              to={{\r\n                pathname: '/',\r\n                state: { from: props.location },\r\n              }}\r\n            />\r\n          )\r\n\r\n        return Component ? <Component {...props} /> : render?.(props)\r\n      }}\r\n    />\r\n  )\r\n}\r\n\r\nexport default AuthRoute\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Employees\\EditEmployee\\index.tsx",["453","454","455","456"],"import React, { useContext, useEffect, useState } from 'react'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport validator from 'validators/saveEmployeeValidator'\r\nimport MyForm, { MyFormProps } from 'components/common/MyForm'\r\nimport Employee from 'models/employee'\r\nimport { EmployeeContext } from 'providers/EmployeeProvider'\r\nimport { getEmployee, updateEmployee } from 'services/employeeService'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera'\r\nimport { postImage } from 'services/imageService'\r\nimport { getBranches } from 'services/branchService'\r\nimport { BranchContext } from 'providers/BranchProvider'\r\n\r\nexport interface EditUserProps {}\r\n\r\nconst EditEmployee: React.SFC<EditUserProps> = () => {\r\n  const [_, globalDispatch] = useContext(GlobalContext)!\r\n\r\n  const [employeeState, employeeDispatch] = useContext(EmployeeContext)!\r\n\r\n  const [branchState, branchDispatch] = useContext(BranchContext)!\r\n\r\n  const history = useHistory()\r\n\r\n  const params = useParams<{ id: string }>()\r\n\r\n  const [isLoading, setIsLoading] = useState(false)\r\n\r\n  const [imageFile, setImageFile] = useState<HTMLImageElement | null>(null)\r\n\r\n  const [employee, setEmployee] = useState<Employee>({\r\n    address: '',\r\n    firstname: '',\r\n    middlename: '',\r\n    lastname: '',\r\n    contact: '',\r\n  })\r\n\r\n  useEffect(() => {\r\n    globalDispatch({ type: 'SET_TITLE', payload: 'Edit Employee' })\r\n    setIsLoading(true)\r\n    getEmployee(params.id).then((employee) => {\r\n      setEmployee(employee)\r\n      setIsLoading(false)\r\n    })\r\n    getBranches().then((branches) =>\r\n      branchDispatch({ type: 'ON_LOAD_BRANCHES', payload: branches })\r\n    )\r\n  }, [])\r\n\r\n  const onSubmit = async (employee: Employee) => {\r\n    return postImage(employee?.image!, (image_url: string) => {\r\n      delete employee.image\r\n\r\n      return updateEmployee({\r\n        ...employee,\r\n        image_url: !!image_url ? image_url : employee.image_url,\r\n      })\r\n        .then(() => {\r\n          globalDispatch({\r\n            type: 'SET_ALERT',\r\n            payload: { message: 'Successfully saved', type: 'success' },\r\n          })\r\n          globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n        })\r\n        .catch((error) => {\r\n          if (error.response.status === 400) {\r\n            globalDispatch({\r\n              type: 'SET_ALERT',\r\n              payload: { message: error.response.data.error, type: 'error' },\r\n            })\r\n          }\r\n          globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  const formProps: MyFormProps<Employee> = {\r\n    state: [employee, setEmployee],\r\n    onSubmit,\r\n    validator,\r\n  }\r\n\r\n  return (\r\n    <MyForm {...formProps}>\r\n      {({ mySelect, myDateTimePicker, myButton, myControlledInput }) => (\r\n        <>\r\n          {myControlledInput({\r\n            label: 'Firstname',\r\n            value: employee.firstname,\r\n            name: 'firstname',\r\n          })}\r\n          {myControlledInput({\r\n            label: 'Middlename',\r\n            value: employee.middlename,\r\n            name: 'middlename',\r\n          })}\r\n          {myControlledInput({\r\n            label: 'Lastname',\r\n            value: employee.lastname,\r\n            name: 'lastname',\r\n          })}\r\n          {myControlledInput({\r\n            label: 'Contact Number',\r\n            value: employee.contact,\r\n            name: 'contact',\r\n          })}\r\n\r\n          {myControlledInput({\r\n            label: 'Address',\r\n            value: employee.address,\r\n            name: 'address',\r\n            isMultiline: true,\r\n          })}\r\n\r\n          {myDateTimePicker({\r\n            label: 'Birthdate',\r\n            value: employee.birthdate,\r\n            name: 'birthdate',\r\n          })}\r\n\r\n          {mySelect({\r\n            label: 'Gender',\r\n            value: employee.gender,\r\n            name: 'gender',\r\n            options: [\r\n              { value: 'Male' },\r\n              { value: 'Female' },\r\n              { value: 'Other' },\r\n            ],\r\n          })}\r\n\r\n          {mySelect({\r\n            label: 'Civil Status',\r\n            value: employee.civil,\r\n            name: 'civil',\r\n            labelWidth: 80,\r\n            options: [\r\n              { value: 'Single' },\r\n              { value: 'Married' },\r\n              { value: 'Widowed' },\r\n            ],\r\n          })}\r\n\r\n          {mySelect({\r\n            label: 'Position',\r\n            value: employee.position,\r\n            name: 'position',\r\n            labelWidth: 55,\r\n            options: employeeState.positions.map((position) => ({\r\n              value: position.id,\r\n              name: position.name,\r\n            })),\r\n          })}\r\n\r\n          {mySelect({\r\n            label: 'Branch',\r\n            value: employee.branch + '',\r\n            name: 'branch',\r\n            labelWidth: 55,\r\n            options: branchState.branches.map((branch) => ({\r\n              value: branch.id,\r\n              name: branch.name,\r\n            })),\r\n          })}\r\n\r\n          {mySelect({\r\n            label: 'Status',\r\n            value: employee.status,\r\n            name: 'status',\r\n            labelWidth: 40,\r\n            options: [\r\n              { value: 'active', name: 'Active' },\r\n              { value: 'deactive', name: 'Deactive' },\r\n              { value: 'deceased', name: 'Deceased' },\r\n            ],\r\n          })}\r\n\r\n          <Grid\r\n            container\r\n            style={{\r\n              paddingLeft: 15,\r\n              paddingRight: 15,\r\n              marginBottom: 10,\r\n            }}\r\n            alignItems='center'\r\n            justify='space-between'\r\n            xs={12}\r\n          >\r\n            <Typography variant='subtitle1'>\r\n              {imageFile?.name || 'Select Photo'}\r\n            </Typography>\r\n            <>\r\n              <input\r\n                accept='image/*'\r\n                style={{\r\n                  display: 'none',\r\n                }}\r\n                name='image'\r\n                id='icon-button-file'\r\n                type='file'\r\n                onChange={(e: any) => {\r\n                  setImageFile(e.target.files[0])\r\n                }}\r\n              />\r\n              <label htmlFor='icon-button-file'>\r\n                <IconButton\r\n                  color='primary'\r\n                  aria-label='upload picture'\r\n                  component='span'\r\n                >\r\n                  <PhotoCamera />\r\n                </IconButton>\r\n              </label>\r\n            </>\r\n          </Grid>\r\n\r\n          <Grid\r\n            style={{ paddingLeft: 18, paddingTop: 10, paddingBottom: 5 }}\r\n            container\r\n            xs={12}\r\n            justify='center'\r\n            spacing={2}\r\n          >\r\n            <Grid item xs={6}>\r\n              <Button\r\n                onClick={() => history.goBack()}\r\n                fullWidth\r\n                variant='contained'\r\n                color='default'\r\n              >\r\n                BACK\r\n              </Button>\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              {myButton()}\r\n            </Grid>\r\n          </Grid>\r\n        </>\r\n      )}\r\n    </MyForm>\r\n  )\r\n}\r\nexport default EditEmployee\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Dashboard\\index.tsx",["457","458"],"import { GlobalContext } from 'providers/GlobalProvider'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport React, { useContext, useEffect, useState } from 'react'\r\nimport { BranchContext } from 'providers/BranchProvider'\r\nimport { getBranches } from 'services/branchService'\r\nimport {\r\n  getClientStats,\r\n  getStatistics,\r\n  getSalesStats,\r\n} from 'services/statisticService'\r\nimport StatisticGraph from './StatisticGraph'\r\nimport Fade from 'react-reveal/Fade'\r\nimport Scroll from 'react-scroll'\r\nimport { StatContext } from 'providers/StatisticProvider'\r\nimport { getCurrentUser } from 'utils/helper'\r\n\r\nexport interface DashboardProps {}\r\n\r\nconst Dashboard: React.SFC<DashboardProps> = () => {\r\n  const [state, dispatch] = useContext(GlobalContext)!\r\n\r\n  const [{ stat }, statDispatch] = useContext(StatContext)!\r\n\r\n  const [branchState, branchDispatch] = useContext(BranchContext)!\r\n\r\n  const scroll = Scroll.animateScroll\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: 'SET_TITLE', payload: 'Purple Supremacy' })\r\n\r\n    getBranches().then((branches) => {\r\n      branchDispatch({ type: 'ON_LOAD_BRANCHES', payload: branches })\r\n    })\r\n\r\n    if (getCurrentUser()?.role === 'admin') {\r\n      dispatch({ type: 'SET_IS_LOADING', payload: true })\r\n\r\n      getStatistics()\r\n        .then((data) => {\r\n          statDispatch({ type: 'ON_LOAD_STAT', payload: { ...stat, ...data } })\r\n\r\n          dispatch({ type: 'SET_IS_LOADING', payload: false })\r\n        })\r\n        .catch((error) => console.log(error))\r\n    }\r\n    scroll.scrollToTop({ duration: 1000 })\r\n  }, [])\r\n\r\n  const branches = [...branchState.branches]\r\n\r\n  branches.push({ id: 0, name: 'ALL BRANCHES' })\r\n\r\n  return (\r\n    <Fade delay={500}>\r\n      <Grid container justify='center' xs={12}>\r\n        <Grid\r\n          style={{ padding: 5, marginBottom: 5, paddingTop: 0 }}\r\n          container\r\n          xs={12}\r\n          direction='column'\r\n        >\r\n          <Typography component='h5' variant='h5' color='textPrimary'>\r\n            Welcome, {state.currentUser?.username || ''}\r\n          </Typography>\r\n          <Typography component='h5' variant='subtitle1' color='textSecondary'>\r\n            Today is {new Date(Date.now()).toDateString()}\r\n          </Typography>\r\n          {state?.currentUser?.role === 'admin' && (\r\n            <>\r\n              <Paper elevation={1} style={{ padding: 20, marginTop: 10 }}>\r\n                <Grid container xs={12}>\r\n                  <Grid\r\n                    alignItems='center'\r\n                    container\r\n                    direction='column'\r\n                    item\r\n                    xs={4}\r\n                  >\r\n                    <Typography\r\n                      component='h5'\r\n                      variant='subtitle1'\r\n                      color='textPrimary'\r\n                    >\r\n                      Draft\r\n                    </Typography>\r\n                    <Typography\r\n                      component='h5'\r\n                      variant='subtitle1'\r\n                      color='secondary'\r\n                    >\r\n                      {stat?.draft}\r\n                    </Typography>\r\n                  </Grid>\r\n                  <Grid\r\n                    alignItems='center'\r\n                    container\r\n                    direction='column'\r\n                    item\r\n                    xs={4}\r\n                  >\r\n                    <Typography\r\n                      component='h5'\r\n                      variant='subtitle1'\r\n                      color='textPrimary'\r\n                    >\r\n                      Lapsed\r\n                    </Typography>\r\n                    <Typography\r\n                      component='h5'\r\n                      variant='subtitle1'\r\n                      color='secondary'\r\n                    >\r\n                      {stat?.lapsed}\r\n                    </Typography>\r\n                  </Grid>\r\n                  <Grid\r\n                    alignItems='center'\r\n                    container\r\n                    direction='column'\r\n                    item\r\n                    xs={4}\r\n                  >\r\n                    <Typography\r\n                      component='h5'\r\n                      variant='subtitle1'\r\n                      color='textPrimary'\r\n                    >\r\n                      Near\r\n                    </Typography>\r\n                    <Typography\r\n                      component='h5'\r\n                      variant='subtitle1'\r\n                      color='secondary'\r\n                    >\r\n                      {stat?.near}\r\n                    </Typography>\r\n                  </Grid>\r\n                </Grid>\r\n              </Paper>\r\n            </>\r\n          )}\r\n        </Grid>\r\n        {state?.currentUser?.role === 'admin' && (\r\n          <>\r\n            <Grid spacing={1} container xs={12}>\r\n              <Grid item xs={6} direction='column'>\r\n                <Paper elevation={2} style={{ padding: 20 }}>\r\n                  <Typography\r\n                    component='h5'\r\n                    variant='subtitle1'\r\n                    color='textPrimary'\r\n                  >\r\n                    Gross Sales\r\n                  </Typography>\r\n                  <Typography\r\n                    component='h5'\r\n                    variant='subtitle1'\r\n                    color='secondary'\r\n                  >\r\n                    ₱ {stat?.grossSales || 0}\r\n                  </Typography>\r\n                </Paper>\r\n              </Grid>\r\n              <Grid item xs={6} direction='column'>\r\n                <Paper elevation={2} style={{ padding: 20 }}>\r\n                  <Typography\r\n                    component='h5'\r\n                    variant='subtitle1'\r\n                    color='textPrimary'\r\n                  >\r\n                    Net Sales\r\n                  </Typography>\r\n                  <Typography\r\n                    component='h5'\r\n                    variant='subtitle1'\r\n                    color='secondary'\r\n                  >\r\n                    ₱ {stat?.netSales}\r\n                  </Typography>\r\n                </Paper>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Grid spacing={1} style={{ marginTop: 5 }} container xs={12}>\r\n              <Grid item xs={6} direction='column'>\r\n                <Paper elevation={2} style={{ padding: 20 }}>\r\n                  <Typography\r\n                    component='h5'\r\n                    variant='subtitle1'\r\n                    color='textPrimary'\r\n                  >\r\n                    Release\r\n                  </Typography>\r\n                  <Typography\r\n                    component='h5'\r\n                    variant='subtitle1'\r\n                    color='secondary'\r\n                  >\r\n                    ₱ {stat?.releaseCommissions}\r\n                  </Typography>\r\n                </Paper>\r\n              </Grid>\r\n              <Grid item xs={6} direction='column'>\r\n                <Paper elevation={2} style={{ padding: 20 }}>\r\n                  <Typography\r\n                    component='h5'\r\n                    variant='subtitle1'\r\n                    color='textPrimary'\r\n                  >\r\n                    Unrelease\r\n                  </Typography>\r\n                  <Typography\r\n                    component='h5'\r\n                    variant='subtitle1'\r\n                    color='secondary'\r\n                  >\r\n                    ₱ {stat?.unreleaseCommissions}\r\n                  </Typography>\r\n                </Paper>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid\r\n              style={{ padding: 5, marginTop: 5 }}\r\n              item\r\n              xs={12}\r\n              direction='column'\r\n              alignItems='center'\r\n            >\r\n              <Paper elevation={2} style={{ padding: 20 }}>\r\n                <Grid container xs={12} direction='column' alignItems='center'>\r\n                  <Typography\r\n                    component='h5'\r\n                    variant='subtitle1'\r\n                    color='textPrimary'\r\n                  >\r\n                    Clients\r\n                  </Typography>\r\n                  <Typography\r\n                    component='h5'\r\n                    variant='subtitle1'\r\n                    color='secondary'\r\n                  >\r\n                    {stat?.totalClients}\r\n                  </Typography>\r\n                </Grid>\r\n              </Paper>\r\n            </Grid>\r\n\r\n            <Divider\r\n              style={{ width: '100%', marginBottom: 10, marginTop: 20 }}\r\n            ></Divider>\r\n            <StatisticGraph\r\n              title='client/s'\r\n              getData={getClientStats}\r\n              branches={branches}\r\n            />\r\n            <Divider\r\n              style={{ width: '100%', marginBottom: 10, marginTop: 20 }}\r\n            ></Divider>\r\n            <StatisticGraph\r\n              title='sales'\r\n              getData={getSalesStats}\r\n              branches={branches}\r\n            />\r\n          </>\r\n        )}\r\n      </Grid>\r\n    </Fade>\r\n  )\r\n}\r\n\r\nexport default Dashboard\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\utils\\http.ts",["459","460"],"import axios, { AxiosError } from 'axios'\r\nimport { apiUrlProd, apiUrlDev, apiUrlMobile } from 'configs/index.json'\r\nimport createAuthRefreshInterceptor from 'axios-auth-refresh'\r\n\r\n//intercept requests\r\naxios.interceptors.request.use((config) => {\r\n  config.baseURL =\r\n    process.env.NODE_ENV === 'development' ? apiUrlDev : apiUrlProd\r\n\r\n  const access_token = localStorage.getItem('access_token')\r\n\r\n  if (access_token) {\r\n    config.headers.Authorization = `Bearer ${access_token}`\r\n  }\r\n  config.withCredentials = true\r\n\r\n  return config\r\n})\r\n\r\naxios.interceptors.response.use(\r\n  (response) => response,\r\n  (error: AxiosError) => {\r\n    if (\r\n      error.message === 'Network Error' ||\r\n      error.message === 'Internal Server Error'\r\n    ) {\r\n      throw Error(error.message)\r\n    }\r\n\r\n    throw error\r\n  }\r\n)\r\n\r\ncreateAuthRefreshInterceptor(\r\n  axios,\r\n  (failedRequest) => {\r\n    return axios\r\n      .get('/auth/refresh-token')\r\n      .then(({ data }) => {\r\n        localStorage.setItem('access_token', data.access_token)\r\n        return Promise.resolve()\r\n      })\r\n      .catch((error) => {\r\n        if (error.response.status === 406) {\r\n          localStorage.removeItem('access_token')\r\n          window.location.href = '/signin'\r\n        }\r\n        console.log(error.response)\r\n      })\r\n  },\r\n  {\r\n    statusCodes: [403],\r\n    // pauseInstanceWhileRefreshing: true,\r\n  }\r\n)\r\n\r\nexport default {\r\n  get: axios.get,\r\n  post: axios.post,\r\n  put: axios.put,\r\n  delete: axios.delete,\r\n  axios: axios.create(),\r\n}\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Clients\\EditClient\\index.tsx",["461","462","463","464"],"import { useHistory, useParams } from 'react-router-dom'\r\nimport { useContext, useEffect, useState } from 'react'\r\nimport MyForm, { MyFormProps } from 'components/common/MyForm'\r\nimport validator from 'validators/saveProfileValidator'\r\nimport Profile from 'models/profile'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Button from '@material-ui/core/Button'\r\nimport { ClientContext } from 'providers/ClientProvider'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { postImage } from 'services/imageService'\r\nimport { getClient, updateClient } from 'services/clientService'\r\n\r\nexport interface EditClientProps {}\r\n\r\nconst EditClient: React.SFC<EditClientProps> = () => {\r\n  const history = useHistory()\r\n  const params = useParams<{ id: string }>()\r\n\r\n  const [_, globalDispatch] = useContext(GlobalContext)!\r\n\r\n  const [clientState, clientDispatch] = useContext(ClientContext)!\r\n\r\n  const [imageFile, setImageFile] = useState<HTMLImageElement | null>(null)\r\n\r\n  const [profile, setProfile] = useState<Profile>({\r\n    firstname: '',\r\n    middlename: '',\r\n    lastname: '',\r\n    address: '',\r\n    contact: '',\r\n  })\r\n\r\n  useEffect(() => {\r\n    globalDispatch({ type: 'SET_TITLE', payload: 'Edit Client Profile' })\r\n    getClient(+params.id).then((client) =>\r\n      setProfile({ ...client.profile, id: client.id })\r\n    )\r\n  }, [])\r\n\r\n  const onSubmit = async (profile: Profile) => {\r\n    return postImage(profile?.image!, (image_url: string) => {\r\n      delete profile.image\r\n\r\n      return updateClient({\r\n        ...profile,\r\n        image_url: !!image_url ? image_url : profile.image_url,\r\n      })\r\n        .then(() => {\r\n          globalDispatch({\r\n            type: 'SET_ALERT',\r\n            payload: { message: 'Successfully saved', type: 'success' },\r\n          })\r\n          globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n        })\r\n        .catch((error) => {\r\n          if (error.response.status === 400) {\r\n            globalDispatch({\r\n              type: 'SET_ALERT',\r\n              payload: { message: error.response.data.error, type: 'error' },\r\n            })\r\n          }\r\n          globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  const formProps: MyFormProps<Profile> = {\r\n    state: [profile, setProfile],\r\n    onSubmit,\r\n    validator,\r\n  }\r\n\r\n  return (\r\n    <MyForm {...formProps}>\r\n      {({ myControlledInput, mySelect, myDateTimePicker, myButton }) => (\r\n        <>\r\n          {myControlledInput({\r\n            label: 'Firstname',\r\n            value: profile?.firstname,\r\n            name: 'firstname',\r\n          })}\r\n          {myControlledInput({\r\n            label: 'Middlename',\r\n            value: profile?.middlename,\r\n            name: 'middlename',\r\n          })}\r\n          {myControlledInput({\r\n            label: 'Lastname',\r\n            value: profile?.lastname,\r\n            name: 'lastname',\r\n          })}\r\n          {myControlledInput({\r\n            label: 'Contact Number',\r\n            value: profile?.contact,\r\n            name: 'contact',\r\n          })}\r\n\r\n          {myControlledInput({\r\n            label: 'Address',\r\n            value: profile?.address,\r\n            name: 'address',\r\n            isMultiline: true,\r\n          })}\r\n          {mySelect({\r\n            label: 'Gender',\r\n            value: profile?.gender,\r\n            name: 'gender',\r\n            options: [\r\n              { value: 'Male' },\r\n              { value: 'Female' },\r\n              { value: 'Other' },\r\n            ],\r\n          })}\r\n\r\n          {mySelect({\r\n            label: 'Civil Status',\r\n            value: profile?.civil,\r\n            name: 'civil',\r\n            labelWidth: 80,\r\n            options: [\r\n              { value: 'Single' },\r\n              { value: 'Married' },\r\n              { value: 'Widowed' },\r\n            ],\r\n          })}\r\n\r\n          {myDateTimePicker({\r\n            label: 'Birthdate',\r\n            value: profile?.birthdate,\r\n            name: 'birthdate',\r\n          })}\r\n\r\n          <Grid\r\n            container\r\n            style={{\r\n              paddingLeft: 15,\r\n              paddingRight: 15,\r\n              marginBottom: 10,\r\n            }}\r\n            alignItems='center'\r\n            justify='space-between'\r\n            xs={12}\r\n          >\r\n            <Typography variant='subtitle1'>\r\n              {imageFile?.name || 'Select Photo'}\r\n            </Typography>\r\n            <>\r\n              <input\r\n                accept='image/*'\r\n                style={{\r\n                  display: 'none',\r\n                }}\r\n                name='image'\r\n                id='icon-button-file'\r\n                type='file'\r\n                onChange={(e: any) => {\r\n                  setImageFile(e.target.files[0])\r\n                }}\r\n              />\r\n              <label htmlFor='icon-button-file'>\r\n                <IconButton\r\n                  color='primary'\r\n                  aria-label='upload picture'\r\n                  component='span'\r\n                >\r\n                  <PhotoCamera />\r\n                </IconButton>\r\n              </label>\r\n            </>\r\n          </Grid>\r\n\r\n          <Grid\r\n            style={{ paddingLeft: 18, paddingTop: 10, paddingBottom: 5 }}\r\n            container\r\n            xs={12}\r\n            justify='center'\r\n            spacing={2}\r\n          >\r\n            <Grid item xs={6}>\r\n              <Button\r\n                onClick={() => history.goBack()}\r\n                fullWidth\r\n                variant='contained'\r\n                color='default'\r\n              >\r\n                BACK\r\n              </Button>\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              {myButton()}\r\n            </Grid>\r\n          </Grid>\r\n        </>\r\n      )}\r\n    </MyForm>\r\n  )\r\n}\r\n\r\nexport default EditClient\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Clients\\NewClient\\index.tsx",["465","466","467","468","469"],"import React, { useContext, useEffect, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Profile from 'models/profile'\r\nimport Client from 'models/client'\r\nimport Commissioner from 'models/commissioner'\r\nimport { ClientStepOne } from './ClientStepOne'\r\nimport { ClientStepTwo } from './ClientStepTwo'\r\nimport MyStepper, { useStepper } from 'components/common/MyStepper'\r\nimport { ClientStepThree } from './ClientStepThree'\r\nimport Scroll from 'react-scroll'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport Payment from 'models/payment'\r\nimport { postImage } from 'services/imageService'\r\nimport { saveClient } from 'services/clientService'\r\nimport { getEmployees } from 'services/employeeService'\r\nimport Employee from 'models/employee'\r\nimport { getBranches } from 'services/branchService'\r\nimport { BranchContext } from 'providers/BranchProvider'\r\nimport { getUnread } from 'services/notificationService'\r\nimport { NotificationContext } from 'providers/NotificationProvider'\r\nimport { calculateAge } from 'utils/helper'\r\n\r\nexport interface NewClientProps {}\r\n\r\nconst NewClient: React.SFC<NewClientProps> = () => {\r\n  const [{ currentUser }, globalDispatch] = useContext(GlobalContext)!\r\n  const [notifState, notifDispatch] = useContext(NotificationContext)!\r\n\r\n  const scroll = Scroll.animateScroll\r\n\r\n  const [employees, setEmployees] = useState<Employee[]>([])\r\n\r\n  useEffect(() => {\r\n    globalDispatch({ type: 'SET_TITLE', payload: 'Client Registration' })\r\n    scroll.scrollToTop({ duration: 500 })\r\n    getEmployees({ category: 'active' }).then((employees) => {\r\n      setEmployees(employees)\r\n      if (employees?.length <= 0) {\r\n        globalDispatch({\r\n          type: 'SET_ALERT',\r\n          payload: {\r\n            message: `No employee is registered in ${currentUser?.branch?.name}`,\r\n            type: 'error',\r\n          },\r\n        })\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  const history = useHistory()\r\n\r\n  const stepper = useStepper([\r\n    'Create Profile Account',\r\n    'Select All Commissioners',\r\n    'Select Plan And Payment',\r\n  ])\r\n\r\n  const [profile, setProfile] = React.useState<Profile>({})\r\n\r\n  const [commissioner, setCommissioner] = React.useState<Commissioner>({\r\n    position: 'sales_agent',\r\n  })\r\n\r\n  const [client, setClient] = React.useState<Client & Payment>({\r\n    years_to_pay: 5,\r\n    created_at: new Date(Date.now()),\r\n    is_pwd: false,\r\n  })\r\n\r\n  const onNextOne = async (profile: Profile) => {\r\n    scroll.scrollToTop({ duration: 500 })\r\n\r\n    setProfile(profile)\r\n    stepper.handleNext()\r\n  }\r\n\r\n  const onNextTwo = async (commissioner: Commissioner) => {\r\n    const insured_employee = commissioner[commissioner.position] ?? 0\r\n\r\n    if (!insured_employee) {\r\n      globalDispatch({\r\n        type: 'SET_ALERT',\r\n        payload: {\r\n          message:\r\n            'Sales Agent is not present! Please select another employee.',\r\n          type: 'error',\r\n        },\r\n      })\r\n\r\n      return\r\n    }\r\n\r\n    scroll.scrollToTop({ duration: 500 })\r\n\r\n    setClient((client) => ({ ...client, insured_employee }))\r\n\r\n    setCommissioner(commissioner)\r\n\r\n    stepper.handleNext()\r\n  }\r\n\r\n  const onNextThree = async (client: Client & Payment) => {\r\n    scroll.scrollToTop({ duration: 500 })\r\n\r\n    const transaction = {\r\n      ...profile,\r\n      ...client,\r\n      ...commissioner,\r\n      branch: getBranchId(+commissioner?.branch_manager!),\r\n    }\r\n\r\n    return postImage(transaction?.image!, (image_url: string) => {\r\n      transaction.image_url = image_url\r\n      delete transaction.image\r\n\r\n      return saveClient(transaction)\r\n        .then(() => {\r\n          globalDispatch({\r\n            type: 'SET_ALERT',\r\n            payload: { message: 'Successfully added', type: 'success' },\r\n          })\r\n          globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n          getUnread().then((data) => {\r\n            notifDispatch({ type: 'ON_LOAD_UNREAD', payload: data.count })\r\n          })\r\n          stepper.handleNext()\r\n        })\r\n        .catch((error) => {\r\n          if (error.response.status === 400) {\r\n            globalDispatch({\r\n              type: 'SET_ALERT',\r\n              payload: { message: error.response.data.error, type: 'error' },\r\n            })\r\n            return\r\n          }\r\n          globalDispatch({\r\n            type: 'SET_ALERT',\r\n            payload: { message: error.message, type: 'error' },\r\n          })\r\n          globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n        })\r\n    })\r\n  }\r\n\r\n  const getBranchId = (employeeId: number) => {\r\n    return employees.filter((employee) => employee.id === employeeId)[0].branch\r\n      ?.id\r\n  }\r\n\r\n  const onAddNew = () => {\r\n    stepper.handleReset()\r\n    setProfile({})\r\n    setCommissioner({\r\n      position: 'sales_agent',\r\n    })\r\n    setClient({\r\n      years_to_pay: 5,\r\n      created_at: new Date(Date.now()),\r\n      is_pwd: false,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <MyStepper {...stepper} />\r\n      {stepper.activeStep === 0 && (\r\n        <ClientStepOne onNext={onNextOne} state={[profile, setProfile]} />\r\n      )}\r\n      {stepper.activeStep === 1 && (\r\n        <ClientStepTwo\r\n          employees={employees}\r\n          onBack={() => stepper.handleBack()}\r\n          onNext={onNextTwo}\r\n          state={[commissioner, setCommissioner]}\r\n        />\r\n      )}\r\n      {stepper.activeStep === 2 && (\r\n        <ClientStepThree\r\n          onBack={() => {\r\n            stepper.handleBack()\r\n            setClient({\r\n              years_to_pay: 5,\r\n              created_at: new Date(Date.now()),\r\n              is_pwd: false,\r\n            })\r\n          }}\r\n          onNext={onNextThree}\r\n          state={[{ ...client, profile }, setClient]}\r\n        />\r\n      )}\r\n\r\n      {stepper.activeStep === 3 && (\r\n        <Grid container xs={12} direction='column' alignItems='center'>\r\n          <Typography component='h6' variant='subtitle1'>\r\n            All Steps Completed!\r\n          </Typography>\r\n          <Grid spacing={2} item container xs={12}>\r\n            <Grid item xs={6}>\r\n              {currentUser?.role === 'admin' && (\r\n                <Button\r\n                  onClick={() => history.replace('/clients')}\r\n                  style={{ marginTop: 10 }}\r\n                  fullWidth\r\n                  variant='contained'\r\n                  color='default'\r\n                >\r\n                  CLIENT LIST\r\n                </Button>\r\n              )}\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              <Button\r\n                onClick={onAddNew}\r\n                style={{ marginTop: 10 }}\r\n                fullWidth\r\n                variant='contained'\r\n                color='primary'\r\n              >\r\n                ADD NEW\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default NewClient\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Payments\\index.tsx",["470","471"],"import { useContext, useEffect, useState } from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport MyChips, { MyChip } from 'components/common/MyChips'\r\nimport MySearchField from 'components/common/MySearchField'\r\nimport { PaymentContext } from 'providers/PaymentProvider'\r\nimport { getPayments } from 'services/paymentService'\r\nimport PaymentCard from './PaymentCard'\r\nimport Pagination from '@material-ui/lab/Pagination'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport qs from 'query-string'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport MySkeletonCards from 'components/common/MySkeletonCards'\r\n\r\nexport interface PaymentHistoryProps {}\r\n\r\nconst PaymentHistory: React.SFC<PaymentHistoryProps> = () => {\r\n  const [_, globalDispatch] = useContext(GlobalContext)!\r\n  const [paymentState, paymentDispatch] = useContext(PaymentContext)!\r\n\r\n  const [chip, setChip] = useState<MyChip>({ value: '', name: 'All' })\r\n\r\n  const [page, setPage] = useState(1)\r\n\r\n  const location = useLocation()\r\n\r\n  const history = useHistory()\r\n\r\n  useEffect(() => {\r\n    globalDispatch({ type: 'SET_TITLE', payload: 'Payment History' })\r\n\r\n    const { page, search } = qs.parse(location.search)\r\n    const currentPage = !!page ? +page : 1\r\n    setPage(currentPage)\r\n    onLoad({\r\n      page: currentPage,\r\n      search: (search as string) || '',\r\n    })\r\n    return () => {\r\n      globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n    }\r\n  }, [])\r\n\r\n  const chips = [{ value: '', name: 'All' }]\r\n\r\n  const onPage = (e: any, page: number) => {\r\n    paymentDispatch({ type: 'SET_TOTAL', payload: 0 })\r\n    setPage(page)\r\n    onLoad({ page, category: chip.value })\r\n    history.push('/payments?page=' + page)\r\n  }\r\n\r\n  interface LoadProps {\r\n    search?: string\r\n    category?: string\r\n    page: number\r\n  }\r\n\r\n  const onLoad = ({ page, search, category }: LoadProps) => {\r\n    globalDispatch({ type: 'SET_IS_LOADING', payload: true })\r\n    paymentDispatch({ type: 'SET_IS_LOADING', payload: true })\r\n    getPayments({ page, search, category })\r\n      .then(({ payments, total, pages }) => {\r\n        paymentDispatch({\r\n          type: 'ON_LOAD_PAYMENTS',\r\n          payload: { payments, total, pages },\r\n        })\r\n        globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n      })\r\n      .catch(() => globalDispatch({ type: 'SET_IS_LOADING', payload: false }))\r\n  }\r\n\r\n  const onSearch = (search: string) => {\r\n    setChip({ value: '', name: 'All' })\r\n    onLoad({ page: 1, search })\r\n    setPage(1)\r\n  }\r\n\r\n  const onFilter = (chip: MyChip) => {\r\n    paymentDispatch({ type: 'SET_TOTAL', payload: 0 })\r\n    setChip(chip)\r\n    onLoad({ page: 1, category: chip.value })\r\n    setPage(1)\r\n    history.push('/payments?page=' + 1)\r\n  }\r\n\r\n  const isLoading = paymentState.isLoading && !paymentState.payments.length\r\n\r\n  return (\r\n    <>\r\n      <MySearchField\r\n        labelWidth={160}\r\n        label='Name / Code / Branch'\r\n        onSearch={onSearch}\r\n        style={{ marginBottom: 15 }}\r\n      />\r\n      <MyChips\r\n        count={paymentState.total}\r\n        onChipSelected={onFilter}\r\n        active={chip}\r\n        chips={chips}\r\n      />\r\n      {isLoading && <MySkeletonCards />}\r\n      {!isLoading && (\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          direction='column'\r\n          justify='flex-start'\r\n          alignItems='center'\r\n        >\r\n          {paymentState.payments.map((payment) => (\r\n            <Grid key={payment.id} item xs={12}>\r\n              <PaymentCard payment={payment} />\r\n            </Grid>\r\n          ))}\r\n          <Pagination\r\n            style={{ marginTop: 15, marginBottom: 15 }}\r\n            variant='outlined'\r\n            color='primary'\r\n            count={paymentState.pages}\r\n            siblingCount={0}\r\n            page={page}\r\n            onChange={onPage}\r\n          />\r\n        </Grid>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PaymentHistory\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Employees\\ViewEmployee\\index.tsx",["472","473","474","475","476"],"import React, { useState, useEffect, useContext } from 'react'\r\nimport Link from '@material-ui/core/Link'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport Badge from '@material-ui/core/Badge'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport { calculateAge, capitalize } from 'utils/helper'\r\nimport { Theme, createStyles, makeStyles } from '@material-ui/core/styles'\r\nimport MyCard from 'components/common/MyCard'\r\nimport Employee from 'models/employee'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport Client from 'models/client'\r\nimport MyAvatar from 'components/common/MyAvatar'\r\nimport { getEmployee } from 'services/employeeService'\r\nimport MySkeletonCard from 'components/common/MySkeletonCard'\r\nimport MyMiniCards from 'components/common/MyMiniCards'\r\nimport MySkeletonMiniCards from 'components/common/MySkeletonMiniCards'\r\nimport { EmployeeContext } from 'providers/EmployeeProvider'\r\n\r\nexport interface ViewUserProps {\r\n  title: string\r\n}\r\n\r\nconst ViewEmployee: React.SFC<ViewUserProps> = (props) => {\r\n  const history = useHistory()\r\n  const styles = useStyles()\r\n  const params = useParams<{ id: string }>()\r\n  const [_, dispatch] = useContext(GlobalContext)!\r\n  const [employeeState] = useContext(EmployeeContext)!\r\n\r\n  const [employee, setEmployee] = useState<Employee>()\r\n\r\n  const [isLoading, setIsLoading] = useState(false)\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: 'SET_TITLE', payload: 'View Employee' })\r\n    setIsLoading(true)\r\n    getEmployee(params.id).then((employee) => {\r\n      setEmployee(employee)\r\n      setIsLoading(false)\r\n    })\r\n  }, [])\r\n\r\n  const detail = (title: string, subtitle: any) => (\r\n    <Grid container alignItems='center' direction='column' item xs={6}>\r\n      <Typography component='h6' variant='h6'>\r\n        {title}\r\n      </Typography>\r\n      <Typography variant='subtitle1' color='textSecondary'>\r\n        {subtitle}\r\n      </Typography>\r\n    </Grid>\r\n  )\r\n\r\n  const handleSelected = (client: Client) => {\r\n    history.push('/clients/' + client.id)\r\n  }\r\n\r\n  const branch = employeeState.branches.filter(\r\n    (branch) => branch.id === employee?.branch\r\n  )[0]\r\n\r\n  const position = employeeState.positions.filter(\r\n    (position) => position.id === employee?.position\r\n  )[0]\r\n\r\n  const renderClients = (clients: Client[]) => {\r\n    return (\r\n      <>\r\n        <Grid\r\n          container\r\n          style={{ marginTop: 20, marginBottom: 10 }}\r\n          xs={12}\r\n          justify='space-between'\r\n        >\r\n          {!!count && (\r\n            <Badge badgeContent={count! >= 100 ? '99+' : count} color='primary'>\r\n              <Typography variant='subtitle1'>Clients</Typography>\r\n            </Badge>\r\n          )}\r\n          {/* <Link\r\n            component='button'\r\n            variant='body1'\r\n            onClick={() => history.push('/clients')}\r\n          >\r\n            View All({clients.length})\r\n          </Link> */}\r\n        </Grid>\r\n        <MyMiniCards onSelected={handleSelected} items={clients}>\r\n          {({ renderCards, item }) => (\r\n            <>\r\n              {renderCards({\r\n                item,\r\n                title: `${item.lastname}, ${item.firstname}`,\r\n                subtitle: item.code!,\r\n                src: item.image_url,\r\n              })}\r\n            </>\r\n          )}\r\n        </MyMiniCards>\r\n      </>\r\n    )\r\n  }\r\n\r\n  const count = employee?.clients?.length || 0\r\n\r\n  return (\r\n    <>\r\n      {isLoading && (\r\n        <>\r\n          <MySkeletonCard />\r\n          <Grid container style={{ marginBottom: 10 }} xs={12}>\r\n            <Badge badgeContent={count! >= 100 ? '99+' : count} color='primary'>\r\n              <Typography variant='subtitle1'>Clients</Typography>\r\n            </Badge>\r\n            {/* <Link component='button' variant='body1'>\r\n                View All({employee?.clients?.length})\r\n              </Link> */}\r\n            <MySkeletonMiniCards />\r\n          </Grid>\r\n        </>\r\n      )}\r\n      {!isLoading && employee && (\r\n        <>\r\n          <MyCard title={'Employee#' + employee.id}>\r\n            <CardContent>\r\n              <Grid container xs={12} justify='space-between'>\r\n                <Grid\r\n                  style={{ paddingLeft: 10 }}\r\n                  container\r\n                  direction='column'\r\n                  item\r\n                  xs={7}\r\n                  justify='flex-start'\r\n                >\r\n                  <Typography component='h6' variant='h6'>\r\n                    {`${employee.lastname}, ${employee.firstname} ${employee.middlename}`}\r\n                  </Typography>\r\n                  <Typography variant='subtitle1' color='textSecondary'>\r\n                    {position?.name}\r\n                  </Typography>\r\n                  <Typography variant='subtitle1' color='textSecondary'>\r\n                    {branch?.name}\r\n                  </Typography>\r\n                  <Grid item xs={1}>\r\n                    <Chip\r\n                      style={{ marginTop: 5 }}\r\n                      size='small'\r\n                      label={employee.status}\r\n                      variant='default'\r\n                      color={\r\n                        employee.status !== 'active' ? 'secondary' : 'primary'\r\n                      }\r\n                    />\r\n                  </Grid>\r\n                </Grid>\r\n                <Grid\r\n                  container\r\n                  item\r\n                  xs={5}\r\n                  justify='center'\r\n                  alignItems='center'\r\n                >\r\n                  <MyAvatar src={employee.image_url} />\r\n                </Grid>\r\n              </Grid>\r\n            </CardContent>\r\n            <Divider style={{ marginLeft: 20, marginRight: 20 }}></Divider>\r\n            <CardContent>\r\n              <Grid spacing={1} container xs={12} style={{ paddingLeft: 10 }}>\r\n                {detail('Gender', employee.gender)}\r\n                {detail('Civil Status', employee.civil)}\r\n                {detail('Contact', employee.contact)}\r\n                {detail(\r\n                  'Age',\r\n                  employee.birthdate ? calculateAge(employee.birthdate) : 'N/A'\r\n                )}\r\n                {\r\n                  <Grid\r\n                    container\r\n                    alignItems='center'\r\n                    direction='column'\r\n                    item\r\n                    xs={12}\r\n                  >\r\n                    <Typography component='h6' variant='h6'>\r\n                      Address\r\n                    </Typography>\r\n                    <Typography variant='subtitle1' color='textSecondary'>\r\n                      {employee.address}\r\n                    </Typography>\r\n                  </Grid>\r\n                }\r\n              </Grid>\r\n            </CardContent>\r\n          </MyCard>\r\n          {renderClients(employee.clients!)}\r\n          <Grid\r\n            style={{\r\n              paddingLeft: 18,\r\n              paddingTop: 10,\r\n              paddingBottom: 5,\r\n            }}\r\n            container\r\n            xs={12}\r\n            justify='center'\r\n            spacing={2}\r\n          >\r\n            <Grid item xs={6}>\r\n              <Button\r\n                onClick={() => history.goBack()}\r\n                style={{ paddingTop: 15, paddingBottom: 15 }}\r\n                fullWidth\r\n                variant='contained'\r\n                color='default'\r\n              >\r\n                BACK\r\n              </Button>\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              <Button\r\n                onClick={() => history.push('/employees/edit/' + employee.id)}\r\n                style={{ paddingTop: 15, paddingBottom: 15 }}\r\n                fullWidth\r\n                variant='contained'\r\n                color='primary'\r\n              >\r\n                EDIT\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    avatar: {\r\n      backgroundColor: theme.palette.secondary.main,\r\n    },\r\n  })\r\n)\r\n\r\nexport default ViewEmployee\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Clients\\index.tsx",["477","478"],"import MySearchField from 'components/common/MySearchField'\r\nimport { Theme, createStyles, makeStyles } from '@material-ui/core/styles'\r\n\r\nimport Pagination from '@material-ui/lab/Pagination'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\nimport ClientCard from './ClientCard'\r\nimport { useContext, useEffect, useState } from 'react'\r\nimport { getClients, ClientProps, archiveClient } from 'services/clientService'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport { ClientContext } from 'providers/ClientProvider'\r\nimport MySkeletonCards from 'components/common/MySkeletonCards'\r\nimport MyChips, { MyChip } from 'components/common/MyChips'\r\nimport MyAlertDialog, { AlertDataProps } from 'components/common/MyAlertDialog'\r\n\r\nimport qs from 'query-string'\r\nimport Scroll from 'react-scroll'\r\nimport Client from 'models/client'\r\n\r\nexport interface ClientsProps {}\r\n\r\nconst Clients: React.SFC<ClientsProps> = () => {\r\n  const [clientState, clientDispatch] = useContext(ClientContext)!\r\n\r\n  const [globalState, globalDispatch] = useContext(GlobalContext)!\r\n\r\n  const styles = useStyles()\r\n\r\n  const location = useLocation()\r\n\r\n  const scroll = Scroll.animateScroll\r\n\r\n  const history = useHistory()\r\n\r\n  const [page, setPage] = useState(1)\r\n\r\n  const [chip, setChip] = useState<MyChip>({ value: '', name: 'All' })\r\n\r\n  useEffect(() => {\r\n    globalDispatch({ type: 'SET_TITLE', payload: 'Client Management' })\r\n    const { page, search } = qs.parse(location.search)\r\n    const currentPage = !!page ? +page : 1\r\n    setPage(currentPage)\r\n    onLoad({\r\n      page: currentPage,\r\n      search: (search as string) || '',\r\n    })\r\n    return () => {\r\n      globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n    }\r\n  }, [])\r\n\r\n  const onLoad = ({ page, category, search }: ClientProps) => {\r\n    clientDispatch({ type: 'SET_IS_LOADING', payload: true })\r\n    globalDispatch({ type: 'SET_IS_LOADING', payload: true })\r\n    getClients({ page, category, search }).then(({ clients, pages, total }) => {\r\n      clientDispatch({\r\n        type: 'ON_LOAD_CLIENTS',\r\n        payload: { clients, pages, total },\r\n      })\r\n      globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n      scroll.scrollToTop({ duration: 1000 })\r\n    })\r\n  }\r\n\r\n  const onFilter = (chip: MyChip) => {\r\n    clientDispatch({ type: 'SET_TOTAL', payload: 0 })\r\n    setChip(chip)\r\n    setPage(1)\r\n    onLoad({ page: 1, category: chip.value })\r\n    if (!!chip.value) {\r\n      history.push('/clients')\r\n    }\r\n  }\r\n\r\n  const onPage = (e: any, page: number) => {\r\n    clientDispatch({ type: 'SET_TOTAL', payload: 0 })\r\n    setPage(page)\r\n    onLoad({ page, category: chip.value })\r\n    history.push('/clients?page=' + page)\r\n  }\r\n\r\n  const onSearch = (search: string) => {\r\n    setChip({ value: '', name: 'All' })\r\n    setPage(1)\r\n    onLoad({ page: 1, search })\r\n    history.push('/clients?search=' + search)\r\n  }\r\n\r\n  const isLoading = clientState.isLoading && !clientState.clients.length\r\n\r\n  const chips: MyChip[] = [\r\n    { value: '', name: 'All' },\r\n    { value: 'lapse', name: 'Lapsed' },\r\n    { value: 'near', name: 'Near' },\r\n    { value: 'on', name: 'On Commission' },\r\n    { value: 'no', name: 'No Commission' },\r\n    { value: 'installment', name: 'Installment' },\r\n    { value: 'fullpayment', name: 'Fullpayment' },\r\n  ]\r\n\r\n  const [alertDialog, setAlertDialog] = useState<AlertDataProps>({})\r\n\r\n  const [client, setClient] = useState<Client>()\r\n\r\n  const handleSelectedClient = (client: Client) => {\r\n    setClient(client)\r\n    setAlertDialog({\r\n      open: true,\r\n      text: `Are you sure you want to archive ${client.lastname}, ${client.firstname} ${client.middlename}?`,\r\n      description:\r\n        'Archiving will not permanently delete the client account in the database.',\r\n    })\r\n  }\r\n\r\n  const handleArchieve = () => {\r\n    archiveClient(client?.id!).then((data) => {\r\n      onLoad({\r\n        page,\r\n      })\r\n      globalDispatch({\r\n        type: 'SET_ALERT',\r\n        payload: { message: 'Successfully archived', type: 'success' },\r\n      })\r\n      setChip({ value: '', name: 'All' })\r\n    })\r\n    setAlertDialog({\r\n      open: false,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <MyAlertDialog\r\n        onAgree={handleArchieve}\r\n        onDisagree={() => setAlertDialog({ open: false })}\r\n        data={alertDialog}\r\n      />\r\n      <MySearchField\r\n        labelWidth={160}\r\n        label='Name / Code / Branch'\r\n        onSearch={onSearch}\r\n        style={{ marginBottom: 5 }}\r\n      />\r\n\r\n      <MyChips\r\n        count={clientState.total}\r\n        onChipSelected={onFilter}\r\n        active={chip}\r\n        chips={chips}\r\n      ></MyChips>\r\n\r\n      {isLoading && <MySkeletonCards />}\r\n      {!isLoading && (\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          direction='column'\r\n          justify='flex-start'\r\n          alignItems='center'\r\n        >\r\n          {clientState.clients.map((client) => (\r\n            <Grid key={client.id} item xs={12}>\r\n              <ClientCard\r\n                onArchieve={handleSelectedClient}\r\n                key={client.id}\r\n                client={client}\r\n              />\r\n            </Grid>\r\n          ))}\r\n          <Pagination\r\n            style={{ marginTop: 15, marginBottom: 15 }}\r\n            variant='outlined'\r\n            color='primary'\r\n            count={clientState.pages}\r\n            siblingCount={0}\r\n            page={page}\r\n            onChange={onPage}\r\n          />\r\n        </Grid>\r\n      )}\r\n\r\n      <Fab\r\n        onClick={() => history.push('/clients/new')}\r\n        className={styles.fab}\r\n        color='primary'\r\n        aria-label='add'\r\n      >\r\n        <AddIcon />\r\n      </Fab>\r\n    </>\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    fab: {\r\n      position: 'fixed',\r\n      bottom: 60,\r\n      right: 20,\r\n    },\r\n  })\r\n)\r\n\r\nexport default Clients\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Branches\\NewBranch\\index.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Branches\\index.tsx",["479","480"],"import Grid from '@material-ui/core/Grid'\r\nimport { BranchContext } from 'providers/BranchProvider'\r\nimport { useContext, useEffect, useState } from 'react'\r\nimport { archiveBranch, getBranches } from 'services/branchService'\r\nimport BranchCard from './BranchCard'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport { useHistory } from 'react-router-dom'\r\nimport MySearchField from 'components/common/MySearchField'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport MyAlertDialog, { AlertDataProps } from 'components/common/MyAlertDialog'\r\nimport Branch from 'models/branch'\r\nimport MySkeletonCards from 'components/common/MySkeletonCards'\r\n\r\nexport interface BranchesProps {}\r\n\r\nconst Branches: React.SFC<BranchesProps> = () => {\r\n  const [branchState, branchDispatch] = useContext(BranchContext)!\r\n\r\n  const [globalState, globalDispatch] = useContext(GlobalContext)!\r\n\r\n  const history = useHistory()\r\n\r\n  useEffect(() => {\r\n    globalDispatch({ type: 'SET_TITLE', payload: 'Branch Management' })\r\n    onLoad()\r\n    return () => {\r\n      globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n    }\r\n  }, [])\r\n\r\n  const onLoad = (search?: string) => {\r\n    globalDispatch({ type: 'SET_IS_LOADING', payload: true })\r\n    branchDispatch({ type: 'SET_IS_LOADING', payload: true })\r\n    getBranches(search)\r\n      .then((branches) => {\r\n        branchDispatch({\r\n          type: 'ON_LOAD_BRANCHES',\r\n          payload: branches,\r\n        })\r\n        globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n      })\r\n      .catch(() => globalDispatch({ type: 'SET_IS_LOADING', payload: false }))\r\n  }\r\n\r\n  const onSearch = (value: string) => {\r\n    onLoad(value)\r\n  }\r\n\r\n  const [alertDialog, setAlertDialog] = useState<AlertDataProps>({})\r\n\r\n  const [branch, setBranch] = useState<Branch>()\r\n\r\n  const handleSelectedClient = (branch: Branch) => {\r\n    setBranch(branch)\r\n    setAlertDialog({\r\n      open: true,\r\n      text: `Are you sure you want to archive ${branch.name}?`,\r\n      description:\r\n        'Archieving will not permanently delete the branch account in the database.',\r\n    })\r\n  }\r\n\r\n  const handleArchieve = () => {\r\n    archiveBranch(branch?.id!).then((data) => {\r\n      onLoad()\r\n      globalDispatch({\r\n        type: 'SET_ALERT',\r\n        payload: { message: 'Successfully archived', type: 'error' },\r\n      })\r\n    })\r\n    setAlertDialog({\r\n      open: false,\r\n    })\r\n  }\r\n\r\n  const isLoading = branchState.isLoading && !branchState.branches.length\r\n\r\n  return (\r\n    <>\r\n      <MyAlertDialog\r\n        onAgree={handleArchieve}\r\n        onDisagree={() => setAlertDialog({ open: false })}\r\n        data={alertDialog}\r\n      />\r\n      <MySearchField onSearch={onSearch} style={{ marginBottom: 20 }} />\r\n      {isLoading && <MySkeletonCards />}\r\n      {!isLoading && (\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          direction='column'\r\n          justify='flex-start'\r\n          alignItems='center'\r\n        >\r\n          {branchState.branches.map((branch) => (\r\n            <Grid key={branch.id} item xs={12}>\r\n              <BranchCard\r\n                onArchive={handleSelectedClient}\r\n                branch={branch}\r\n              ></BranchCard>\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n      )}\r\n\r\n      <Fab\r\n        style={{\r\n          position: 'fixed',\r\n          bottom: 60,\r\n          right: 20,\r\n        }}\r\n        onClick={() => history.push('/branches/new')}\r\n        color='primary'\r\n        aria-label='add'\r\n      >\r\n        <AddIcon />\r\n      </Fab>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Branches\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Clients\\ViewClient\\index.tsx",["481","482"],"import React, { useState, useEffect, useContext } from 'react'\r\n\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport { calculateAge, toMoney } from 'utils/helper'\r\nimport MyCard from 'components/common/MyCard'\r\nimport Client from 'models/client'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\n\r\nimport { getClient, computeTotalCountPaid } from 'services/clientService'\r\nimport MySkeletonCard from 'components/common/MySkeletonCard'\r\nimport MyAvatar from 'components/common/MyAvatar'\r\n\r\nexport interface ViewClientProps {}\r\n\r\nconst ViewClient: React.SFC<ViewClientProps> = () => {\r\n  const history = useHistory()\r\n\r\n  const { id } = useParams<{ id: string }>()\r\n\r\n  const [_, globalDispatch] = useContext(GlobalContext)!\r\n\r\n  const [client, setClient] = useState<Client>()\r\n\r\n  const [isLoading, setIsLoading] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true)\r\n    globalDispatch({ type: 'SET_TITLE', payload: 'View Client' })\r\n    getClient(+id).then((client) => {\r\n      setClient(client)\r\n      setIsLoading(false)\r\n    })\r\n  }, [])\r\n\r\n  const detail = (title: string, subtitle: any) => (\r\n    <Grid container alignItems='center' direction='column' item xs={6}>\r\n      <Typography component='h6' variant='h6'>\r\n        {title}\r\n      </Typography>\r\n      <Typography variant='subtitle1' color='textSecondary'>\r\n        {subtitle}\r\n      </Typography>\r\n    </Grid>\r\n  )\r\n\r\n  const isSenior = calculateAge(client?.profile?.birthdate) >= 60\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <MySkeletonCard />}\r\n      {client && !isLoading && (\r\n        <>\r\n          <MyCard title={'Code#' + client.code}>\r\n            <CardContent>\r\n              <Grid container xs={12} justify='space-between'>\r\n                <Grid\r\n                  style={{ paddingLeft: 10 }}\r\n                  container\r\n                  direction='column'\r\n                  item\r\n                  xs={7}\r\n                  justify='flex-start'\r\n                >\r\n                  <Typography component='h6' variant='h6'>\r\n                    {`${client?.profile?.lastname}, ${client?.profile?.firstname} ${client?.profile?.middlename}`}\r\n                  </Typography>\r\n                  <Typography variant='subtitle1' color='textSecondary'>\r\n                    {client.plan?.name! + ' - ' + client.payment_mode}\r\n                  </Typography>\r\n                  {client.payment_mode === 'Installment' && (\r\n                    <>\r\n                      <Typography variant='caption' color='textSecondary'>\r\n                        {'Lapse on ' +\r\n                          new Date(client.next_payment!).toDateString()}\r\n                      </Typography>\r\n                      <Grid item xs={1}>\r\n                        <Chip\r\n                          style={{ marginTop: 5 }}\r\n                          size='small'\r\n                          label={computeTotalCountPaid(client) + ' Paid'}\r\n                          color='default'\r\n                          variant='outlined'\r\n                        />\r\n                        <Chip\r\n                          style={{ marginTop: 5 }}\r\n                          size='small'\r\n                          label={`${isSenior ? 'senior' : 'non-senior'} / ${\r\n                            client?.is_pwd ? 'pwd' : 'non-pwd'\r\n                          }`}\r\n                          color='default'\r\n                          variant='outlined'\r\n                        />\r\n                      </Grid>\r\n                    </>\r\n                  )}\r\n                </Grid>\r\n                <Grid\r\n                  container\r\n                  item\r\n                  xs={5}\r\n                  justify='center'\r\n                  alignItems='center'\r\n                >\r\n                  <MyAvatar src={client?.profile?.image_url} />\r\n                </Grid>\r\n              </Grid>\r\n            </CardContent>\r\n            <Divider style={{ marginLeft: 20, marginRight: 20 }}></Divider>\r\n            <CardContent>\r\n              <Grid spacing={1} container xs={12} style={{ paddingLeft: 10 }}>\r\n                {detail('Period ', client.payment_period)}\r\n                {detail('Balance', toMoney(client.balance!))}\r\n                {detail('Branch', client?.branch?.name!)}\r\n                {detail(\r\n                  'Insured',\r\n                  new Date(client.created_at!).toLocaleDateString()\r\n                )}\r\n              </Grid>\r\n            </CardContent>\r\n            <Divider style={{ marginLeft: 20, marginRight: 20 }}></Divider>\r\n            <CardContent>\r\n              <Grid spacing={1} container xs={12} style={{ paddingLeft: 10 }}>\r\n                {detail('Gender', client?.profile?.gender)}\r\n                {detail('Civil Status', client?.profile?.civil)}\r\n                {detail(\r\n                  'Contact',\r\n                  client?.profile?.contact ? client?.profile?.contact : 'N/A'\r\n                )}\r\n                {detail(\r\n                  'Age',\r\n                  client?.profile?.birthdate\r\n                    ? calculateAge(client?.profile?.birthdate)\r\n                    : 'N/A'\r\n                )}\r\n\r\n                <Grid\r\n                  container\r\n                  alignItems='center'\r\n                  direction='column'\r\n                  item\r\n                  xs={12}\r\n                >\r\n                  <Typography component='h6' variant='h6'>\r\n                    Address\r\n                  </Typography>\r\n                  <Typography variant='subtitle1' color='textSecondary'>\r\n                    {client?.profile?.address\r\n                      ? client?.profile?.address\r\n                      : 'N/A'}\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n            </CardContent>\r\n          </MyCard>\r\n          <Grid\r\n            style={{ paddingLeft: 18, paddingTop: 10, paddingBottom: 5 }}\r\n            container\r\n            xs={12}\r\n            justify='center'\r\n            spacing={2}\r\n          >\r\n            <Grid item xs={6}>\r\n              <Button\r\n                onClick={() => history.goBack()}\r\n                style={{ paddingTop: 15, paddingBottom: 15 }}\r\n                fullWidth\r\n                variant='contained'\r\n                color='default'\r\n              >\r\n                BACK\r\n              </Button>\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              <Button\r\n                onClick={() => history.push('/clients/edit/' + client.id)}\r\n                style={{ paddingTop: 15, paddingBottom: 15 }}\r\n                fullWidth\r\n                variant='contained'\r\n                color='primary'\r\n              >\r\n                EDIT\r\n              </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ViewClient\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Employees\\index.tsx",["483","484"],"import React, { useContext, useEffect, useState } from 'react'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\n\r\nimport Pagination from '@material-ui/lab/Pagination'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport AddIcon from '@material-ui/icons/Add'\r\n\r\nimport { Theme, createStyles, makeStyles } from '@material-ui/core/styles'\r\n\r\nimport EmployeeCard from './EmployeeCard'\r\nimport MySearchField from 'components/common/MySearchField'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport { EmployeeContext } from 'providers/EmployeeProvider'\r\nimport { getEmployees, GetEmployeesProps } from 'services/employeeService'\r\nimport MySkeletonCards from 'components/common/MySkeletonCards'\r\nimport MyChips, { MyChip } from 'components/common/MyChips'\r\nimport Scroll from 'react-scroll'\r\nimport qs from 'query-string'\r\nimport MyAlertDialog, { AlertDataProps } from 'components/common/MyAlertDialog'\r\nimport { archiveEmployee } from 'services/employeeService'\r\nimport Employee from 'models/employee'\r\n\r\nexport interface EmployeesProps {}\r\n\r\nconst Employees: React.SFC<EmployeesProps> = () => {\r\n  const [_, globalDispatch] = useContext(GlobalContext)!\r\n  const [employeeState, employeeDispatch] = useContext(EmployeeContext)!\r\n\r\n  const scroll = Scroll.animateScroll\r\n\r\n  const history = useHistory()\r\n\r\n  const location = useLocation()\r\n\r\n  const [page, setPage] = useState(1)\r\n\r\n  const [chip, setChip] = useState<MyChip>({ value: '', name: 'All' })\r\n\r\n  const styles = useStyles()\r\n\r\n  useEffect(() => {\r\n    globalDispatch({ type: 'SET_TITLE', payload: 'Employee Management' })\r\n    const { page, search } = qs.parse(location.search)\r\n    const currentPage = !!page ? +page : 1\r\n    setPage(currentPage)\r\n    onLoad({\r\n      page: currentPage,\r\n      search: (search as string) || '',\r\n    })\r\n    return () => {\r\n      globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n    }\r\n  }, [])\r\n\r\n  const onLoad = ({ page, category, search }: GetEmployeesProps) => {\r\n    globalDispatch({ type: 'SET_IS_LOADING', payload: true })\r\n    employeeDispatch({ type: 'SET_IS_LOADING', payload: true })\r\n    getEmployees({ page, category, search }).then(\r\n      ({ employees, pages, total }) => {\r\n        employeeDispatch({\r\n          type: 'ON_LOAD_EMPLOYEES',\r\n          payload: { employees, pages, total },\r\n        })\r\n        globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n        scroll.scrollToTop({ duration: 1000 })\r\n      }\r\n    )\r\n  }\r\n\r\n  const onFilter = (chip: MyChip) => {\r\n    setChip(chip)\r\n    employeeDispatch({ type: 'SET_TOTAL', payload: 0 })\r\n    setPage(1)\r\n    onLoad({ page: 1, category: chip.value })\r\n  }\r\n\r\n  const onPage = (e: any, page: number) => {\r\n    employeeDispatch({ type: 'SET_TOTAL', payload: 0 })\r\n    setPage(page)\r\n    onLoad({ page, category: chip.value })\r\n    history.push('/employees?page=' + page)\r\n  }\r\n\r\n  const onSearch = (search: string) => {\r\n    setChip({ value: '', name: 'All' })\r\n    setPage(1)\r\n    onLoad({ page: 1, search })\r\n    history.push('/employees?search=' + search)\r\n  }\r\n\r\n  const isLoading = employeeState.isLoading && !employeeState.employees.length\r\n\r\n  const chips: MyChip[] = [\r\n    { value: '', name: 'All' },\r\n    { value: 'active', name: 'Active' },\r\n    { value: 'deactive', name: 'Deactive' },\r\n    { value: 'deceased', name: 'Deceased' },\r\n    { value: 1, name: 'Branch Manager' },\r\n    { value: 2, name: 'Agency Manager' },\r\n    { value: 3, name: 'Supervisor' },\r\n    { value: 4, name: 'Sales Agent' },\r\n  ]\r\n\r\n  const [alertDialog, setAlertDialog] = useState<AlertDataProps>({})\r\n\r\n  const [employee, setEmployee] = useState<Employee>()\r\n\r\n  const handleSelectedEmployee = (employee: Employee) => {\r\n    setEmployee(employee)\r\n    setAlertDialog({\r\n      open: true,\r\n      text: `Are you sure you want to archive ${employee.lastname}, ${employee.firstname} ${employee.middlename}?`,\r\n      description:\r\n        'Archiving will not permanently delete the employee account in the database.',\r\n    })\r\n  }\r\n\r\n  const handleArchive = () => {\r\n    archiveEmployee(employee?.id!).then((data) => {\r\n      onLoad({\r\n        page,\r\n      })\r\n      globalDispatch({\r\n        type: 'SET_ALERT',\r\n        payload: { message: 'Successfully archived', type: 'success' },\r\n      })\r\n      setChip({ value: '', name: 'All' })\r\n    })\r\n    setAlertDialog({\r\n      open: false,\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <MyAlertDialog\r\n        onAgree={handleArchive}\r\n        onDisagree={() => setAlertDialog({ open: false })}\r\n        data={alertDialog}\r\n      />\r\n      <MySearchField\r\n        label='Name / Branch'\r\n        labelWidth={110}\r\n        onSearch={onSearch}\r\n        style={{ marginBottom: 5 }}\r\n      />\r\n\r\n      <MyChips\r\n        count={employeeState.total}\r\n        active={chip}\r\n        onChipSelected={onFilter}\r\n        chips={chips}\r\n      />\r\n\r\n      {isLoading && <MySkeletonCards />}\r\n      {!isLoading && (\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          direction='column'\r\n          justify='flex-start'\r\n          alignItems='center'\r\n        >\r\n          {employeeState.employees.map((employee) => (\r\n            <Grid item xs={12}>\r\n              <EmployeeCard\r\n                onArchive={handleSelectedEmployee}\r\n                employee={employee}\r\n              />\r\n            </Grid>\r\n          ))}\r\n          <Pagination\r\n            style={{ marginTop: 15, marginBottom: 15 }}\r\n            variant='outlined'\r\n            color='primary'\r\n            count={employeeState.pages}\r\n            siblingCount={0}\r\n            page={page}\r\n            onChange={onPage}\r\n          />\r\n        </Grid>\r\n      )}\r\n\r\n      <Fab\r\n        onClick={() => history.push('/employees/new')}\r\n        className={styles.fab}\r\n        color='primary'\r\n        aria-label='add'\r\n      >\r\n        <AddIcon />\r\n      </Fab>\r\n    </>\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    fab: {\r\n      position: 'fixed',\r\n      bottom: 60,\r\n      right: 20,\r\n    },\r\n  })\r\n)\r\n\r\nexport default Employees\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Payments\\PaymentView\\index.tsx",["485","486","487","488","489","490"],"import MyCard from 'components/common/MyCard'\r\nimport { useContext, useEffect, useState } from 'react'\r\nimport Link from '@material-ui/core/Link'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport Payment from 'models/payment'\r\nimport { getPayment, getPayments } from 'services/paymentService'\r\nimport { PaymentContext } from 'providers/PaymentProvider'\r\nimport MyAvatar from 'components/common/MyAvatar'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport MyMiniCards from 'components/common/MyMiniCards'\r\nimport Commission from 'models/commission'\r\nimport MySkeletonCard from 'components/common/MySkeletonCard'\r\nimport MySkeletonMiniCards from 'components/common/MySkeletonMiniCards'\r\n\r\nexport interface PaymentViewProps {}\r\n\r\nconst PaymentView: React.SFC<PaymentViewProps> = () => {\r\n  const history = useHistory()\r\n  const params = useParams<{ id: string }>()\r\n  const [payment, setPayment] = useState<Payment>({})\r\n  const [isLoading, setIsLoading] = useState(true)\r\n\r\n  const [globalState, globalDispatch] = useContext(GlobalContext)!\r\n\r\n  useEffect(() => {\r\n    globalDispatch({ type: 'SET_TITLE', payload: 'Payment Details' })\r\n    globalDispatch({ type: 'SET_IS_LOADING', payload: true })\r\n\r\n    getPayment(+params.id)\r\n      .then((payment) => {\r\n        setPayment(payment)\r\n        globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n        setIsLoading(false)\r\n      })\r\n      .catch(() => {\r\n        globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n        setIsLoading(false)\r\n      })\r\n    return () => {\r\n      globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n      setIsLoading(false)\r\n    }\r\n  }, [])\r\n\r\n  const client = payment.client\r\n  const fullname = `${client?.profile?.lastname}, ${client?.profile?.firstname} ${client?.profile?.middlename}`\r\n\r\n  const insured_at = new Date(payment?.client?.created_at!)\r\n  // const hasCommission =\r\n  //   new Date(insured_at.setFullYear(insured_at.getFullYear() + 1)) >=\r\n  //   new Date(Date.now())\r\n\r\n  const handleSelected = (commission: Commission) => {\r\n    // history.push('/clients/' + client.id)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {isLoading && (\r\n        <>\r\n          <MySkeletonCard height={110} />\r\n          <Grid\r\n            container\r\n            style={{ marginBottom: 10 }}\r\n            xs={12}\r\n            justify='space-between'\r\n          >\r\n            <Typography variant='subtitle1'>Commissioners</Typography>\r\n            <Link component='button' variant='body1'>\r\n              View All({payment?.commissions?.length})\r\n            </Link>\r\n            <MySkeletonMiniCards />\r\n          </Grid>\r\n        </>\r\n      )}\r\n      {!isLoading && (\r\n        <>\r\n          <MyCard\r\n            title={'OR#' + payment.or_number}\r\n            style={{ paddingBottom: 5, marginBottom: 10 }}\r\n          >\r\n            <CardContent>\r\n              <Grid xs={12} direction='row' container>\r\n                <Grid item xs={7}>\r\n                  <Typography component='h3' variant='h6'>\r\n                    {fullname}\r\n                  </Typography>\r\n                  <Typography variant='subtitle1' color='textSecondary'>\r\n                    {payment.client?.branch?.name}\r\n                  </Typography>\r\n                  <Typography variant='subtitle1' color='textSecondary'>\r\n                    {'₱ ' + payment.amount}\r\n                  </Typography>\r\n                  <Typography variant='caption' color='textSecondary'>\r\n                    {'Paid on ' + new Date(payment?.created_at!).toDateString()}\r\n                  </Typography>\r\n                </Grid>\r\n                <Grid\r\n                  container\r\n                  item\r\n                  xs={5}\r\n                  justify='center'\r\n                  alignItems='center'\r\n                >\r\n                  <MyAvatar src={payment?.client?.profile?.image_url} />\r\n                </Grid>\r\n              </Grid>\r\n            </CardContent>\r\n          </MyCard>\r\n\r\n          {!!payment?.commissions?.length && (\r\n            <>\r\n              <Typography variant='subtitle1'>Commissioners</Typography>\r\n              <MyMiniCards\r\n                style={{ marginBottom: 15, marginTop: 10 }}\r\n                onSelected={handleSelected}\r\n                items={payment?.commissions!}\r\n              >\r\n                {({ renderCards, item }) => (\r\n                  <>\r\n                    {renderCards({\r\n                      item,\r\n                      title: `${item.employee?.profile?.lastname}, ${item.employee?.profile?.firstname} (${item.employee?.position?.name})`,\r\n                      subtitle: '₱ ' + item.amount!,\r\n                      src: item.employee?.profile?.image_url,\r\n                    })}\r\n                  </>\r\n                )}\r\n              </MyMiniCards>\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n      <Grid item xs={6}>\r\n        <Button\r\n          onClick={() => history.goBack()}\r\n          fullWidth\r\n          variant='contained'\r\n          color='default'\r\n        >\r\n          BACK\r\n        </Button>\r\n      </Grid>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PaymentView\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Commissions\\index.tsx",["491","492","493","494","495","496","497","498","499","500","501"],"import { CommissionContext } from 'providers/CommissionProvider'\r\nimport { useContext, useEffect, useState } from 'react'\r\nimport { getCommissions } from 'services/commissionService'\r\nimport MyChips, { MyChip } from 'components/common/MyChips'\r\nimport MySearchField from 'components/common/MySearchField'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport CommissionCard from './CommissionCard'\r\nimport Pagination from '@material-ui/lab/Pagination'\r\nimport { useLocation, useHistory } from 'react-router-dom'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport MySkeletonCards from 'components/common/MySkeletonCards'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Button from '@material-ui/core/Button'\r\nimport ExpandMore from '@material-ui/icons/ExpandMore'\r\nimport { BranchContext } from 'providers/BranchProvider'\r\nimport { getBranches } from 'services/branchService'\r\nimport Branch from 'models/branch'\r\n\r\nexport interface CommissionsProps {}\r\n\r\ninterface LoadProps {\r\n  search?: string\r\n  category?: string\r\n  page: number\r\n}\r\n\r\nconst Commissions: React.SFC<CommissionsProps> = () => {\r\n  const [_, globalDispatch] = useContext(GlobalContext)!\r\n\r\n  const [branchState, branchDispatch] = useContext(BranchContext)!\r\n\r\n  const [commissionState, commissionDispatch] = useContext(CommissionContext)!\r\n\r\n  const [chip, setChip] = useState<MyChip>({ value: '', name: 'All' })\r\n\r\n  const [page, setPage] = useState(1)\r\n\r\n  const location = useLocation()\r\n\r\n  const history = useHistory()\r\n\r\n  useEffect(() => {\r\n    globalDispatch({ type: 'SET_TITLE', payload: 'Commission History' })\r\n\r\n    onLoad({ page: 1 })\r\n    return () => {\r\n      globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n    }\r\n  }, [])\r\n\r\n  const onLoad = ({ page, search, category }: LoadProps) => {\r\n    globalDispatch({ type: 'SET_IS_LOADING', payload: true })\r\n    commissionDispatch({ type: 'SET_IS_LOADING', payload: true })\r\n    getCommissions({ page, search, category })\r\n      .then(({ commissions, total, pages }) => {\r\n        commissionDispatch({\r\n          type: 'ON_LOAD_COMMISSIONS',\r\n          payload: { commissions, total, pages },\r\n        })\r\n        globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n      })\r\n      .catch(() => globalDispatch({ type: 'SET_IS_LOADING', payload: false }))\r\n  }\r\n\r\n  const onSearch = (search: string) => {\r\n    setChip({ value: '', name: 'All' })\r\n    onLoad({ page: 1, search })\r\n    setPage(1)\r\n  }\r\n\r\n  const onFilter = (chip: MyChip) => {\r\n    commissionDispatch({ type: 'SET_TOTAL', payload: 0 })\r\n    setChip(chip)\r\n    onLoad({ page: 1, category: chip.value })\r\n    setPage(1)\r\n    history.push('/commissions?page=' + 1)\r\n  }\r\n\r\n  const chips = [\r\n    { value: '', name: 'All' },\r\n    { value: 'release', name: 'Release' },\r\n    { value: 'unrelease', name: 'Unrelease' },\r\n  ]\r\n\r\n  const onPage = (e: any, page: number) => {\r\n    commissionDispatch({ type: 'SET_TOTAL', payload: 0 })\r\n    setPage(page)\r\n    onLoad({ page, category: chip.value })\r\n    history.push('/commissions?page=' + page)\r\n  }\r\n  const isLoading =\r\n    commissionState.isLoading && !commissionState.commissions.length\r\n\r\n  return (\r\n    <>\r\n      <MySearchField\r\n        label='Name'\r\n        labelWidth={45}\r\n        onSearch={onSearch}\r\n        style={{ marginBottom: 10 }}\r\n      />\r\n      <MyChips\r\n        count={commissionState.total}\r\n        onChipSelected={onFilter}\r\n        active={chip}\r\n        chips={chips}\r\n      />\r\n\r\n      {isLoading && <MySkeletonCards />}\r\n      {!isLoading && (\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          direction='column'\r\n          justify='flex-start'\r\n          alignItems='center'\r\n        >\r\n          {commissionState.commissions.map((commission) => (\r\n            <Grid key={commission.id} item xs={12}>\r\n              <CommissionCard commission={commission} />\r\n            </Grid>\r\n          ))}\r\n          <Pagination\r\n            style={{ marginTop: 15, marginBottom: 15 }}\r\n            variant='outlined'\r\n            color='primary'\r\n            count={commissionState.pages}\r\n            siblingCount={0}\r\n            page={page}\r\n            onChange={onPage}\r\n          />\r\n        </Grid>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Commissions\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Branches\\EditBranch\\index.tsx",["502","503"],"import Grid from '@material-ui/core/Grid'\r\nimport Button from '@material-ui/core/Button'\r\nimport MyForm, { MyFormProps } from 'components/common/MyForm'\r\nimport Branch from 'models/branch'\r\nimport { useEffect, useState } from 'react'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport validator from 'validators/saveBranchValidator'\r\nimport { getBranch, saveBranch, updateBranch } from 'services/branchService'\r\n\r\nexport interface NewBranchProps {}\r\n\r\nconst EditBranch: React.SFC<NewBranchProps> = () => {\r\n  const [branch, setBranch] = useState<Branch>({\r\n    name: '',\r\n    contact: '',\r\n    address: '',\r\n  })\r\n\r\n  const history = useHistory()\r\n\r\n  const params = useParams<{ id: string }>()\r\n\r\n  useEffect(() => {\r\n    getBranch(+params.id).then((branch) => setBranch(branch))\r\n  }, [])\r\n\r\n  const onSubmit = async (branch: Branch) => {\r\n    updateBranch(branch).then((data) => console.log(data))\r\n  }\r\n\r\n  const formProps: MyFormProps<Branch> = {\r\n    state: [branch, setBranch],\r\n    onSubmit,\r\n    validator,\r\n  }\r\n\r\n  return (\r\n    <MyForm {...formProps}>\r\n      {({ myButton, myControlledInput }) => (\r\n        <>\r\n          {myControlledInput({\r\n            label: 'Branch Name',\r\n            value: branch?.name,\r\n            name: 'name',\r\n          })}\r\n          {myControlledInput({\r\n            label: 'Contact',\r\n            value: branch?.contact,\r\n            name: 'contact',\r\n          })}\r\n\r\n          {myControlledInput({\r\n            label: 'Address',\r\n            value: branch?.address,\r\n            name: 'address',\r\n            isMultiline: true,\r\n          })}\r\n\r\n          <Grid\r\n            style={{ paddingLeft: 18, paddingTop: 10, paddingBottom: 5 }}\r\n            container\r\n            xs={12}\r\n            justify='center'\r\n            spacing={2}\r\n          >\r\n            <Grid item xs={6}>\r\n              <Button\r\n                onClick={() => history.goBack()}\r\n                fullWidth\r\n                variant='contained'\r\n                color='default'\r\n              >\r\n                BACK\r\n              </Button>\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              {myButton()}\r\n            </Grid>\r\n          </Grid>\r\n        </>\r\n      )}\r\n    </MyForm>\r\n  )\r\n}\r\n\r\nexport default EditBranch\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Auth\\SignIn\\index.tsx",["504","505","506","507"],"import Grid from '@material-ui/core/Grid'\r\nimport MyForm, { MyFormProps } from 'components/common/MyForm'\r\nimport User from 'models/user'\r\nimport { onSignIn } from 'services/authService'\r\nimport validator from 'validators/signInValidator'\r\nimport { Theme, createStyles, makeStyles } from '@material-ui/core/styles'\r\nimport Fade from 'react-reveal/Fade'\r\nimport { useContext, useEffect, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport logo from 'assets/logo.jpg'\r\n\r\nimport { getCurrentUser, saveToken, nameCapitalize } from 'utils/helper'\r\n\r\nexport interface SignInProps {}\r\n\r\nconst SignIn: React.SFC<SignInProps> = () => {\r\n  const styles = useStyles()\r\n\r\n  const [state, dispatch] = useContext(GlobalContext)!\r\n\r\n  const history = useHistory()\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: 'SET_TITLE', payload: 'BRAND NAME' })\r\n  }, [])\r\n\r\n  const [user, setUser] = useState<User>({\r\n    username: '',\r\n    password: '',\r\n  })\r\n\r\n  const onSubmit = async (user: User) => {\r\n    return onSignIn(user)\r\n      .then((access_token) => {\r\n        saveToken(access_token)\r\n        const currentUser = getCurrentUser()\r\n        dispatch({ type: 'SET_CURRENT_USER', payload: currentUser })\r\n        // dispatch({\r\n        //   type: 'SET_ALERT',\r\n        //   payload: {\r\n        //     message: `Welcome, ${nameCapitalize(currentUser.username)}`,\r\n        //     type: 'success',\r\n        //   },\r\n        // })\r\n      })\r\n      .catch(({ response }) => {\r\n        if (response.status === 401) {\r\n          dispatch({\r\n            type: 'SET_ALERT',\r\n            payload: {\r\n              message: response.data.error,\r\n              type: 'error',\r\n            },\r\n          })\r\n        }\r\n      })\r\n  }\r\n  const formProps: MyFormProps<User> = {\r\n    state: [user, setUser],\r\n    onSubmit,\r\n    validator,\r\n  }\r\n\r\n  return (\r\n    <Grid\r\n      style={{ minHeight: 450 }}\r\n      justify='space-between'\r\n      container\r\n      direction='column'\r\n      xs={12}\r\n    >\r\n      <Grid\r\n        style={{ marginTop: 20 }}\r\n        direction='row'\r\n        container\r\n        justify='center'\r\n        alignItems='flex-start'\r\n      >\r\n        <Fade delay={500}>\r\n          <img\r\n            style={{\r\n              paddingLeft: 20,\r\n              paddingRight: 20,\r\n              zIndex: 1,\r\n              borderRadius: 10,\r\n              backgroundColor: 'white',\r\n              marginTop: 30,\r\n              boxShadow:\r\n                '0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)',\r\n            }}\r\n            width={250}\r\n            src={logo}\r\n            alt='brand logo'\r\n          />\r\n        </Fade>\r\n      </Grid>\r\n\r\n      <div className={styles.formContainer}>\r\n        <MyForm {...formProps}>\r\n          {({ myInput, myButton }) => (\r\n            <>\r\n              {myInput({\r\n                label: 'Username',\r\n                value: user.username,\r\n                name: 'username',\r\n              })}\r\n              {myInput({\r\n                label: 'Password',\r\n                value: user.password,\r\n                name: 'password',\r\n                type: 'password',\r\n              })}\r\n\r\n              {myButton('LOGIN')}\r\n            </>\r\n          )}\r\n        </MyForm>\r\n      </div>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n  createStyles({\r\n    formContainer: {\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      justifyContent: 'flex-end',\r\n      marginTop: 50,\r\n      paddingLeft: 20,\r\n      paddingRight: 20,\r\n    },\r\n  })\r\n)\r\n\r\nexport default SignIn\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Transactions\\ReleaseTransaction\\index.tsx",["508","509","510","511","512","513","514","515","516","517","518"],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Transactions\\EncodeTransaction\\index.tsx",["519","520","521","522"],"import Grid from '@material-ui/core/Grid'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport {\r\n  getAmountToPay,\r\n  getLapsedClients,\r\n  getClients,\r\n  computeTotalCountPaid,\r\n} from 'services/clientService'\r\nimport MyMiniCards from 'components/common/MyMiniCards'\r\nimport MySearchField from 'components/common/MySearchField'\r\nimport MyAvatar from 'components/common/MyAvatar'\r\nimport Client from 'models/client'\r\nimport { ClientContext } from 'providers/ClientProvider'\r\nimport { useContext, useEffect, useState } from 'react'\r\nimport CommissionersForm from './TransactionForm'\r\nimport TransactionModel from 'models/transaction'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport MySkeletonMiniCards from 'components/common/MySkeletonMiniCards'\r\nimport { getEmployees } from 'services/employeeService'\r\nimport Employee from 'models/employee'\r\nimport {\r\n  getRecentCommissionerByClient,\r\n  savePayments,\r\n} from 'services/paymentService'\r\nimport { getUnread } from 'services/notificationService'\r\nimport { NotificationContext } from 'providers/NotificationProvider'\r\nimport { calculateAge, toElipse } from 'utils/helper'\r\n\r\nexport interface TransactionProps {}\r\n\r\nconst Transaction: React.SFC<TransactionProps> = () => {\r\n  const [clientState, clientDispatch] = useContext(ClientContext)!\r\n  const [notifState, notifDispatch] = useContext(NotificationContext)!\r\n\r\n  const [globalState, globalDispatch] = useContext(GlobalContext)!\r\n\r\n  const [employees, setEmployees] = useState<Employee[]>([])\r\n\r\n  const [transaction, setTransaction] = useState<TransactionModel>({\r\n    position: 'sales_agent',\r\n    amount: 0,\r\n    is_pwd: false,\r\n  })\r\n\r\n  const onLoadClients = () => {\r\n    globalDispatch({ type: 'SET_IS_LOADING', payload: true })\r\n    clientDispatch({ type: 'SET_IS_LOADING', payload: true })\r\n    getLapsedClients('').then((clients) => {\r\n      clientDispatch({\r\n        type: 'ON_LOAD_CLIENTS',\r\n        payload: { clients },\r\n      })\r\n      globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    globalDispatch({ type: 'SET_TITLE', payload: 'Encode Transaction' })\r\n\r\n    onLoadClients()\r\n\r\n    getEmployees({ category: 'active' }).then((employees) => {\r\n      setEmployees(employees)\r\n    })\r\n    return () => {\r\n      globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n    }\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (transaction.id) {\r\n      let amount: number = 0\r\n\r\n      switch (transaction.payment_mode) {\r\n        case 'Installment':\r\n          amount = getAmountToPay(transaction)\r\n          break\r\n        case 'Fullpayment':\r\n          amount = transaction?.balance!\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      setTransaction((transaction) => ({\r\n        ...transaction,\r\n        amount,\r\n      }))\r\n\r\n      globalDispatch({ type: 'SET_IS_LOADING', payload: true })\r\n\r\n      getRecentCommissionerByClient(transaction.id)\r\n        .then((employees: any) => {\r\n          globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n\r\n          const getCommissioner = (id: number) =>\r\n            employees.find((employee: any) =>\r\n              globalState.currentUser?.role === 'admin'\r\n                ? employee.positionId === id\r\n                : employee.positionId === id &&\r\n                  employee.branch?.id === globalState.currentUser?.branch?.id!\r\n            )?.id || ''\r\n\r\n          const branch_manager = getCommissioner(1)\r\n          const agency_manager = getCommissioner(2)\r\n          const supervisor = getCommissioner(3)\r\n          const sales_agent = getCommissioner(4)\r\n\r\n          setTransaction((transaction) => ({\r\n            ...transaction,\r\n            branch: employees[0]?.branch,\r\n            branch_manager,\r\n            agency_manager,\r\n            supervisor,\r\n            sales_agent,\r\n          }))\r\n        })\r\n        .catch(() => globalDispatch({ type: 'SET_IS_LOADING', payload: false }))\r\n    }\r\n  }, [transaction.payment_mode, transaction.id])\r\n\r\n  const handleSelected = (client: Client) => {\r\n    setTransaction((transaction) => ({\r\n      ...transaction,\r\n      ...client,\r\n    }))\r\n  }\r\n\r\n  const handleSubmit = async (transaction: TransactionModel) => {\r\n    if (!transaction.id) {\r\n      globalDispatch({\r\n        type: 'SET_ALERT',\r\n        payload: { message: 'Please Select a Client!', type: 'error' },\r\n      })\r\n      return\r\n    }\r\n\r\n    const insured_employee = transaction[transaction.position] ?? 0\r\n\r\n    if (!insured_employee) {\r\n      globalDispatch({\r\n        type: 'SET_ALERT',\r\n        payload: {\r\n          message:\r\n            'Sales Agent is not present! Please select another employee.',\r\n          type: 'error',\r\n        },\r\n      })\r\n\r\n      return\r\n    }\r\n\r\n    const {\r\n      id,\r\n      amount,\r\n      or_number,\r\n      branch_manager,\r\n      agency_manager,\r\n      supervisor,\r\n      sales_agent,\r\n      created_at,\r\n    } = transaction\r\n\r\n    const payment = {\r\n      client: id,\r\n      insured_employee,\r\n      amount,\r\n      or_number,\r\n      branch_manager,\r\n      agency_manager,\r\n      supervisor,\r\n      sales_agent,\r\n      created_at,\r\n    }\r\n\r\n    return savePayments(payment)\r\n      .then((data) => {\r\n        globalDispatch({\r\n          type: 'SET_ALERT',\r\n          payload: {\r\n            message: 'Successfully save!',\r\n            type: 'success',\r\n          },\r\n        })\r\n        setTransaction({\r\n          position: 'sales_agent',\r\n          amount: 0,\r\n          is_pwd: false,\r\n        })\r\n\r\n        getUnread().then((data) => {\r\n          notifDispatch({ type: 'ON_LOAD_UNREAD', payload: data.count })\r\n        })\r\n\r\n        onLoadClients()\r\n      })\r\n\r\n      .catch((error) => {\r\n        if (error.response.status === 400) {\r\n          globalDispatch({\r\n            type: 'SET_ALERT',\r\n            payload: {\r\n              message: error.response.data.error,\r\n              type: 'error',\r\n            },\r\n          })\r\n          return\r\n        }\r\n        globalDispatch({\r\n          type: 'SET_ALERT',\r\n          payload: {\r\n            message: error.message,\r\n            type: 'error',\r\n          },\r\n        })\r\n        getUnread().then((data) => {\r\n          notifDispatch({ type: 'ON_LOAD_UNREAD', payload: data.count })\r\n        })\r\n\r\n        onLoadClients()\r\n      })\r\n  }\r\n\r\n  const onSearch = (search: string) => {\r\n    globalDispatch({ type: 'SET_IS_LOADING', payload: true })\r\n    getLapsedClients(search).then((clients) => {\r\n      clientDispatch({\r\n        type: 'ON_LOAD_CLIENTS',\r\n        payload: { clients },\r\n      })\r\n      globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n      setTransaction({\r\n        position: 'sales_agent',\r\n        amount: 0,\r\n        is_pwd: false,\r\n      })\r\n    })\r\n  }\r\n\r\n  const isLoading = clientState.isLoading && !clientState.clients.length\r\n\r\n  const isSenior = calculateAge(transaction?.birthdate) >= 60\r\n\r\n  return (\r\n    <Grid container direction='column' xs={12}>\r\n      <MySearchField onSearch={onSearch} labelWidth={100} label='Name / Code' />\r\n      {isLoading && <MySkeletonMiniCards></MySkeletonMiniCards>}\r\n\r\n      {!isLoading && (\r\n        <MyMiniCards\r\n          onSelected={handleSelected}\r\n          style={{ marginTop: 10 }}\r\n          items={clientState.clients}\r\n        >\r\n          {({ renderCards, item }) => (\r\n            <>\r\n              {renderCards({\r\n                title: toElipse(\r\n                  `${item?.lastname}, ${item?.firstname} ${item?.middlename}`\r\n                ),\r\n                subtitle: item.code!,\r\n                src: item.image_url,\r\n                item,\r\n              })}\r\n            </>\r\n          )}\r\n        </MyMiniCards>\r\n      )}\r\n      <Divider style={{ margin: 20 }}></Divider>\r\n      {!transaction.id && (\r\n        <Grid container xs={12} justify='center'>\r\n          <Typography component='h6' variant='h6'>\r\n            No Selected Client\r\n          </Typography>\r\n        </Grid>\r\n      )}\r\n      {transaction.id && (\r\n        <Grid\r\n          style={{ paddingLeft: 10, paddingRight: 20 }}\r\n          xs={12}\r\n          container\r\n          justify='space-between'\r\n        >\r\n          <Grid item xs={8}>\r\n            <Typography component='h6' variant='h6'>\r\n              {`${transaction?.lastname}, ${transaction?.firstname} ${transaction?.middlename}`}\r\n            </Typography>\r\n            <Typography variant='subtitle2' color='textSecondary'>\r\n              {transaction?.code}\r\n            </Typography>\r\n            <Typography\r\n              style={{ marginTop: 10 }}\r\n              variant='subtitle2'\r\n              color='textSecondary'\r\n            >\r\n              {transaction?.plan?.name! + ' - ' + transaction?.payment_period}\r\n            </Typography>\r\n            <Typography variant='subtitle2' color='textSecondary'>\r\n              {'Lapse on ' +\r\n                new Date(transaction?.next_payment!).toDateString()}\r\n            </Typography>\r\n            <Grid direction='column' item container xs={12}>\r\n              <Chip\r\n                style={{ marginTop: 20 }}\r\n                size='small'\r\n                label={`${isSenior ? 'senior' : 'non-senior'} / ${\r\n                  transaction?.is_pwd ? 'pwd' : 'non-pwd'\r\n                }`}\r\n                color='default'\r\n                variant='outlined'\r\n              />\r\n              <Chip\r\n                style={{ marginTop: 5 }}\r\n                size='small'\r\n                label={computeTotalCountPaid(transaction) + ' paid'}\r\n                color='default'\r\n                variant='outlined'\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item xs={4}>\r\n            <MyAvatar src={transaction.image_url} />\r\n          </Grid>\r\n        </Grid>\r\n      )}\r\n\r\n      <Divider style={{ margin: 20 }}></Divider>\r\n\r\n      {!isLoading && transaction.id && (\r\n        <CommissionersForm\r\n          employees={employees}\r\n          onSubmit={handleSubmit}\r\n          state={[transaction, setTransaction]}\r\n        />\r\n      )}\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default Transaction\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Transactions\\EncodeTransaction\\TransactionForm.tsx",["523","524","525","526"],"import React, { useEffect, useState } from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport MyForm, { MyFormProps, RenderProps } from 'components/common/MyForm'\r\nimport Client from 'models/client'\r\nimport Commissioner from 'models/commissioner'\r\nimport validator from 'validators/clientTransactionValidator'\r\nimport Transaction from 'models/transaction'\r\nimport Employee from 'models/employee'\r\n\r\nexport interface ClientStepTwoProps {\r\n  onSubmit: (transaction: Transaction) => Promise<void>\r\n  state: [\r\n    Transaction,\r\n    React.Dispatch<React.SetStateAction<Transaction & Client>>\r\n  ]\r\n  employees: Employee[]\r\n}\r\n\r\nexport const CommissionersForm: React.SFC<ClientStepTwoProps> = ({\r\n  state: [transaction, setTransaction],\r\n  onSubmit,\r\n  employees,\r\n}) => {\r\n  const formProps: MyFormProps<Transaction> = {\r\n    state: [transaction, setTransaction],\r\n    onSubmit,\r\n    validator,\r\n    radioButtonDefaultValue: transaction.position,\r\n  }\r\n\r\n  const [branch, setBranch] = useState<{ value: any; name: string } | null>(\r\n    null\r\n  )\r\n\r\n  const branchOptions: { value: any; name: string }[] = []\r\n\r\n  useEffect(() => {\r\n    setBranch(\r\n      branchOptions.find((b) => b.value === +transaction?.branch?.id!) || null\r\n    )\r\n  }, [transaction?.branch])\r\n\r\n  useEffect(() => {\r\n    setTransaction((transaction) => ({\r\n      ...transaction,\r\n      branch_manager: '',\r\n      agency_manager: '',\r\n      supervisor: '',\r\n      sales_agent: '',\r\n    }))\r\n  }, [])\r\n\r\n  const handleBranch = (e: any) => {\r\n    const b = branchOptions.find((b) => b.value === +e.target.value)\r\n\r\n    setBranch(b || null)\r\n  }\r\n\r\n  const employeeOptions = (id: number) =>\r\n    employees\r\n      .filter(\r\n        (employee) =>\r\n          employee.position?.id === id && +branch?.value === employee.branch?.id\r\n      )\r\n      .map((employee) => ({\r\n        value: employee.id || '',\r\n        name: `${employee.profile?.lastname}, ${employee.profile?.firstname}`,\r\n      }))\r\n\r\n  const map = new Map()\r\n  for (const employee of employees) {\r\n    if (!map.has(employee?.branch?.id)) {\r\n      map.set(employee?.branch?.id, true)\r\n      branchOptions.push({\r\n        value: +employee.branch?.id!,\r\n        name: employee.branch?.name!,\r\n      })\r\n    }\r\n  }\r\n\r\n  const labelMode =\r\n    transaction.payment_mode !== 'Installment'\r\n      ? transaction.payment_mode === 'Fullpayment'\r\n        ? 'Balance'\r\n        : 'Amount'\r\n      : 'Amount'\r\n\r\n  return (\r\n    <MyForm {...formProps}>\r\n      {({ myRadio, mySelect, myButton, myControlledInput, myInput }) => (\r\n        <>\r\n          <Grid\r\n            style={{ paddingLeft: 10, marginTop: 5, marginBottom: 10 }}\r\n            spacing={2}\r\n            container\r\n            xs={12}\r\n          >\r\n            {mySelect({\r\n              label: 'Payment Mode',\r\n              value: transaction.payment_mode,\r\n              name: 'payment_mode',\r\n              labelWidth: 110,\r\n              options: [{ value: 'Installment' }, { value: 'Fullpayment' }],\r\n            })}\r\n            {myControlledInput({\r\n              label: labelMode,\r\n              value: transaction.amount,\r\n              name: 'amount',\r\n            })}\r\n            {myInput({\r\n              label: 'OR Number',\r\n              value: transaction.or_number,\r\n              name: 'or_number',\r\n            })}\r\n\r\n            {mySelect({\r\n              label: 'Branch',\r\n              value: branch?.value || '',\r\n              name: 'branch',\r\n              labelWidth: 55,\r\n              onChange: handleBranch,\r\n              options: branchOptions,\r\n            })}\r\n\r\n            <>\r\n              <Grid item xs={10}>\r\n                {mySelect({\r\n                  label: 'Branch Manager',\r\n                  value: transaction.branch_manager,\r\n                  name: 'branch_manager',\r\n                  labelWidth: 120,\r\n                  options: employeeOptions(1),\r\n                })}\r\n              </Grid>\r\n              <Grid container item xs={2} justify='center' alignItems='center'>\r\n                {myRadio({ value: 'branch_manager', name: 'position' })}\r\n              </Grid>\r\n            </>\r\n            <>\r\n              <Grid item xs={10}>\r\n                {mySelect({\r\n                  label: 'Agency Manager',\r\n                  value: transaction.agency_manager,\r\n                  name: 'agency_manager',\r\n                  labelWidth: 120,\r\n                  options: employeeOptions(2),\r\n                })}\r\n              </Grid>\r\n              <Grid container item xs={2} justify='center' alignItems='center'>\r\n                {myRadio({ value: 'agency_manager', name: 'position' })}\r\n              </Grid>\r\n            </>\r\n            <>\r\n              <Grid item xs={10}>\r\n                {mySelect({\r\n                  label: 'Supervisor',\r\n                  value: transaction.supervisor,\r\n                  name: 'supervisor',\r\n                  labelWidth: 80,\r\n                  options: employeeOptions(3),\r\n                })}\r\n              </Grid>\r\n              <Grid container item xs={2} justify='center' alignItems='center'>\r\n                {myRadio({ value: 'supervisor', name: 'position' })}\r\n              </Grid>\r\n            </>\r\n\r\n            <>\r\n              <Grid item xs={10}>\r\n                {mySelect({\r\n                  label: 'Sales Agent',\r\n                  value: transaction.sales_agent,\r\n                  name: 'sales_agent',\r\n                  labelWidth: 85,\r\n                  options: employeeOptions(4),\r\n                })}\r\n              </Grid>\r\n              <Grid container item xs={2} justify='center' alignItems='center'>\r\n                {myRadio({ value: 'sales_agent', name: 'position' })}\r\n              </Grid>\r\n            </>\r\n\r\n            {myButton()}\r\n          </Grid>\r\n        </>\r\n      )}\r\n    </MyForm>\r\n  )\r\n}\r\n\r\nexport default CommissionersForm\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\authService.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\branchService.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Commissions\\CommissionCard\\index.tsx",["527","528","529","530","531"],"import CardContent from '@material-ui/core/CardContent'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport MyCard from 'components/common/MyCard'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport ViewIcon from '@material-ui/icons/RemoveRedEye'\r\nimport Divider from '@material-ui/core/Divider'\r\n\r\nimport Commission from 'models/commission'\r\nimport MyAvatar from 'components/common/MyAvatar'\r\nimport { toMoney } from 'utils/helper'\r\n\r\nexport interface CommissionCardProps {\r\n  commission: Commission\r\n}\r\n\r\nconst CommissionCard: React.SFC<CommissionCardProps> = ({ commission }) => {\r\n  const history = useHistory()\r\n  const fullname = `${commission?.employee?.profile?.lastname}, ${commission?.employee?.profile?.firstname} ${commission?.employee?.profile?.middlename}`\r\n  return (\r\n    <MyCard title={`OR#${commission.payment?.or_number}`}>\r\n      <CardContent>\r\n        <Grid\r\n          style={{ marginBottom: 20 }}\r\n          xs={12}\r\n          justify='space-between'\r\n          container\r\n        >\r\n          <Grid\r\n            style={{ paddingLeft: 10 }}\r\n            container\r\n            item\r\n            direction='column'\r\n            xs={7}\r\n            justify='flex-start'\r\n          >\r\n            <Typography component='h3' variant='h6'>\r\n              {fullname}\r\n            </Typography>\r\n            <Typography variant='subtitle1' color='textSecondary'>\r\n              {commission?.employee?.position?.name}\r\n            </Typography>\r\n            <Typography variant='subtitle1' color='textSecondary'>\r\n              {toMoney(commission?.amount!)}\r\n            </Typography>\r\n            <Typography variant='caption' color='textSecondary'>\r\n              {new Date(commission?.created_at!).toDateString()}\r\n            </Typography>\r\n            <Grid item xs={1}>\r\n              <Chip\r\n                style={{ marginTop: 5 }}\r\n                size='small'\r\n                label={commission.is_release ? 'release' : 'unrelease'}\r\n                variant='outlined'\r\n                color={!commission.is_release ? 'secondary' : 'default'}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container item xs={5} justify='center' alignItems='center'>\r\n            <MyAvatar\r\n              src={commission?.employee?.profile?.image_url}\r\n              onClick={() =>\r\n                history.push('/payments/' + commission?.payment?.id)\r\n              }\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </CardContent>\r\n    </MyCard>\r\n  )\r\n}\r\n\r\nexport default CommissionCard\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\paymentService.tsx",["532"],"import Payment from 'models/payment'\r\nimport http from 'utils/http'\r\n\r\nexport const getPayments = (props?: {\r\n  page?: number\r\n  search?: string\r\n  category?: string\r\n}) => {\r\n  return http\r\n    .get(\r\n      `/payments?page=${props?.page || ''}&search=${\r\n        props?.search || ''\r\n      }&category=${props?.category || ''}`\r\n    )\r\n    .then(({ data }) => ({\r\n      total: data.count,\r\n      pages: data.pages,\r\n      payments: data.items.map((item: any) => ({\r\n        ...item,\r\n        payment: { id: item.payment_id },\r\n        client: { ...item.client.profile, ...item.client },\r\n      })),\r\n    }))\r\n}\r\n\r\nexport const getPayment = (id: number) => {\r\n  return http.get('/payments/' + id).then(({ data }) => data)\r\n}\r\n\r\nexport const savePayments = (payment: any) => {\r\n  return http.post('/payments', payment).then(({ data }) => data)\r\n}\r\n\r\nexport const getRecentCommissionerByClient = (id: number) => {\r\n  return http.get('/commissions/client/' + id).then(({ data }) => data)\r\n}\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\employeeService.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\validators\\signInValidator.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\validators\\saveBranchValidator.tsx",["533","534"],"import Joi from 'joi'\r\nimport { lettersOnly, notNull } from 'utils/helper'\r\n\r\nconst saveBranchValidator = {\r\n  name: Joi.string().required().label('Branch'),\r\n}\r\n\r\nexport default saveBranchValidator\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\commissionService.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Transactions\\ReleaseTransaction\\ReleaseCard\\index.tsx",["535","536","537","538"],"import React, { useContext, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\n\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Divider from '@material-ui/core/Divider'\r\n\r\nimport MyCard from 'components/common/MyCard'\r\nimport MyAvatar from 'components/common/MyAvatar'\r\nimport Commission from 'models/commission'\r\nimport ReleaseIcon from '@material-ui/icons/LocalAtm'\r\nimport { toMoney } from 'utils/helper'\r\n\r\nexport interface ReleaseCardProps {\r\n  commission: Commission\r\n  onRelease?: (commission: Commission) => void\r\n}\r\n\r\nconst ReleaseCard: React.SFC<ReleaseCardProps> = ({\r\n  commission,\r\n  onRelease,\r\n}) => {\r\n  const history = useHistory()\r\n\r\n  return (\r\n    <>\r\n      <MyCard\r\n        title={'Employee#' + commission?.employee?.id}\r\n        style={{ paddingBottom: 5 }}\r\n      >\r\n        <CardContent>\r\n          <Grid container xs={12} justify='space-between'>\r\n            <Grid\r\n              style={{ paddingLeft: 10 }}\r\n              container\r\n              item\r\n              direction='column'\r\n              xs={7}\r\n              justify='flex-start'\r\n            >\r\n              <Typography component='h3' variant='h6'>\r\n                {`${commission?.employee?.profile?.lastname}, ${commission?.employee?.profile?.firstname} ${commission?.employee?.profile?.middlename}`}\r\n              </Typography>\r\n              <Typography variant='subtitle1' color='textSecondary'>\r\n                {commission?.employee?.branch?.name}\r\n              </Typography>\r\n              <Typography variant='subtitle1' color='textSecondary'>\r\n                {commission?.employee?.position?.name}\r\n              </Typography>\r\n\r\n              <Typography variant='subtitle1' color='textSecondary'>\r\n                {toMoney(commission?.amount!)}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid container item xs={5} justify='center' alignItems='center'>\r\n              <MyAvatar\r\n                src={commission?.employee?.profile?.image_url}\r\n                // onClick={() => history.push('/commissions/' + commission.id)}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n\r\n        <Divider style={{ marginLeft: 20, marginRight: 20 }}></Divider>\r\n        <Grid style={{ padding: 15 }} container xs={12} justify='space-evenly'>\r\n          <Grid item xs={3}></Grid>\r\n          <Grid item xs={6}>\r\n            <Button\r\n              onClick={() => onRelease?.(commission)}\r\n              fullWidth\r\n              variant='text'\r\n              color='primary'\r\n            >\r\n              Release\r\n            </Button>\r\n          </Grid>\r\n\r\n          <Grid item xs={3}></Grid>\r\n        </Grid>\r\n      </MyCard>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ReleaseCard\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyAvatar\\index.tsx",["539"],"import IconButton from '@material-ui/core/IconButton'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { Theme, createStyles, makeStyles } from '@material-ui/core/styles'\r\nimport { image_provider } from 'configs/index.json'\r\n\r\nexport interface MyAvatarProps {\r\n  onClick?: () => void\r\n  text?: string\r\n  width?: number\r\n  height?: number\r\n  children?: () => JSX.Element\r\n  src?: string\r\n}\r\n\r\nconst MyAvatar: React.SFC<MyAvatarProps> = ({\r\n  onClick,\r\n  src,\r\n  width,\r\n  height,\r\n  children,\r\n}) => {\r\n  const styles = useStyles({ width, height })()\r\n  return (\r\n    <IconButton onClick={onClick}>\r\n      <Avatar\r\n        className={styles.avatar}\r\n        src={!!src ? image_provider + src : ''}\r\n        aria-label='clients'\r\n      >\r\n        {children?.()}\r\n      </Avatar>\r\n    </IconButton>\r\n  )\r\n}\r\n\r\nconst useStyles = ({ width, height }: { height?: number; width?: number }) =>\r\n  makeStyles((theme: Theme) =>\r\n    createStyles({\r\n      avatar: {\r\n        width: width || 100,\r\n        height: height || 100,\r\n        backgroundColor: theme.palette.secondary.main,\r\n      },\r\n    })\r\n  )\r\n\r\nexport default MyAvatar\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyCard\\index.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MySkeletonCard\\index.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyAlertDialog\\index.tsx",["540"],"import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogActions from '@material-ui/core/DialogActions'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogContentText from '@material-ui/core/DialogContentText'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport { ToggleCheckBoxOutlineBlank } from 'material-ui/svg-icons'\r\n\r\nexport interface AlertDataProps {\r\n  open?: boolean\r\n  text?: string\r\n  description?: string\r\n}\r\n\r\ninterface MyAlertDialogProps {\r\n  data: AlertDataProps\r\n  onAgree?: () => void\r\n  onDisagree?: () => void\r\n}\r\n\r\nexport const MyAlertDialog: React.FC<MyAlertDialogProps> = ({\r\n  data: { open, text, description },\r\n  onAgree,\r\n  onDisagree,\r\n}) => {\r\n  return (\r\n    <div>\r\n      {open && (\r\n        <Dialog\r\n          open={open || false}\r\n          onClose={onDisagree}\r\n          aria-labelledby='alert-dialog-title'\r\n          aria-describedby='alert-dialog-description'\r\n        >\r\n          <DialogTitle id='alert-dialog-title'>{text}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id='alert-dialog-description'>\r\n              {description}\r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={onDisagree} color='default'>\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              style={{ marginRight: 10 }}\r\n              onClick={onAgree}\r\n              color='secondary'\r\n            >\r\n              Agree\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MyAlertDialog\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyForm\\index.tsx",["541","542"],"import React, { useContext, memo } from 'react'\r\nimport Joi from 'joi'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport FormControl from '@material-ui/core/FormControl'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport Select from '@material-ui/core/Select'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Button from '@material-ui/core/Button'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Radio from '@material-ui/core/Radio'\r\nimport DateFnsUtils from '@date-io/date-fns/build'\r\nimport FormHelperText from '@material-ui/core/FormHelperText'\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff'\r\nimport Visibility from '@material-ui/icons/Visibility'\r\nimport HeadShake from 'react-reveal/HeadShake'\r\n\r\nimport {\r\n  KeyboardDatePicker,\r\n  MuiPickersUtilsProvider,\r\n} from '@material-ui/pickers'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\n\r\nexport interface MyFormProps<T> {\r\n  state: [T, React.Dispatch<React.SetStateAction<T>>]\r\n  onSubmit: (data: T) => Promise<any>\r\n  validator?: {}\r\n  radioButtonDefaultValue?: string\r\n  children?: (props: RenderProps) => JSX.Element\r\n}\r\n\r\nexport interface InputProps {\r\n  value?: any\r\n  name: string\r\n  placeholder?: string\r\n  type?: string | 'text'\r\n  label?: string\r\n  isMultiline?: boolean\r\n  onChange?: (e: any) => void\r\n  onTogglePassword?: React.Dispatch<React.SetStateAction<boolean>>\r\n}\r\n\r\nexport interface OptionProps {\r\n  name?: string\r\n  value: any\r\n}\r\n\r\nexport interface SelectProps extends InputProps {\r\n  options: OptionProps[]\r\n  subLabel?: string\r\n  labelWidth?: number\r\n}\r\n\r\nexport interface RenderProps {\r\n  myInput: (input: InputProps) => JSX.Element\r\n  myInputPassword: (input: InputProps) => JSX.Element\r\n  myDateTimePicker: (input: InputProps) => JSX.Element\r\n  myButton: (text?: string) => JSX.Element\r\n  mySelect: (select: SelectProps) => JSX.Element\r\n  myRadio: (input: InputProps) => JSX.Element\r\n  myControlledInput: (input: InputProps) => JSX.Element\r\n  MyButtonMemo: React.MemoExoticComponent<\r\n    (props: { text?: string }) => JSX.Element\r\n  >\r\n}\r\n\r\nconst MyButtonMemo = (isDisable: boolean) =>\r\n  memo((props: { text?: string }) => {\r\n    console.log('hit memo')\r\n    return (\r\n      <Grid item xs={12}>\r\n        <Button\r\n          disabled={isDisable}\r\n          style={{ paddingTop: 15, paddingBottom: 15 }}\r\n          fullWidth\r\n          type='submit'\r\n          variant='contained'\r\n          color='primary'\r\n          startIcon={\r\n            isDisable && (\r\n              <CircularProgress\r\n                color='primary'\r\n                size={24}\r\n                style={{\r\n                  position: 'absolute',\r\n                  top: '50%',\r\n                  left: '50%',\r\n                  marginTop: -12,\r\n                  marginLeft: -12,\r\n                }}\r\n              />\r\n            )\r\n          }\r\n        >\r\n          {props.text ?? 'SUBMIT'}\r\n        </Button>\r\n      </Grid>\r\n    )\r\n  })\r\n\r\nfunction MyForm<T>(props: MyFormProps<T>) {\r\n  const [state, dispatch] = useContext(GlobalContext)!\r\n\r\n  const [data, setData] = props.state\r\n\r\n  const [isDisable, setIsDisable] = React.useState<boolean>(false)\r\n\r\n  const [selectedValue, setSelectedValue] = React.useState(\r\n    props.radioButtonDefaultValue ?? ''\r\n  )\r\n\r\n  const [errors, setErrors] = React.useState<any>(null)\r\n\r\n  const onValidate = (_data: T) => {\r\n    const schema = Joi.object(props.validator).options({\r\n      abortEarly: false,\r\n      allowUnknown: true,\r\n    })\r\n\r\n    const { error } = schema.validate(_data)\r\n\r\n    if (!error) return null\r\n\r\n    console.log(error)\r\n\r\n    const _errors: any = {}\r\n\r\n    error.details.forEach((item) => (_errors[item.path[0]] = item.message))\r\n\r\n    return _errors\r\n  }\r\n\r\n  const onChangeRadio = (e: any) => {\r\n    setSelectedValue(e.target.value)\r\n  }\r\n\r\n  const onSubmit = (e: any) => {\r\n    e.preventDefault()\r\n\r\n    const newData = { ...data } as any\r\n\r\n    for (let [key, value] of new FormData(e.target).entries()) {\r\n      newData[key] = value\r\n    }\r\n    const hasErrors = onValidate(newData)\r\n\r\n    setIsDisable(true)\r\n\r\n    if (hasErrors) {\r\n      dispatch({\r\n        type: 'SET_ALERT',\r\n        payload: {\r\n          message: 'Fill out all the fields.',\r\n          type: 'error',\r\n        },\r\n      })\r\n      setErrors(hasErrors)\r\n      setIsDisable(false)\r\n      return\r\n    }\r\n\r\n    return props\r\n      .onSubmit(newData)\r\n      .then(() => {\r\n        setErrors({})\r\n        setIsDisable(false)\r\n      })\r\n      .catch((error) => {\r\n        setIsDisable(false)\r\n      })\r\n  }\r\n\r\n  const myInput = (input: InputProps) => {\r\n    const error = errors && errors[input.name]\r\n\r\n    return (\r\n      <Grid item xs={12} key={input.name}>\r\n        <TextField\r\n          defaultValue={input.value}\r\n          multiline={input.isMultiline}\r\n          fullWidth\r\n          name={input.name}\r\n          variant='outlined'\r\n          label={input.label}\r\n          type={input.type}\r\n          error={!!error}\r\n          helperText={error}\r\n        />\r\n      </Grid>\r\n    )\r\n  }\r\n\r\n  const myControlledInput = (input: InputProps) => {\r\n    const error = errors && errors[input.name]\r\n\r\n    return (\r\n      <Grid item xs={12} key={input.name}>\r\n        <TextField\r\n          value={input.value}\r\n          multiline={input.isMultiline}\r\n          fullWidth\r\n          name={input.name}\r\n          variant='outlined'\r\n          label={input.label}\r\n          type={input.type}\r\n          error={!!error}\r\n          helperText={error}\r\n          onChange={(e) =>\r\n            input.onChange\r\n              ? input.onChange(e)\r\n              : setData((data) => ({ ...data, [input.name]: e.target.value }))\r\n          }\r\n        />\r\n      </Grid>\r\n    )\r\n  }\r\n\r\n  const myInputPassword = (input: InputProps) => {\r\n    const error = errors && errors[input.name]\r\n\r\n    return (\r\n      <Grid item xs={12} key={input.name}>\r\n        <FormControl fullWidth variant='outlined' error={!!error}>\r\n          <InputLabel htmlFor={input.label}>{input.label}</InputLabel>\r\n          <OutlinedInput\r\n            defaultValue={input.value}\r\n            id={input.name}\r\n            name={input.name}\r\n            type={input.type}\r\n            labelWidth={70}\r\n            endAdornment={\r\n              <InputAdornment position='end'>\r\n                <IconButton\r\n                  aria-label='toggle password visibility'\r\n                  onClick={() =>\r\n                    input.onTogglePassword?.call(\r\n                      null,\r\n                      (isVisible) => !isVisible\r\n                    )\r\n                  }\r\n                >\r\n                  {input.type !== 'password' ? (\r\n                    <Visibility />\r\n                  ) : (\r\n                    <VisibilityOff />\r\n                  )}\r\n                </IconButton>\r\n              </InputAdornment>\r\n            }\r\n          />\r\n          <FormHelperText>{error}</FormHelperText>\r\n        </FormControl>\r\n      </Grid>\r\n    )\r\n  }\r\n\r\n  const myDateTimePicker = (input: InputProps) => {\r\n    const error = errors && errors[input.name]\r\n\r\n    return (\r\n      <Grid item xs={12} key={input.name}>\r\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n          <KeyboardDatePicker\r\n            fullWidth\r\n            inputVariant='outlined'\r\n            disableToolbar\r\n            variant='dialog'\r\n            format='MM/dd/yyyy'\r\n            margin='none'\r\n            error={!!error}\r\n            helperText={error}\r\n            label={input.label}\r\n            value={input.value ?? null}\r\n            onChange={(date) => {\r\n              setData({\r\n                ...data,\r\n                [input.name]: date?.toLocaleDateString(),\r\n              })\r\n            }}\r\n            KeyboardButtonProps={{\r\n              'aria-label': 'change date',\r\n            }}\r\n          />\r\n        </MuiPickersUtilsProvider>\r\n      </Grid>\r\n    )\r\n  }\r\n\r\n  const myRadio = (input: InputProps) => {\r\n    return (\r\n      <Radio\r\n        checked={selectedValue === input.value}\r\n        onChange={onChangeRadio}\r\n        value={input.value}\r\n        name={input.name}\r\n      />\r\n    )\r\n  }\r\n\r\n  const mySelect = (select: SelectProps) => {\r\n    const error = errors && errors[select.name ?? select.value]\r\n    return (\r\n      <Grid item xs={12} key={select.name ?? select.value}>\r\n        <FormControl fullWidth variant='outlined' error={!!error}>\r\n          <InputLabel id={select.label}>{select.label}</InputLabel>\r\n          <Select\r\n            labelId={select.label}\r\n            id={select.name ?? select.value}\r\n            name={select.name ?? select.value}\r\n            value={select.value || ''}\r\n            onChange={\r\n              select.onChange\r\n                ? select.onChange\r\n                : (e: any) => {\r\n                    const { value } = e.target\r\n                    if (error && value !== 'clear') {\r\n                      const _errors = { ...errors }\r\n                      delete _errors[select.name]\r\n                      setErrors(_errors)\r\n                    }\r\n                    setData({\r\n                      ...data,\r\n                      [select.name]: value !== 'clear' ? value : '',\r\n                    })\r\n                  }\r\n            }\r\n            labelWidth={select.labelWidth ?? 60}\r\n          >\r\n            {select.options.map((option) => (\r\n              <MenuItem value={option.value}>\r\n                {option.name\r\n                  ? select.subLabel\r\n                    ? option.name + '-' + select.subLabel\r\n                    : option.name\r\n                  : option.value}\r\n              </MenuItem>\r\n            ))}\r\n            <Divider style={{ marginLeft: 15, marginRight: 15 }}></Divider>\r\n            <MenuItem value='clear'>Clear</MenuItem>\r\n          </Select>\r\n          <FormHelperText>{error}</FormHelperText>\r\n        </FormControl>\r\n      </Grid>\r\n    )\r\n  }\r\n\r\n  const myButton = (text?: string) => {\r\n    return (\r\n      <Grid item xs={12}>\r\n        <Button\r\n          disabled={isDisable}\r\n          fullWidth\r\n          type='submit'\r\n          variant='contained'\r\n          color='primary'\r\n          startIcon={\r\n            isDisable && (\r\n              <CircularProgress\r\n                color='primary'\r\n                size={24}\r\n                style={{\r\n                  position: 'absolute',\r\n                  top: '50%',\r\n                  left: '50%',\r\n                  marginTop: -12,\r\n                  marginLeft: -12,\r\n                }}\r\n              />\r\n            )\r\n          }\r\n        >\r\n          {text ?? 'SUBMIT'}\r\n        </Button>\r\n      </Grid>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <Grid\r\n        style={{ pointerEvents: isDisable ? 'none' : 'all' }}\r\n        container\r\n        spacing={2}\r\n        direction='column'\r\n      >\r\n        {props.children?.({\r\n          myInput,\r\n          myControlledInput,\r\n          myInputPassword,\r\n          mySelect,\r\n          myDateTimePicker,\r\n          myButton,\r\n          myRadio,\r\n          MyButtonMemo: MyButtonMemo(isDisable),\r\n        } as RenderProps)}\r\n      </Grid>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default MyForm\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MySkeletonMiniCards\\index.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MySearchField\\index.tsx",["543"],"import FormControl from '@material-ui/core/FormControl'\r\nimport InputLabel from '@material-ui/core/InputLabel'\r\nimport OutlinedInput, {\r\n  OutlinedInputProps,\r\n} from '@material-ui/core/OutlinedInput'\r\nimport InputAdornment from '@material-ui/core/InputAdornment'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport { useState } from 'react'\r\nimport { AnyCnameRecord } from 'dns'\r\n\r\nexport interface MySearchFieldProps extends OutlinedInputProps {\r\n  label?: string\r\n  onSearch?: (value: string) => void\r\n}\r\n\r\nconst MySearchField: React.SFC<MySearchFieldProps> = ({\r\n  label,\r\n  onSearch,\r\n  ...props\r\n}) => {\r\n  const [value, setValue] = useState('')\r\n\r\n  const handlePress = (event: any) => {\r\n    if (event.key === 'Enter') {\r\n      onSearch?.call(null, value)\r\n    }\r\n  }\r\n  return (\r\n    <FormControl fullWidth variant='outlined'>\r\n      <InputLabel htmlFor='outlined-adornment-password'>\r\n        {label || 'Search...'}\r\n      </InputLabel>\r\n      <OutlinedInput\r\n        {...props}\r\n        id='outlined-adornment-password'\r\n        name='search'\r\n        type='text'\r\n        labelWidth={props.labelWidth ? props.labelWidth : 65}\r\n        value={value}\r\n        onKeyPress={handlePress}\r\n        onChange={(event) => setValue(event.target.value)}\r\n        endAdornment={\r\n          <InputAdornment position='end'>\r\n            <IconButton\r\n              onClick={() => onSearch?.call(null, value)}\r\n              aria-label='toggle password visibility'\r\n            >\r\n              <SearchIcon />\r\n            </IconButton>\r\n          </InputAdornment>\r\n        }\r\n      />\r\n    </FormControl>\r\n  )\r\n}\r\n\r\nexport default MySearchField\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyMiniCards\\index.tsx",["544","545"],"import Grid, { GridProps } from '@material-ui/core/Grid'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardHeader from '@material-ui/core/CardHeader'\r\nimport Avatar from '@material-ui/core/Avatar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { useState, useContext } from 'react'\r\nimport Fade from 'react-reveal/Fade'\r\n\r\nimport { Theme, createStyles, makeStyles } from '@material-ui/core/styles'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport { image_provider } from 'configs/index.json'\r\n\r\ninterface RenderProps<T> {\r\n  renderCards: (props: RenderCardsProps<T>) => JSX.Element\r\n  item: T\r\n}\r\n\r\ninterface RenderCardsProps<T> {\r\n  title: string\r\n  subtitle: string\r\n  src?: string\r\n  item?: T\r\n}\r\n\r\nexport interface MyMiniCardsProps<T> extends GridProps {\r\n  items: T[]\r\n  onSelected?: (item: T) => void\r\n  children?: (props: RenderProps<T>) => JSX.Element\r\n}\r\n\r\nfunction MyMiniCards<T>({\r\n  items,\r\n  onSelected,\r\n  children,\r\n  ...props\r\n}: MyMiniCardsProps<T>) {\r\n  const [state, _] = useContext(GlobalContext)!\r\n\r\n  const styles = useStyles(state.isDark)()\r\n\r\n  const [selectedItem, setSelectedItem] = useState<T>()\r\n\r\n  const renderCards = ({ src, title, subtitle, item }: RenderCardsProps<T>) => {\r\n    return (\r\n      <CardHeader\r\n        avatar={\r\n          <Avatar\r\n            className={styles.avatar}\r\n            src={!!src ? image_provider + src : ''}\r\n            aria-label='item'\r\n          ></Avatar>\r\n        }\r\n        title={title}\r\n        subheader={subtitle}\r\n      />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Grid\r\n      {...props}\r\n      container\r\n      xs={12}\r\n      justify='flex-start'\r\n      direction='row'\r\n      spacing={1}\r\n      alignItems='center'\r\n      className={styles.container}\r\n    >\r\n      {items.map((item, index) => (\r\n        <Grid item xs={12} key={index}>\r\n          <Fade>\r\n            <Card\r\n              style={{ minHeight: 92, display: 'flex', alignItems: 'center' }}\r\n              className={\r\n                selectedItem === item ? styles.headerSelected : styles.header\r\n              }\r\n              onClick={() => {\r\n                onSelected?.(item)\r\n                setSelectedItem(item)\r\n              }}\r\n            >\r\n              {children?.({ renderCards, item } as RenderProps<T>)}\r\n            </Card>\r\n          </Fade>\r\n        </Grid>\r\n      ))}\r\n    </Grid>\r\n  )\r\n}\r\n\r\nconst useStyles = (isDark: boolean) =>\r\n  makeStyles((theme: Theme) =>\r\n    createStyles({\r\n      avatar: {\r\n        backgroundColor: theme.palette.secondary.main,\r\n      },\r\n      headerSelected: {\r\n        width: 230,\r\n        backgroundColor: !isDark\r\n          ? theme.palette.grey[300]\r\n          : theme.palette.grey[700],\r\n      },\r\n      header: {\r\n        width: 230,\r\n      },\r\n      container: {\r\n        marginLeft: 0,\r\n        padding: 0,\r\n        paddingBottom: 5,\r\n\r\n        WebkitOverflowScrolling: 'touch',\r\n        overflowX: 'auto',\r\n        flexWrap: 'nowrap',\r\n      },\r\n    })\r\n  )\r\n\r\nexport default MyMiniCards\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\validators\\clientTransactionValidator.tsx",["546"],"import Joi from 'joi'\r\nimport { lettersOnly, notNull } from 'utils/helper'\r\n\r\nconst clientTransactionValidator = {\r\n  branch_manager: notNull('Branch Manager'),\r\n  agency_manager: notNull('Agency Manager'),\r\n  supervisor: notNull('Supervisor'),\r\n  position: notNull('Position'),\r\n  amount: Joi.number().positive().not(0).required().label('Amount'),\r\n  payment_mode: notNull('Payment Mode'),\r\n  or_number: notNull('OR Number'),\r\n}\r\n\r\nexport default clientTransactionValidator\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyChips\\index.tsx",["547"],"import { useState } from 'react'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport Badge from '@material-ui/core/Badge'\r\nimport Fade from 'react-reveal/Fade'\r\n\r\nexport interface MyChipsProps {\r\n  chips: MyChip[]\r\n  onChipSelected?: (chip: MyChip) => void\r\n  active: MyChip\r\n  count?: number\r\n}\r\n\r\nexport interface MyChip {\r\n  value: any\r\n  name: string\r\n}\r\n\r\nconst MyChips: React.SFC<MyChipsProps> = ({\r\n  chips,\r\n  active,\r\n  onChipSelected,\r\n  count,\r\n}) => {\r\n  const renderChips = (chip: MyChip) => {\r\n    return (\r\n      <Fade>\r\n        <Grid style={{ marginRight: 10 }} key={chip.value} item>\r\n          <Badge\r\n            invisible={active.value !== chip.value}\r\n            badgeContent={count! >= 100 ? '99+' : count}\r\n            color='primary'\r\n          >\r\n            <Chip\r\n              onClick={() => onChipSelected?.(chip)}\r\n              color={active.value === chip.value ? 'secondary' : 'default'}\r\n              variant={active.value === chip.value ? 'default' : 'outlined'}\r\n              size='medium'\r\n              label={chip.name}\r\n            />\r\n          </Badge>\r\n        </Grid>\r\n      </Fade>\r\n    )\r\n  }\r\n  return (\r\n    <>\r\n      <Grid\r\n        style={{\r\n          marginLeft: 0,\r\n          padding: 0,\r\n          marginBottom: 15,\r\n          paddingBottom: 0,\r\n          paddingTop: 15,\r\n          WebkitOverflowScrolling: 'touch',\r\n          overflowX: 'auto',\r\n          flexWrap: 'nowrap',\r\n        }}\r\n        container\r\n        xs={12}\r\n        justify='flex-start'\r\n        direction='row'\r\n        spacing={1}\r\n        alignItems='center'\r\n      >\r\n        {chips.map((chip) => renderChips(chip))}\r\n      </Grid>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MyChips\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Clients\\NewClient\\ClientStepThree.tsx",["548","549","550","551"],"import { useContext, useEffect, useState } from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport Checkbox from '@material-ui/core/Checkbox'\r\nimport MyForm, { MyFormProps, OptionProps } from 'components/common/MyForm'\r\nimport Client from 'models/client'\r\nimport Commissioner from 'models/commissioner'\r\nimport validator from 'validators/clientStepThreeValidator'\r\nimport { getAmountToPay } from 'services/clientService'\r\nimport { ClientContext } from 'providers/ClientProvider'\r\nimport Payment from 'models/payment'\r\nimport { calculateAge } from 'utils/helper'\r\nimport { SettingsPowerRounded } from '@material-ui/icons'\r\n\r\nexport interface ClientStepTwoProps {\r\n  onBack: () => void\r\n  onNext: (client: Client & Payment) => Promise<void>\r\n  state: [\r\n    Client & Payment,\r\n    React.Dispatch<React.SetStateAction<Client & Payment>>\r\n  ]\r\n}\r\n\r\nexport const ClientStepThree: React.SFC<ClientStepTwoProps> = ({\r\n  state: [client, setClient],\r\n  onBack,\r\n  onNext,\r\n}) => {\r\n  const [clientState, clientDispatch] = useContext(ClientContext)!\r\n  const [planOptions, setPlanOptions] = useState<OptionProps[] | []>([])\r\n\r\n  useEffect(() => {\r\n    if (client.payment_mode && client.plan) {\r\n      const plan = clientState.plans.filter(\r\n        (plan) => plan.id === (client.plan as any)\r\n      )[0]\r\n      setClient((client) => ({\r\n        ...client,\r\n        amount: getAmountToPay({ ...client, plan }) ?? 0,\r\n      }))\r\n    }\r\n  }, [client.payment_mode, client.payment_period, client.plan, client.is_pwd])\r\n\r\n  useEffect(() => {\r\n    const options: OptionProps[] = clientState.plans.map((plan) => ({\r\n      value: plan.id,\r\n      name: plan.name,\r\n    }))\r\n    setPlanOptions(options)\r\n  }, [clientState.plans])\r\n\r\n  const formProps: MyFormProps<Client & Payment> = {\r\n    state: [client, setClient],\r\n    onSubmit: onNext,\r\n    validator,\r\n  }\r\n\r\n  const isSenior = calculateAge(client?.profile?.birthdate) >= 60\r\n\r\n  return (\r\n    <MyForm {...formProps}>\r\n      {({\r\n        myControlledInput,\r\n        myInput,\r\n        mySelect,\r\n        myButton,\r\n        myDateTimePicker,\r\n      }) => (\r\n        <>\r\n          {mySelect({\r\n            label: 'Plan',\r\n            value: client.plan,\r\n            name: 'plan',\r\n            labelWidth: 30,\r\n            options: planOptions,\r\n          })}\r\n          {mySelect({\r\n            label: 'Payment Mode',\r\n            value: client.payment_mode,\r\n            name: 'payment_mode',\r\n            labelWidth: 110,\r\n            options: [{ value: 'Installment' }, { value: 'Fullpayment' }],\r\n          })}\r\n\r\n          {client.payment_mode && client.plan && (\r\n            <>\r\n              {client.payment_mode === 'Installment' &&\r\n                mySelect({\r\n                  label: 'Payment Period',\r\n                  value: client.payment_period,\r\n                  name: 'payment_period',\r\n                  labelWidth: 120,\r\n                  options: [\r\n                    { value: 'Monthly' },\r\n                    { value: 'Quarterly' },\r\n                    { value: 'Semi-Annually' },\r\n                    { value: 'Annually' },\r\n                  ],\r\n                })}\r\n              <Grid\r\n                xs={12}\r\n                spacing={1}\r\n                style={{\r\n                  marginBottom: 10,\r\n                  marginTop: 5,\r\n                  paddingLeft: 8,\r\n                }}\r\n                container\r\n              >\r\n                {myControlledInput({\r\n                  label: 'Amount',\r\n                  name: 'amount',\r\n                  value: client.amount,\r\n                })}\r\n                <Grid style={{ marginTop: 10 }} xs={12} item>\r\n                  {myInput({\r\n                    label: 'OR Number',\r\n                    name: 'or_number',\r\n                  })}\r\n                </Grid>\r\n              </Grid>\r\n              {myDateTimePicker({\r\n                label: 'Insure Date',\r\n                value: client.created_at,\r\n                name: 'created_at',\r\n              })}\r\n              <Grid\r\n                style={{ marginLeft: 10, marginRight: 10, marginTop: 10 }}\r\n                xs={12}\r\n                container\r\n              >\r\n                <Grid justify='center' container item xs={6}>\r\n                  <Chip\r\n                    style={{ marginTop: 5 }}\r\n                    size='medium'\r\n                    label={isSenior ? 'senior' : 'non-senior'}\r\n                    color={isSenior ? 'secondary' : 'default'}\r\n                    variant='outlined'\r\n                  />\r\n                </Grid>\r\n                <Grid justify='center' container item xs={6}>\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Checkbox\r\n                        checked={client?.is_pwd}\r\n                        onChange={(e, checked) =>\r\n                          setClient((client) => ({\r\n                            ...client,\r\n                            is_pwd: checked,\r\n                          }))\r\n                        }\r\n                        name='pwd'\r\n                        color='primary'\r\n                      />\r\n                    }\r\n                    label='PWD'\r\n                  />\r\n                </Grid>\r\n              </Grid>\r\n            </>\r\n          )}\r\n\r\n          <Grid\r\n            style={{ paddingLeft: 18, paddingTop: 15, paddingBottom: 15 }}\r\n            container\r\n            xs={12}\r\n            justify='center'\r\n            spacing={2}\r\n          >\r\n            <Grid item xs={6}>\r\n              <Button\r\n                onClick={() => onBack()}\r\n                fullWidth\r\n                variant='contained'\r\n                color='default'\r\n              >\r\n                BACK\r\n              </Button>\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              {myButton('PAY')}\r\n            </Grid>\r\n          </Grid>\r\n        </>\r\n      )}\r\n    </MyForm>\r\n  )\r\n}\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Clients\\NewClient\\ClientStepTwo.tsx",["552","553","554","555","556","557","558","559","560","561"],"import React, { useEffect, useState, useContext } from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport MyForm, { MyFormProps } from 'components/common/MyForm'\r\nimport Client from 'models/client'\r\nimport Commissioner from 'models/commissioner'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport validator from 'validators/clientStepTwoValidator'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport { getEmployees } from 'services/employeeService'\r\nimport Employee from 'models/employee'\r\nimport Branch from 'models/branch'\r\nimport { access } from 'fs'\r\nimport Employees from 'components/pages/Employees'\r\n\r\nexport interface ClientStepTwoProps {\r\n  onBack: () => void\r\n  onNext: (commissioner: Commissioner) => Promise<void>\r\n  state: [Commissioner, React.Dispatch<React.SetStateAction<Commissioner>>]\r\n  employees: Employee[]\r\n}\r\n\r\nexport const ClientStepTwo: React.SFC<ClientStepTwoProps> = ({\r\n  state: [commissioner, setCommissioner],\r\n  onBack,\r\n  onNext,\r\n  employees,\r\n}) => {\r\n  const [branch, setBranch] = useState<{ value: any; name: string } | null>(\r\n    null\r\n  )\r\n\r\n  const formProps: MyFormProps<Commissioner> = {\r\n    state: [commissioner, setCommissioner],\r\n    onSubmit: onNext,\r\n    validator,\r\n    radioButtonDefaultValue: commissioner.position,\r\n  }\r\n\r\n  useEffect(() => {\r\n    setCommissioner({\r\n      position: 'sales_agent',\r\n    })\r\n  }, [branch])\r\n\r\n  const employeeOptions = (id: number) =>\r\n    employees\r\n      .filter(\r\n        (employee) =>\r\n          employee.position?.id === id && +branch?.value === employee.branch?.id\r\n      )\r\n      .map((employee) => ({\r\n        value: employee.id || '',\r\n        name: `${employee.profile?.lastname}, ${employee.profile?.firstname}`,\r\n      }))\r\n\r\n  const branchOptions: { value: any; name: string }[] = []\r\n  const map = new Map()\r\n  for (const employee of employees) {\r\n    if (!map.has(employee?.branch?.id)) {\r\n      map.set(employee?.branch?.id, true)\r\n      branchOptions.push({\r\n        value: +employee.branch?.id!,\r\n        name: employee.branch?.name!,\r\n      })\r\n    }\r\n  }\r\n\r\n  const handleBranch = (e: any) => {\r\n    const b = branchOptions.find((b) => b.value === +e.target.value)\r\n    console.log(b)\r\n    setBranch(b || null)\r\n  }\r\n\r\n  return (\r\n    <MyForm {...formProps}>\r\n      {({ myRadio, mySelect, myButton }) => (\r\n        <>\r\n          <Grid\r\n            style={{ paddingLeft: 10, marginTop: 5 }}\r\n            spacing={2}\r\n            container\r\n            xs={12}\r\n          >\r\n            <Grid item xs={12}>\r\n              {mySelect({\r\n                label: 'Branch',\r\n                value: branch?.value || '',\r\n                name: 'branch',\r\n                labelWidth: 55,\r\n                onChange: handleBranch,\r\n                options: branchOptions,\r\n              })}\r\n            </Grid>\r\n            <>\r\n              <Grid item xs={10}>\r\n                {mySelect({\r\n                  label: 'Branch Manager',\r\n                  value: commissioner.branch_manager || '',\r\n                  name: 'branch_manager',\r\n                  labelWidth: 120,\r\n                  options: employeeOptions(1),\r\n                })}\r\n              </Grid>\r\n              <Grid container item xs={2} justify='center' alignItems='center'>\r\n                {myRadio({ value: 'branch_manager', name: 'position' })}\r\n              </Grid>\r\n            </>\r\n            <>\r\n              <Grid item xs={10}>\r\n                {mySelect({\r\n                  label: 'Agency Manager',\r\n                  value: commissioner.agency_manager || '',\r\n                  name: 'agency_manager',\r\n                  labelWidth: 120,\r\n                  options: employeeOptions(2),\r\n                })}\r\n              </Grid>\r\n              <Grid container item xs={2} justify='center' alignItems='center'>\r\n                {myRadio({ value: 'agency_manager', name: 'position' })}\r\n              </Grid>\r\n            </>\r\n            <>\r\n              <Grid item xs={10}>\r\n                {mySelect({\r\n                  label: 'Supervisor',\r\n                  value: commissioner.supervisor || '',\r\n                  name: 'supervisor',\r\n                  labelWidth: 80,\r\n                  options: employeeOptions(3),\r\n                })}\r\n              </Grid>\r\n              <Grid container item xs={2} justify='center' alignItems='center'>\r\n                {myRadio({ value: 'supervisor', name: 'position' })}\r\n              </Grid>\r\n            </>\r\n\r\n            <>\r\n              <Grid item xs={10}>\r\n                {mySelect({\r\n                  label: 'Sales Agent',\r\n                  value: commissioner.sales_agent || '',\r\n                  name: 'sales_agent',\r\n                  labelWidth: 85,\r\n                  options: employeeOptions(4),\r\n                })}\r\n              </Grid>\r\n              <Grid container item xs={2} justify='center' alignItems='center'>\r\n                {myRadio({ value: 'sales_agent', name: 'position' })}\r\n              </Grid>\r\n            </>\r\n          </Grid>\r\n\r\n          <Grid\r\n            style={{ paddingLeft: 18, paddingTop: 15, paddingBottom: 15 }}\r\n            container\r\n            xs={12}\r\n            justify='center'\r\n            spacing={2}\r\n          >\r\n            <Grid item xs={6}>\r\n              <Button\r\n                onClick={() => onBack()}\r\n                style={{ paddingTop: 15, paddingBottom: 15 }}\r\n                fullWidth\r\n                variant='contained'\r\n                color='default'\r\n              >\r\n                BACK\r\n              </Button>\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              {myButton('NEXT')}\r\n            </Grid>\r\n          </Grid>\r\n        </>\r\n      )}\r\n    </MyForm>\r\n  )\r\n}\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Clients\\NewClient\\ClientStepOne.tsx",["562"],"import React, { useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport MyForm, { MyFormProps } from \"components/common/MyForm\";\r\nimport Profile from \"models/profile\";\r\nimport validator from \"validators/saveProfileValidator\";\r\nimport { GlobalContext } from \"providers/GlobalProvider\";\r\n\r\nexport interface ClientStepOneProps {\r\n  state: [Profile, React.Dispatch<React.SetStateAction<Profile>>];\r\n  onNext: (profile: Profile) => Promise<void>;\r\n}\r\n\r\nexport const ClientStepOne: React.SFC<ClientStepOneProps> = ({\r\n  state: [profile, setProfile],\r\n  onNext,\r\n}) => {\r\n  const [{ currentUser }, _] = useContext(GlobalContext)!;\r\n\r\n  const history = useHistory();\r\n\r\n  const [imageFile, setImageFile] = React.useState<HTMLImageElement | null>(\r\n    null\r\n  );\r\n\r\n  const formProps: MyFormProps<Profile> = {\r\n    state: [profile, setProfile],\r\n    onSubmit: onNext,\r\n    validator,\r\n  };\r\n\r\n  return (\r\n    <MyForm {...formProps}>\r\n      {({ myInput, mySelect, myDateTimePicker, myButton }) => (\r\n        <>\r\n          {myInput({\r\n            label: \"Firstname\",\r\n            value: profile.firstname,\r\n            name: \"firstname\",\r\n          })}\r\n          {myInput({\r\n            label: \"Middlename\",\r\n            value: profile.middlename,\r\n            name: \"middlename\",\r\n          })}\r\n          {myInput({\r\n            label: \"Lastname\",\r\n            value: profile.lastname,\r\n            name: \"lastname\",\r\n          })}\r\n          {myInput({\r\n            label: \"Contact Number\",\r\n            value: profile.contact,\r\n            name: \"contact\",\r\n          })}\r\n\r\n          {myInput({\r\n            label: \"Address\",\r\n            value: profile.address,\r\n            name: \"address\",\r\n            isMultiline: true,\r\n          })}\r\n\r\n          {myDateTimePicker({\r\n            label: \"Birthdate\",\r\n            value: profile.birthdate,\r\n            name: \"birthdate\",\r\n          })}\r\n\r\n          {mySelect({\r\n            label: \"Gender\",\r\n            value: profile.gender,\r\n            name: \"gender\",\r\n            options: [\r\n              { value: \"Male\" },\r\n              { value: \"Female\" },\r\n              { value: \"Other\" },\r\n            ],\r\n          })}\r\n\r\n          {mySelect({\r\n            label: \"Civil Status\",\r\n            value: profile.civil,\r\n            name: \"civil\",\r\n            labelWidth: 80,\r\n            options: [\r\n              { value: \"Single\" },\r\n              { value: \"Married\" },\r\n              { value: \"Widowed\" },\r\n            ],\r\n          })}\r\n\r\n          <Grid\r\n            container\r\n            style={{\r\n              paddingLeft: 15,\r\n              paddingRight: 15,\r\n              marginBottom: 10,\r\n            }}\r\n            alignItems=\"center\"\r\n            justify=\"space-between\"\r\n            xs={12}\r\n          >\r\n            <Typography variant=\"subtitle1\">\r\n              {imageFile?.name || \"Select Photo\"}\r\n            </Typography>\r\n            <>\r\n              <input\r\n                accept=\"image/*\"\r\n                style={{\r\n                  display: \"none\",\r\n                }}\r\n                name=\"image\"\r\n                id=\"icon-button-file\"\r\n                type=\"file\"\r\n                onChange={(e: any) => {\r\n                  setImageFile(e.target.files[0]);\r\n                }}\r\n              />\r\n              <label htmlFor=\"icon-button-file\">\r\n                <IconButton\r\n                  color=\"primary\"\r\n                  aria-label=\"upload picture\"\r\n                  component=\"span\"\r\n                >\r\n                  <PhotoCamera />\r\n                </IconButton>\r\n              </label>\r\n            </>\r\n          </Grid>\r\n\r\n          <Grid\r\n            style={{ paddingLeft: 18, paddingTop: 10, paddingBottom: 5 }}\r\n            container\r\n            xs={12}\r\n            justify=\"center\"\r\n            spacing={2}\r\n          >\r\n            <Grid item xs={6}>\r\n              {currentUser?.role === \"admin\" && (\r\n                <Button\r\n                  onClick={() => history.goBack()}\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"default\"\r\n                >\r\n                  BACK\r\n                </Button>\r\n              )}\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              {myButton(\"NEXT\")}\r\n            </Grid>\r\n          </Grid>\r\n        </>\r\n      )}\r\n    </MyForm>\r\n  );\r\n};\r\n\r\nexport default ClientStepOne;\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\validators\\saveEmployeeValidator.tsx",["563","564"],"import Joi from 'joi'\r\nimport Employee from 'models/employee'\r\nimport { lettersOnly, notNull } from 'utils/helper'\r\n\r\nconst saveEmployeeValidator = {\r\n  firstname: lettersOnly('Firstname').min(1).max(50),\r\n  middlename: lettersOnly('Middlename').min(1).max(50),\r\n  lastname: lettersOnly('Lastname').min(1).max(50),\r\n  position: notNull('Position'),\r\n  status: notNull('Status'),\r\n  civil: notNull('Civil Status'),\r\n  gender: notNull('Gender'),\r\n  branch: notNull('Branch'),\r\n}\r\n\r\nexport default saveEmployeeValidator\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Employees\\EmployeeCard\\index.tsx",["565","566","567"],"import React, { useContext, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport ViewIcon from '@material-ui/icons/RemoveRedEye'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport Chip from '@material-ui/core/Chip'\r\n\r\nimport MyCard from 'components/common/MyCard'\r\nimport MyAvatar from 'components/common/MyAvatar'\r\nimport Employee from 'models/employee'\r\nimport { EmployeeContext } from 'providers/EmployeeProvider'\r\n\r\nexport interface EmployeesProps {\r\n  employee: Partial<Employee>\r\n  onArchive?: (employee: Employee) => void\r\n}\r\n\r\nconst EmployeeCard: React.SFC<EmployeesProps> = ({ employee, onArchive }) => {\r\n  const history = useHistory()\r\n\r\n  return (\r\n    <>\r\n      <MyCard title={'Employee#' + employee.id} style={{ paddingBottom: 5 }}>\r\n        <CardContent>\r\n          <Grid container xs={12} justify='space-between'>\r\n            <Grid\r\n              style={{ paddingLeft: 10 }}\r\n              container\r\n              item\r\n              direction='column'\r\n              xs={7}\r\n              justify='flex-start'\r\n            >\r\n              <Typography component='h3' variant='h6'>\r\n                {`${employee.lastname}, ${employee.firstname} ${employee.middlename}`}\r\n              </Typography>\r\n              <Typography variant='subtitle1' color='textSecondary'>\r\n                {employee?.position?.name}\r\n              </Typography>\r\n              <Typography variant='subtitle1' color='textSecondary'>\r\n                {employee?.branch?.name}\r\n              </Typography>\r\n\r\n              <Grid item xs={1}>\r\n                <Chip\r\n                  style={{ marginTop: 5 }}\r\n                  size='small'\r\n                  label={employee.status}\r\n                  variant='outlined'\r\n                  color={\r\n                    employee.status !== 'active'\r\n                      ? employee.status === 'deactive'\r\n                        ? 'secondary'\r\n                        : 'default'\r\n                      : 'primary'\r\n                  }\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            <Grid container item xs={5} justify='center' alignItems='center'>\r\n              <MyAvatar\r\n                src={employee.image_url}\r\n                onClick={() => history.push('/employees/' + employee.id)}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n\r\n        <Divider style={{ marginLeft: 20, marginRight: 20 }}></Divider>\r\n        <Grid container xs={12} justify='space-evenly'>\r\n          <IconButton\r\n            onClick={() => history.push('/employees/' + employee.id)}\r\n            aria-label='view'\r\n          >\r\n            <ViewIcon />\r\n          </IconButton>\r\n          <IconButton\r\n            onClick={() => history.push('/employees/edit/' + employee.id)}\r\n            aria-label='edit'\r\n          >\r\n            <EditIcon />\r\n          </IconButton>\r\n          <IconButton\r\n            onClick={() => onArchive?.(employee)}\r\n            aria-label='archive'\r\n          >\r\n            <DeleteIcon />\r\n          </IconButton>\r\n        </Grid>\r\n      </MyCard>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default EmployeeCard\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Branches\\BranchCard\\index.tsx",["568","569","570"],"import CardContent from '@material-ui/core/CardContent'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport MyCard from 'components/common/MyCard'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport ViewIcon from '@material-ui/icons/RemoveRedEye'\r\nimport Divider from '@material-ui/core/Divider'\r\n\r\nimport Branch from 'models/branch'\r\n\r\nexport interface BranchCardProps {\r\n  branch: Branch\r\n  onArchive?: (branch: Branch) => void\r\n}\r\n\r\nconst BranchCard: React.SFC<BranchCardProps> = ({ branch, onArchive }) => {\r\n  const history = useHistory()\r\n  return (\r\n    <MyCard title={`Branch#${branch.id}`}>\r\n      <CardContent>\r\n        <Grid style={{ marginBottom: 20 }} xs={12} direction='column' container>\r\n          <Typography component='h3' variant='h6'>\r\n            {branch.name}\r\n          </Typography>\r\n          <Typography variant='subtitle1' color='textSecondary'>\r\n            {branch.contact}\r\n          </Typography>\r\n          <Typography variant='subtitle1' color='textSecondary'>\r\n            {branch.address}\r\n          </Typography>\r\n        </Grid>\r\n        <Divider style={{ marginLeft: 20, marginRight: 20 }}></Divider>\r\n        <Grid container xs={12} justify='space-evenly'>\r\n          <IconButton\r\n            onClick={() => history.push('/branches/edit/' + branch.id)}\r\n            aria-label='edit'\r\n          >\r\n            <EditIcon />\r\n          </IconButton>\r\n          <IconButton onClick={() => onArchive?.(branch)} aria-label='archive'>\r\n            <DeleteIcon />\r\n          </IconButton>\r\n        </Grid>\r\n      </CardContent>\r\n    </MyCard>\r\n  )\r\n}\r\n\r\nexport default BranchCard\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Clients\\ClientCard\\index.tsx",["571"],"import MyCard from 'components/common/MyCard'\r\nimport { useContext } from 'react'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport ViewIcon from '@material-ui/icons/RemoveRedEye'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport Client from 'models/client'\r\nimport { useHistory } from 'react-router-dom'\r\nimport MyAvatar from 'components/common/MyAvatar'\r\n\r\nimport { computeTotalCountPaid, hasCommission } from 'services/clientService'\r\n\r\nexport interface ClientCardProps {\r\n  client: Client\r\n  onArchieve?: (client: Client) => void\r\n}\r\n\r\nexport const ClientCard: React.SFC<ClientCardProps> = ({\r\n  client,\r\n  onArchieve,\r\n}) => {\r\n  const history = useHistory()\r\n  return (\r\n    <MyCard title={`Code#${client.code}`} style={{ paddingBottom: 5 }}>\r\n      <CardContent>\r\n        <Grid container xs={12} justify='space-between'>\r\n          <Grid\r\n            style={{ paddingLeft: 10 }}\r\n            container\r\n            item\r\n            direction='column'\r\n            xs={7}\r\n            justify='flex-start'\r\n          >\r\n            <Typography component='h6' variant='h6'>\r\n              {`${client.lastname}, ${client.firstname} ${client.middlename}`}\r\n            </Typography>\r\n            <Typography variant='subtitle1' color='textSecondary'>\r\n              {client?.branch?.name}\r\n            </Typography>\r\n            <Typography variant='subtitle1' color='textSecondary'>\r\n              {client.plan?.name! + ' - ' + client.payment_mode}\r\n            </Typography>\r\n\r\n            {client.payment_mode === 'Installment' && (\r\n              <>\r\n                <Typography variant='caption' color='textSecondary'>\r\n                  {'Lapse on ' + new Date(client.next_payment!).toDateString()}\r\n                </Typography>\r\n                <Grid item xs={1}>\r\n                  <Chip\r\n                    style={{ marginTop: 5 }}\r\n                    size='small'\r\n                    label={\r\n                      hasCommission(client!) ? 'on commission' : 'no commission'\r\n                    }\r\n                    variant='outlined'\r\n                    color={hasCommission(client!) ? 'secondary' : 'default'}\r\n                  />\r\n                  <Chip\r\n                    style={{ marginTop: 10 }}\r\n                    size='small'\r\n                    label={computeTotalCountPaid(client) + ' paid'}\r\n                    color='default'\r\n                    variant='outlined'\r\n                  />\r\n                </Grid>\r\n              </>\r\n            )}\r\n          </Grid>\r\n          <Grid container item xs={5} justify='center' alignItems='center'>\r\n            <MyAvatar\r\n              src={client?.image_url}\r\n              onClick={() => history.push('/clients/' + client.id)}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </CardContent>\r\n\r\n      <Divider style={{ marginLeft: 20, marginRight: 20 }}></Divider>\r\n      <Grid container xs={12} justify='space-evenly'>\r\n        <IconButton\r\n          onClick={() => history.push('/clients/' + client.id)}\r\n          aria-label='view'\r\n        >\r\n          <ViewIcon />\r\n        </IconButton>\r\n        <IconButton\r\n          onClick={() => history.push('/clients/edit/' + client.id)}\r\n          aria-label='edit'\r\n        >\r\n          <EditIcon />\r\n        </IconButton>\r\n        <IconButton onClick={() => onArchieve?.(client)} aria-label='archive'>\r\n          <DeleteIcon />\r\n        </IconButton>\r\n      </Grid>\r\n    </MyCard>\r\n  )\r\n}\r\nexport default ClientCard\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\imageService.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Payments\\PaymentCard\\index.tsx",["572"],"import CardContent from '@material-ui/core/CardContent'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport MyCard from 'components/common/MyCard'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport Payment from 'models/payment'\r\nimport { useHistory } from 'react-router-dom'\r\nimport MyAvatar from 'components/common/MyAvatar'\r\nimport { toMoney } from 'utils/helper'\r\n\r\nexport interface PaymentCardProps {\r\n  payment: Payment\r\n}\r\n\r\nconst PaymentCard: React.SFC<PaymentCardProps> = ({ payment }) => {\r\n  const history = useHistory()\r\n\r\n  const client = payment.client\r\n\r\n  const fullname = `${client?.profile?.lastname}, ${client?.profile?.firstname} ${client?.profile?.middlename}`\r\n  return (\r\n    <MyCard title={'OR#' + payment.or_number} style={{ paddingBottom: 5 }}>\r\n      <CardContent>\r\n        <Grid\r\n          style={{ marginBottom: 20 }}\r\n          xs={12}\r\n          justify='space-between'\r\n          container\r\n        >\r\n          <Grid\r\n            style={{ paddingLeft: 10 }}\r\n            container\r\n            item\r\n            direction='column'\r\n            xs={7}\r\n            justify='flex-start'\r\n          >\r\n            <Typography component='h3' variant='h6'>\r\n              {fullname}\r\n            </Typography>\r\n            <Typography variant='subtitle1' color='textSecondary'>\r\n              {payment.client?.code}\r\n            </Typography>\r\n            <Typography variant='subtitle1' color='textSecondary'>\r\n              {payment.client?.branch?.name}\r\n            </Typography>\r\n            <Typography variant='subtitle1' color='textSecondary'>\r\n              {toMoney(payment?.amount!)}\r\n            </Typography>\r\n            {/* <Typography variant='caption' color='textSecondary'>\r\n              {'Paid on ' + new Date(payment.created_at!).toDateString()}\r\n            </Typography> */}\r\n          </Grid>\r\n          <Grid container item xs={5} justify='center' alignItems='center'>\r\n            <MyAvatar\r\n              src={payment?.client?.profile?.image_url}\r\n              onClick={() => history.push('/payments/' + payment.id)}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n        <Divider style={{ marginLeft: 20, marginRight: 20 }}></Divider>\r\n        <Grid\r\n          style={{ paddingLeft: 15, paddingRight: 15, paddingTop: 20 }}\r\n          container\r\n          xs={12}\r\n          justify='space-evenly'\r\n        >\r\n          <Grid item xs={3}></Grid>\r\n          <Grid item xs={6}>\r\n            <Button\r\n              onClick={() => history.push('/payments/' + payment.id)}\r\n              fullWidth\r\n              variant='text'\r\n              color='primary'\r\n            >\r\n              Commissioners\r\n            </Button>\r\n          </Grid>\r\n\r\n          <Grid item xs={3}></Grid>\r\n        </Grid>\r\n      </CardContent>\r\n    </MyCard>\r\n  )\r\n}\r\n\r\nexport default PaymentCard\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\validators\\saveProfileValidator.tsx",["573"],"import Joi from 'joi'\r\nimport { lettersOnly, notNull } from 'utils/helper'\r\n\r\nconst saveProfileValidator = {\r\n  firstname: lettersOnly('Firstname').min(1).max(50),\r\n  middlename: lettersOnly('Middlename').min(1).max(50),\r\n  lastname: lettersOnly('Lastname').min(1).max(50),\r\n  civil: notNull('Civil Status'),\r\n  gender: notNull('Gender'),\r\n}\r\n\r\nexport default saveProfileValidator\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MySkeletonCards\\index.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyStepper\\index.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\validators\\clientStepTwoValidator.tsx",["574"],"import Joi from 'joi'\r\nimport { lettersOnly, notNull } from 'utils/helper'\r\n\r\nconst clientStepTwoValidator = {\r\n  branch_manager: notNull('Branch Manager'),\r\n  agency_manager: notNull('Agency Manager'),\r\n  supervisor: notNull('Supervisor'),\r\n  sales_agent: Joi.optional(),\r\n  position: notNull('Position'),\r\n  insured_employee: Joi.optional(),\r\n}\r\n\r\nexport default clientStepTwoValidator\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\validators\\clientStepThreeValidator.tsx",["575"],"import Joi from 'joi'\r\nimport { lettersOnly, notNull } from 'utils/helper'\r\n\r\nconst clientStepThreeValidator = {\r\n  plan: notNull('Plan'),\r\n  amount: Joi.number().required().label('Amount'),\r\n  payment_mode: notNull('Payment Mode'),\r\n  or_number: notNull('OR Number'),\r\n  payment_period: Joi.when('payment_mode', {\r\n    is: Joi.string().valid('Fullpayment'),\r\n    then: Joi.valid(null),\r\n    otherwise: notNull('Payment Period'),\r\n  }),\r\n  created_at: notNull('Insure Date'),\r\n}\r\n\r\nexport default clientStepThreeValidator\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Users\\index.tsx",["576","577","578"],"import UserCard from 'components/pages/Users/UserCard'\r\nimport { UserContext } from 'providers/UserProvider'\r\nimport { useHistory, useLocation } from 'react-router-dom'\r\n\r\nimport { useContext, useEffect, useState } from 'react'\r\nimport { getUsers, archiveUser } from 'services/userService'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Pagination from '@material-ui/lab/Pagination'\r\nimport User from 'models/user'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport MyAlertDialog, { AlertDataProps } from 'components/common/MyAlertDialog'\r\nimport MySearchField from 'components/common/MySearchField'\r\nimport MyChips, { MyChip } from 'components/common/MyChips'\r\nimport MySkeletonCards from 'components/common/MySkeletonCards'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport AddIcon from '@material-ui/icons/Add'\r\n\r\nexport interface UsersProps {}\r\n\r\nconst Users: React.SFC<UsersProps> = () => {\r\n  const [userState, userDispatch] = useContext(UserContext)!\r\n\r\n  const history = useHistory()\r\n\r\n  const [_, globalDispatch] = useContext(GlobalContext)!\r\n\r\n  const [chip, setChip] = useState<MyChip>({ value: '', name: 'All' })\r\n\r\n  const [page, setPage] = useState(1)\r\n\r\n  useEffect(() => {\r\n    globalDispatch({ type: 'SET_TITLE', payload: 'User Management' })\r\n    onLoad({ page: 1, search: '' })\r\n  }, [])\r\n\r\n  const onLoad = ({ page, search }: { page?: number; search?: string }) => {\r\n    globalDispatch({ type: 'SET_IS_LOADING', payload: true })\r\n    userDispatch({ type: 'SET_IS_LOADING', payload: true })\r\n    getUsers({ page, search }).then(({ users, pages, total }) => {\r\n      globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n\r\n      userDispatch({ type: 'ON_LOAD_USERS', payload: { users, pages, total } })\r\n    })\r\n  }\r\n\r\n  const onPage = (e: any, page: number) => {}\r\n\r\n  const handleSelectedUser = (user: User) => {\r\n    setUser(user)\r\n    setAlertDialog({\r\n      open: true,\r\n      text: `Are you sure you want to archive ${user.lastname}, ${user.firstname} ${user.middlename}?`,\r\n      description:\r\n        'Archiving will not permanently delete the user account in the database.',\r\n    })\r\n  }\r\n\r\n  const [alertDialog, setAlertDialog] = useState<AlertDataProps>({})\r\n\r\n  const [user, setUser] = useState<User>()\r\n\r\n  const handleArchive = () => {\r\n    archiveUser(user?.id!).then((data) => {\r\n      onLoad({\r\n        page,\r\n      })\r\n      globalDispatch({\r\n        type: 'SET_ALERT',\r\n        payload: { message: 'Successfully archived', type: 'success' },\r\n      })\r\n      setChip({ value: '', name: 'All' })\r\n    })\r\n    setAlertDialog({\r\n      open: false,\r\n    })\r\n  }\r\n\r\n  const onSearch = (search: string) => {\r\n    setChip({ value: '', name: 'All' })\r\n    setPage(1)\r\n    onLoad({ page: 1, search })\r\n    history.push('/users?search=' + search)\r\n  }\r\n\r\n  const onFilter = (chip: MyChip) => {\r\n    setChip(chip)\r\n    userDispatch({ type: 'SET_TOTAL', payload: 0 })\r\n    setPage(1)\r\n    onLoad({ page: 1 })\r\n  }\r\n\r\n  const chips: MyChip[] = [{ value: '', name: 'All' }]\r\n\r\n  const isLoading = userState.isLoading && !userState.users.length\r\n\r\n  return (\r\n    <>\r\n      <MyAlertDialog\r\n        onAgree={handleArchive}\r\n        onDisagree={() => setAlertDialog({ open: false })}\r\n        data={alertDialog}\r\n      />\r\n      <MySearchField\r\n        label='Name / Username'\r\n        labelWidth={130}\r\n        onSearch={onSearch}\r\n        style={{ marginBottom: 5 }}\r\n      />\r\n\r\n      <MyChips\r\n        count={userState.total}\r\n        active={chip}\r\n        onChipSelected={onFilter}\r\n        chips={chips}\r\n      />\r\n      {isLoading && <MySkeletonCards />}\r\n      {!isLoading && (\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n          direction='column'\r\n          justify='flex-start'\r\n          alignItems='center'\r\n        >\r\n          {userState.users.map((user) => (\r\n            <Grid key={user.id} item xs={12}>\r\n              <UserCard onArchive={handleSelectedUser} user={user} />\r\n            </Grid>\r\n          ))}\r\n          <Pagination\r\n            style={{ marginTop: 15, marginBottom: 15 }}\r\n            variant='outlined'\r\n            color='primary'\r\n            count={userState.pages}\r\n            siblingCount={0}\r\n            page={page}\r\n            onChange={onPage}\r\n          />\r\n        </Grid>\r\n      )}\r\n      <Fab\r\n        onClick={() => history.push('/users/new')}\r\n        style={{\r\n          position: 'fixed',\r\n          bottom: 60,\r\n          right: 20,\r\n        }}\r\n        color='primary'\r\n        aria-label='add'\r\n      >\r\n        <AddIcon />\r\n      </Fab>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Users\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Users\\UserCard\\index.tsx",["579","580","581","582"],"import React, { useContext, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport ViewIcon from '@material-ui/icons/RemoveRedEye'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport Chip from '@material-ui/core/Chip'\r\n\r\nimport MyCard from 'components/common/MyCard'\r\nimport MyAvatar from 'components/common/MyAvatar'\r\nimport User from 'models/user'\r\n\r\nexport interface UserCardProps {\r\n  user: User\r\n  onArchive?: (user: User) => void\r\n}\r\n\r\nconst UserCard: React.SFC<UserCardProps> = ({ user, onArchive }) => {\r\n  const history = useHistory()\r\n  return (\r\n    <>\r\n      <MyCard title={'Username#' + user?.username} style={{ paddingBottom: 5 }}>\r\n        <CardContent>\r\n          <Grid container xs={12} justify='space-between'>\r\n            <Grid\r\n              style={{ paddingLeft: 10 }}\r\n              container\r\n              item\r\n              direction='column'\r\n              xs={7}\r\n              justify='flex-start'\r\n            >\r\n              <Typography component='h3' variant='h6'>\r\n                {`${user?.lastname!}, ${user?.firstname!} ${user?.middlename!}`}\r\n              </Typography>\r\n              <Typography variant='subtitle1' color='textSecondary'>\r\n                {user?.branch?.name}\r\n              </Typography>\r\n              <Typography variant='subtitle1' color='textSecondary'>\r\n                {user?.role!}\r\n              </Typography>\r\n            </Grid>\r\n            <Grid container item xs={5} justify='center' alignItems='center'>\r\n              <MyAvatar\r\n                src={user.image_url}\r\n                onClick={() => history.push('/users/' + user.id)}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n        </CardContent>\r\n\r\n        <Divider style={{ marginLeft: 20, marginRight: 20 }}></Divider>\r\n        <Grid container xs={12} justify='space-evenly'>\r\n          {/* <IconButton\r\n            onClick={() => history.push('/users/' + user.id)}\r\n            aria-label='view'\r\n          >\r\n            <ViewIcon />\r\n          </IconButton> */}\r\n          <IconButton\r\n            onClick={() => history.push('/users/edit/' + user.id)}\r\n            aria-label='edit'\r\n          >\r\n            <EditIcon />\r\n          </IconButton>\r\n          <IconButton onClick={() => onArchive?.(user)} aria-label='archive'>\r\n            <DeleteIcon />\r\n          </IconButton>\r\n        </Grid>\r\n      </MyCard>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default UserCard\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\providers\\UserProvider.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\userService.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Employees\\NewEmployee\\index.tsx",["583","584","585"],"import React, { useContext, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport PhotoCamera from \"@material-ui/icons/PhotoCamera\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport { GlobalContext } from \"providers/GlobalProvider\";\r\nimport validator from \"../../../../validators/saveEmployeeValidator\";\r\nimport MyForm, { MyFormProps, InputProps } from \"components/common/MyForm\";\r\nimport Employee from \"models/employee\";\r\nimport { saveEmployee } from \"services/employeeService\";\r\nimport { EmployeeContext } from \"providers/EmployeeProvider\";\r\nimport { postImage } from \"services/imageService\";\r\nimport { getBranches } from \"services/branchService\";\r\nimport { BranchContext } from \"providers/BranchProvider\";\r\n\r\nexport interface NewUserProps {}\r\n\r\nconst NewEmployee: React.SFC<NewUserProps> = () => {\r\n  const [{ currentUser }, globalDispatch] = useContext(GlobalContext)!;\r\n\r\n  const [employeeState, employeeDispatch] = useContext(EmployeeContext)!;\r\n\r\n  const [branchState, branchDispatch] = useContext(BranchContext)!;\r\n\r\n  const [imageFile, setImageFile] = React.useState<HTMLImageElement | null>(\r\n    null\r\n  );\r\n\r\n  useEffect(() => {\r\n    globalDispatch({ type: \"SET_TITLE\", payload: \"Employee Registration\" });\r\n\r\n    getBranches().then((branches) =>\r\n      branchDispatch({ type: \"ON_LOAD_BRANCHES\", payload: branches })\r\n    );\r\n  }, []);\r\n\r\n  const history = useHistory();\r\n\r\n  const [employee, setEmployee] = React.useState<Employee>({\r\n    status: \"deactive\",\r\n  });\r\n\r\n  const onSubmit = async (employee: Employee) => {\r\n    globalDispatch({ type: \"SET_IS_LOADING\", payload: true });\r\n\r\n    return postImage(employee?.image!, (image_url: string) => {\r\n      employee.image_url = image_url;\r\n      delete employee.image;\r\n      return saveEmployee(employee).then(() => {\r\n        globalDispatch({\r\n          type: \"SET_ALERT\",\r\n          payload: { message: \"Successfully added\", type: \"success\" },\r\n        });\r\n        globalDispatch({ type: \"SET_IS_LOADING\", payload: false });\r\n      });\r\n    });\r\n  };\r\n\r\n  const formProps: MyFormProps<Employee> = {\r\n    state: [employee, setEmployee],\r\n    onSubmit,\r\n    validator,\r\n  };\r\n\r\n  return (\r\n    <MyForm {...formProps}>\r\n      {({ myInput, mySelect, myDateTimePicker, myButton }) => (\r\n        <>\r\n          {myInput({\r\n            label: \"Firstname\",\r\n            value: employee.firstname,\r\n            name: \"firstname\",\r\n          })}\r\n          {myInput({\r\n            label: \"Middlename\",\r\n            value: employee.middlename,\r\n            name: \"middlename\",\r\n          })}\r\n          {myInput({\r\n            label: \"Lastname\",\r\n            value: employee.lastname,\r\n            name: \"lastname\",\r\n          })}\r\n          {myInput({\r\n            label: \"Contact Number\",\r\n            value: employee.contact,\r\n            name: \"contact\",\r\n          })}\r\n\r\n          {myInput({\r\n            label: \"Address\",\r\n            value: employee.address,\r\n            name: \"address\",\r\n            isMultiline: true,\r\n          })}\r\n\r\n          {myDateTimePicker({\r\n            label: \"Birthdate\",\r\n            value: employee.birthdate,\r\n            name: \"birthdate\",\r\n          })}\r\n\r\n          {mySelect({\r\n            label: \"Gender\",\r\n            value: employee.gender,\r\n            name: \"gender\",\r\n            options: [\r\n              { value: \"Male\" },\r\n              { value: \"Female\" },\r\n              { value: \"Other\" },\r\n            ],\r\n          })}\r\n          {mySelect({\r\n            label: \"Civil Status\",\r\n            value: employee.civil,\r\n            name: \"civil\",\r\n            labelWidth: 80,\r\n            options: [\r\n              { value: \"Single\" },\r\n              { value: \"Married\" },\r\n              { value: \"Widowed\" },\r\n            ],\r\n          })}\r\n\r\n          {mySelect({\r\n            label: \"Position\",\r\n            value: employee.position,\r\n            name: \"position\",\r\n            labelWidth: 55,\r\n            options: employeeState.positions.map((position) => ({\r\n              value: position.id,\r\n              name: position.name,\r\n            })),\r\n          })}\r\n\r\n          {mySelect({\r\n            label: \"Branch\",\r\n            value: employee.branch,\r\n            name: \"branch\",\r\n            labelWidth: 55,\r\n            options: branchState.branches.map((branch) => ({\r\n              value: branch.id,\r\n              name: branch.name,\r\n            })),\r\n          })}\r\n\r\n          <Grid\r\n            container\r\n            style={{\r\n              paddingLeft: 15,\r\n              paddingRight: 15,\r\n              marginBottom: 10,\r\n            }}\r\n            alignItems=\"center\"\r\n            justify=\"space-between\"\r\n            xs={12}\r\n          >\r\n            <Typography variant=\"subtitle1\">\r\n              {imageFile?.name || \"Select Photo\"}\r\n            </Typography>\r\n            <>\r\n              <input\r\n                accept=\"image/*\"\r\n                style={{\r\n                  display: \"none\",\r\n                }}\r\n                name=\"image\"\r\n                id=\"icon-button-file\"\r\n                type=\"file\"\r\n                onChange={(e: any) => {\r\n                  setImageFile(e.target.files[0]);\r\n                }}\r\n              />\r\n              <label htmlFor=\"icon-button-file\">\r\n                <IconButton\r\n                  color=\"primary\"\r\n                  aria-label=\"upload picture\"\r\n                  component=\"span\"\r\n                >\r\n                  <PhotoCamera />\r\n                </IconButton>\r\n              </label>\r\n            </>\r\n          </Grid>\r\n\r\n          <Grid\r\n            style={{ paddingLeft: 18, paddingTop: 10, paddingBottom: 5 }}\r\n            container\r\n            xs={12}\r\n            justify=\"center\"\r\n            spacing={2}\r\n          >\r\n            <Grid item xs={6}>\r\n              {currentUser?.role === \"admin\" && (\r\n                <Button\r\n                  onClick={() => history.goBack()}\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"default\"\r\n                >\r\n                  BACK\r\n                </Button>\r\n              )}\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              {myButton()}\r\n            </Grid>\r\n          </Grid>\r\n        </>\r\n      )}\r\n    </MyForm>\r\n  );\r\n};\r\nexport default NewEmployee;\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Users\\NewUser\\index.tsx",["586","587","588"],"import React, { useContext, useEffect } from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport validator from 'validators/saveUserValidator'\r\nimport MyForm, { MyFormProps, InputProps } from 'components/common/MyForm'\r\nimport { saveUser } from 'services/userService'\r\nimport { UserContext } from 'providers/UserProvider'\r\nimport { postImage } from 'services/imageService'\r\nimport { getBranches } from 'services/branchService'\r\nimport { BranchContext } from 'providers/BranchProvider'\r\nimport User from 'models/user'\r\n\r\nexport interface NewUserProps {}\r\n\r\nconst NewUser: React.SFC<NewUserProps> = () => {\r\n  const [{ currentUser }, globalDispatch] = useContext(GlobalContext)!\r\n\r\n  const [branchState, branchDispatch] = useContext(BranchContext)!\r\n\r\n  const [imageFile, setImageFile] = React.useState<HTMLImageElement | null>(\r\n    null\r\n  )\r\n\r\n  useEffect(() => {\r\n    globalDispatch({ type: 'SET_TITLE', payload: 'User Registration' })\r\n\r\n    getBranches().then((branches) =>\r\n      branchDispatch({ type: 'ON_LOAD_BRANCHES', payload: branches })\r\n    )\r\n  }, [])\r\n\r\n  const history = useHistory()\r\n\r\n  const [user, setUser] = React.useState<User>({\r\n    username: '',\r\n    firstname: '',\r\n    middlename: '',\r\n    lastname: '',\r\n    role: 'cashier',\r\n    password: '',\r\n  })\r\n\r\n  const onSubmit = async (user: User) => {\r\n    globalDispatch({ type: 'SET_IS_LOADING', payload: true })\r\n\r\n    return postImage(user?.image!, (image_url: string) => {\r\n      user.image_url = image_url\r\n      delete user.image\r\n      return saveUser(user).then(() => {\r\n        globalDispatch({\r\n          type: 'SET_ALERT',\r\n          payload: { message: 'Successfully added', type: 'success' },\r\n        })\r\n        globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n      })\r\n    })\r\n  }\r\n\r\n  const formProps: MyFormProps<User> = {\r\n    state: [user, setUser],\r\n    onSubmit,\r\n    validator,\r\n  }\r\n\r\n  return (\r\n    <MyForm {...formProps}>\r\n      {({ myInput, mySelect, myButton }) => (\r\n        <>\r\n          {myInput({\r\n            label: 'Username',\r\n            value: user.username,\r\n            name: 'username',\r\n          })}\r\n          {myInput({\r\n            label: 'Firstname',\r\n            value: user.firstname,\r\n            name: 'firstname',\r\n          })}\r\n          {myInput({\r\n            label: 'Middlename',\r\n            value: user.middlename,\r\n            name: 'middlename',\r\n          })}\r\n          {myInput({\r\n            label: 'Lastname',\r\n            value: user.lastname,\r\n            name: 'lastname',\r\n          })}\r\n          {myInput({\r\n            label: 'Password',\r\n            value: user.password,\r\n            name: 'password',\r\n            type: 'password',\r\n          })}\r\n\r\n          {mySelect({\r\n            label: 'Role',\r\n            value: user.role,\r\n            name: 'role',\r\n            labelWidth: 55,\r\n            options: [{ value: 'cashier', name: 'Cashier' }],\r\n          })}\r\n\r\n          {mySelect({\r\n            label: 'Branch',\r\n            value: user.branch,\r\n            name: 'branch',\r\n            labelWidth: 55,\r\n            options: branchState.branches.map((branch) => ({\r\n              value: branch.id,\r\n              name: branch.name,\r\n            })),\r\n          })}\r\n\r\n          <Grid\r\n            container\r\n            style={{\r\n              paddingLeft: 15,\r\n              paddingRight: 15,\r\n              marginBottom: 10,\r\n            }}\r\n            alignItems='center'\r\n            justify='space-between'\r\n            xs={12}\r\n          >\r\n            <Typography variant='subtitle1'>\r\n              {imageFile?.name || 'Select Photo'}\r\n            </Typography>\r\n            <>\r\n              <input\r\n                accept='image/*'\r\n                style={{\r\n                  display: 'none',\r\n                }}\r\n                name='image'\r\n                id='icon-button-file'\r\n                type='file'\r\n                onChange={(e: any) => {\r\n                  setImageFile(e.target.files[0])\r\n                }}\r\n              />\r\n              <label htmlFor='icon-button-file'>\r\n                <IconButton\r\n                  color='primary'\r\n                  aria-label='upload picture'\r\n                  component='span'\r\n                >\r\n                  <PhotoCamera />\r\n                </IconButton>\r\n              </label>\r\n            </>\r\n          </Grid>\r\n\r\n          <Grid\r\n            style={{ paddingLeft: 18, paddingTop: 10, paddingBottom: 5 }}\r\n            container\r\n            xs={12}\r\n            justify='center'\r\n            spacing={2}\r\n          >\r\n            <Grid item xs={6}>\r\n              {currentUser?.role === 'admin' && (\r\n                <Button\r\n                  onClick={() => history.goBack()}\r\n                  fullWidth\r\n                  variant='contained'\r\n                  color='default'\r\n                >\r\n                  BACK\r\n                </Button>\r\n              )}\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              {myButton()}\r\n            </Grid>\r\n          </Grid>\r\n        </>\r\n      )}\r\n    </MyForm>\r\n  )\r\n}\r\nexport default NewUser\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\validators\\saveUserValidator.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Users\\EditUser\\index.tsx",["589","590","591","592","593","594","595","596"],"import React, { useContext, useEffect } from 'react'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport validator from 'validators/editUserValidator'\r\nimport MyForm, { MyFormProps, InputProps } from 'components/common/MyForm'\r\nimport { getUser, updateUser } from 'services/userService'\r\nimport { UserContext } from 'providers/UserProvider'\r\nimport { postImage } from 'services/imageService'\r\nimport { getBranches } from 'services/branchService'\r\nimport { BranchContext } from 'providers/BranchProvider'\r\nimport User from 'models/user'\r\n\r\nexport interface EditUserProps {}\r\n\r\nconst EditUser: React.SFC<EditUserProps> = () => {\r\n  const [{ currentUser }, globalDispatch] = useContext(GlobalContext)!\r\n\r\n  const params = useParams<{ id: string }>()\r\n\r\n  const [branchState, branchDispatch] = useContext(BranchContext)!\r\n\r\n  const [imageFile, setImageFile] = React.useState<HTMLImageElement | null>(\r\n    null\r\n  )\r\n\r\n  const [user, setUser] = React.useState<User>({\r\n    username: '',\r\n    firstname: '',\r\n    middlename: '',\r\n    lastname: '',\r\n    role: 'cashier',\r\n    password: '',\r\n  })\r\n\r\n  useEffect(() => {\r\n    globalDispatch({ type: 'SET_TITLE', payload: 'Edit User' })\r\n\r\n    getUser(+params.id).then((user) => setUser(user))\r\n    getBranches().then((branches) =>\r\n      branchDispatch({ type: 'ON_LOAD_BRANCHES', payload: branches })\r\n    )\r\n  }, [])\r\n\r\n  const history = useHistory()\r\n\r\n  const onSubmit = async (user: User) => {\r\n    globalDispatch({ type: 'SET_IS_LOADING', payload: true })\r\n\r\n    return postImage(user?.image!, (image_url: string) => {\r\n      user.image_url = image_url\r\n      delete user.image\r\n      return updateUser(user).then(() => {\r\n        globalDispatch({\r\n          type: 'SET_ALERT',\r\n          payload: { message: 'Successfully added', type: 'success' },\r\n        })\r\n        globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n      })\r\n    })\r\n  }\r\n\r\n  const formProps: MyFormProps<User> = {\r\n    state: [user, setUser],\r\n    onSubmit,\r\n    validator,\r\n  }\r\n\r\n  return (\r\n    <MyForm {...formProps}>\r\n      {({ myControlledInput, mySelect, myButton }) => (\r\n        <>\r\n          {myControlledInput({\r\n            label: 'Username',\r\n            value: user.username,\r\n            name: 'username',\r\n          })}\r\n          {myControlledInput({\r\n            label: 'Firstname',\r\n            value: user.firstname,\r\n            name: 'firstname',\r\n          })}\r\n          {myControlledInput({\r\n            label: 'Middlename',\r\n            value: user.middlename,\r\n            name: 'middlename',\r\n          })}\r\n          {myControlledInput({\r\n            label: 'Lastname',\r\n            value: user.lastname,\r\n            name: 'lastname',\r\n          })}\r\n\r\n          {mySelect({\r\n            label: 'Role',\r\n            value: user.role,\r\n            name: 'role',\r\n            labelWidth: 55,\r\n            options: [{ value: 'cashier', name: 'Cashier' }],\r\n          })}\r\n\r\n          {mySelect({\r\n            label: 'Branch',\r\n            value: user.branch,\r\n            name: 'branch',\r\n            labelWidth: 55,\r\n            options: branchState.branches.map((branch) => ({\r\n              value: branch.id,\r\n              name: branch.name,\r\n            })),\r\n          })}\r\n\r\n          <Grid\r\n            style={{ paddingLeft: 18, paddingTop: 10, paddingBottom: 5 }}\r\n            container\r\n            xs={12}\r\n            justify='center'\r\n            spacing={2}\r\n          >\r\n            <Grid item xs={6}>\r\n              {currentUser?.role === 'admin' && (\r\n                <Button\r\n                  onClick={() => history.goBack()}\r\n                  fullWidth\r\n                  variant='contained'\r\n                  color='default'\r\n                >\r\n                  BACK\r\n                </Button>\r\n              )}\r\n            </Grid>\r\n            <Grid item xs={6}>\r\n              {myButton()}\r\n            </Grid>\r\n          </Grid>\r\n        </>\r\n      )}\r\n    </MyForm>\r\n  )\r\n}\r\nexport default EditUser\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\validators\\editUserValidator.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Settings\\General\\index.tsx",["597"],"import Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Switch from '@material-ui/core/Switch'\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\r\nimport MyCard from 'components/common/MyCard'\r\nimport { useContext, useEffect, useState } from 'react'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport Button from '@material-ui/core/Button'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport { getApiKeys, setApiKeys } from 'services/settingService'\r\nimport MyForm, { MyFormProps } from 'components/common/MyForm'\r\nimport validator from 'validators/settingValidator'\r\nimport { getCurrentUser } from 'utils/helper'\r\n\r\nexport interface SettingsProps {}\r\n\r\nconst Settings: React.SFC<SettingsProps> = () => {\r\n  const [state, dispatch] = useContext(GlobalContext)!\r\n\r\n  const [keys, setKeys] = useState<{ apiCode: string; apiPassword: string }>({\r\n    apiCode: '',\r\n    apiPassword: '',\r\n  })\r\n\r\n  useEffect(() => {\r\n    if (getCurrentUser()?.role === 'admin') {\r\n      getApiKeys().then((keys) => setKeys(keys))\r\n    }\r\n  }, [])\r\n\r\n  const onSave = () => {\r\n    localStorage.setItem('theme', state.isDark ? 'dark' : 'light')\r\n    dispatch({\r\n      type: 'SET_ALERT',\r\n      payload: { message: 'Saved', type: 'success' },\r\n    })\r\n  }\r\n\r\n  const onSubmit = async () => {\r\n    setApiKeys(keys).then(() => {\r\n      dispatch({\r\n        type: 'SET_ALERT',\r\n        payload: { message: 'Saved', type: 'success' },\r\n      })\r\n    })\r\n  }\r\n\r\n  const formProps: MyFormProps<{ apiCode: string; apiPassword: string }> = {\r\n    state: [keys, setKeys],\r\n    onSubmit,\r\n    validator,\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <MyCard title='General Settings'>\r\n        <Grid style={{ padding: 20 }} direction='column' container xs={12}>\r\n          <Typography variant='subtitle1'>Theme</Typography>\r\n          <FormControlLabel\r\n            control={\r\n              <Switch\r\n                checked={state.isDark}\r\n                onChange={() => dispatch({ type: 'TOGGLE_THEME' })}\r\n                name='checkedA'\r\n                inputProps={{ 'aria-label': 'secondary checkbox' }}\r\n              />\r\n            }\r\n            label='Dark Mode'\r\n          />\r\n          <Button\r\n            style={{ marginTop: 20 }}\r\n            onClick={onSave}\r\n            fullWidth\r\n            variant='contained'\r\n            color='primary'\r\n          >\r\n            Save\r\n          </Button>\r\n        </Grid>\r\n      </MyCard>\r\n\r\n      {state?.currentUser?.role === 'admin' && (\r\n        <MyCard style={{ marginTop: 20 }} title='SMS Settings'>\r\n          <Grid style={{ padding: 20 }} direction='column' container xs={12}>\r\n            <MyForm {...formProps}>\r\n              {({ myControlledInput, myButton }) => (\r\n                <>\r\n                  {myControlledInput({\r\n                    label: 'API CODE',\r\n                    value: keys.apiCode,\r\n                    name: 'apiCode',\r\n                  })}\r\n                  {myControlledInput({\r\n                    label: 'API PASSWORD',\r\n                    value: keys.apiPassword,\r\n                    name: 'apiPassword',\r\n                  })}\r\n                  {myButton('Save')}\r\n                </>\r\n              )}\r\n            </MyForm>\r\n          </Grid>\r\n        </MyCard>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Settings\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Settings\\Account\\index.tsx",["598","599","600","601","602","603","604"],"import React, { useContext, useEffect } from 'react'\r\nimport { useHistory, useParams } from 'react-router-dom'\r\nimport Button from '@material-ui/core/Button'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport PhotoCamera from '@material-ui/icons/PhotoCamera'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\nimport validator from 'validators/editUserValidator'\r\nimport MyForm, { MyFormProps, InputProps } from 'components/common/MyForm'\r\nimport { getMe, updateAccount } from 'services/userService'\r\nimport { UserContext } from 'providers/UserProvider'\r\nimport { postImage } from 'services/imageService'\r\nimport { getBranches } from 'services/branchService'\r\nimport { BranchContext } from 'providers/BranchProvider'\r\nimport User from 'models/user'\r\nimport { getCurrentUser, saveToken } from 'utils/helper'\r\n\r\nexport interface AccountSettingsProps {}\r\n\r\nconst AccountSettings: React.SFC<AccountSettingsProps> = () => {\r\n  const [{ currentUser }, globalDispatch] = useContext(GlobalContext)!\r\n\r\n  const params = useParams<{ id: string }>()\r\n\r\n  const [branchState, branchDispatch] = useContext(BranchContext)!\r\n\r\n  const [imageFile, setImageFile] = React.useState<HTMLImageElement | null>(\r\n    null\r\n  )\r\n\r\n  const [user, setUser] = React.useState<User>({\r\n    username: '',\r\n    firstname: '',\r\n    middlename: '',\r\n    lastname: '',\r\n    role: 'cashier',\r\n    password: '',\r\n    new_password: '',\r\n  })\r\n\r\n  useEffect(() => {\r\n    globalDispatch({ type: 'SET_TITLE', payload: 'Account Settings' })\r\n\r\n    getMe().then((user) => {\r\n      setUser({ ...user, branch: user?.branch?.id })\r\n    })\r\n    getBranches().then((branches) =>\r\n      branchDispatch({ type: 'ON_LOAD_BRANCHES', payload: branches })\r\n    )\r\n  }, [])\r\n\r\n  const history = useHistory()\r\n\r\n  const onSubmit = async (user: User) => {\r\n    globalDispatch({ type: 'SET_IS_LOADING', payload: true })\r\n\r\n    return postImage(user?.image!, (image_url: string) => {\r\n      user.image_url = image_url\r\n      delete user.image\r\n      return updateAccount(user).then(({ access_token }) => {\r\n        globalDispatch({\r\n          type: 'SET_ALERT',\r\n          payload: { message: 'Successfully updated', type: 'success' },\r\n        })\r\n        globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n        saveToken(access_token)\r\n        globalDispatch({ type: 'SET_CURRENT_USER', payload: getCurrentUser() })\r\n        window.location.href = '/dashboard'\r\n      })\r\n    }).catch(({ response }) => {\r\n      if (response.status === 401) {\r\n        globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n        globalDispatch({\r\n          type: 'SET_ALERT',\r\n          payload: {\r\n            message: response.data.error,\r\n            type: 'error',\r\n          },\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  const { role, branch, ...cashierValidator } = validator\r\n\r\n  const formProps: MyFormProps<User> = {\r\n    state: [user, setUser],\r\n    onSubmit,\r\n    validator: user.role !== 'admin' ? cashierValidator : validator,\r\n  }\r\n\r\n  return (\r\n    <MyForm {...formProps}>\r\n      {({ myControlledInput, mySelect, myButton }) => (\r\n        <>\r\n          {myControlledInput({\r\n            label: 'Username',\r\n            value: user.username,\r\n            name: 'username',\r\n          })}\r\n          {myControlledInput({\r\n            label: 'Firstname',\r\n            value: user.firstname,\r\n            name: 'firstname',\r\n          })}\r\n          {myControlledInput({\r\n            label: 'Middlename',\r\n            value: user.middlename,\r\n            name: 'middlename',\r\n          })}\r\n          {myControlledInput({\r\n            label: 'Lastname',\r\n            value: user.lastname,\r\n            name: 'lastname',\r\n          })}\r\n\r\n          {user.role === 'admin' &&\r\n            mySelect({\r\n              label: 'Role',\r\n              value: user.role,\r\n              name: 'role',\r\n              labelWidth: 55,\r\n              options: [\r\n                { value: 'cashier', name: 'Cashier' },\r\n                { value: 'admin', name: 'Admin' },\r\n              ],\r\n            })}\r\n\r\n          {user.role === 'admin' &&\r\n            mySelect({\r\n              label: 'Branch',\r\n              value: user?.branch,\r\n              name: 'branch',\r\n              labelWidth: 55,\r\n              options: branchState.branches.map((branch) => ({\r\n                value: branch.id,\r\n                name: branch.name,\r\n              })),\r\n            })}\r\n\r\n          {myControlledInput({\r\n            label: 'Current Password',\r\n            value: user.password,\r\n            name: 'password',\r\n            type: 'password',\r\n          })}\r\n          {myControlledInput({\r\n            label: 'New Password',\r\n            value: user.new_password,\r\n            name: 'new_password',\r\n            type: 'password',\r\n          })}\r\n\r\n          <Grid\r\n            container\r\n            style={{\r\n              paddingLeft: 15,\r\n              paddingRight: 15,\r\n              marginBottom: 10,\r\n            }}\r\n            alignItems='center'\r\n            justify='space-between'\r\n            xs={12}\r\n          >\r\n            <Typography variant='subtitle1'>\r\n              {imageFile?.name || 'Select Photo'}\r\n            </Typography>\r\n            <>\r\n              <input\r\n                accept='image/*'\r\n                style={{\r\n                  display: 'none',\r\n                }}\r\n                name='image'\r\n                id='icon-button-file'\r\n                type='file'\r\n                onChange={(e: any) => {\r\n                  setImageFile(e.target.files[0])\r\n                }}\r\n              />\r\n              <label htmlFor='icon-button-file'>\r\n                <IconButton\r\n                  color='primary'\r\n                  aria-label='upload picture'\r\n                  component='span'\r\n                >\r\n                  <PhotoCamera />\r\n                </IconButton>\r\n              </label>\r\n            </>\r\n          </Grid>\r\n\r\n          <Grid\r\n            style={{ paddingLeft: 18, paddingTop: 10, paddingBottom: 5 }}\r\n            container\r\n            xs={12}\r\n            justify='center'\r\n            spacing={2}\r\n          >\r\n            <Grid item xs={6}></Grid>\r\n            <Grid item xs={6}>\r\n              {myButton()}\r\n            </Grid>\r\n          </Grid>\r\n        </>\r\n      )}\r\n    </MyForm>\r\n  )\r\n}\r\nexport default AccountSettings\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyGraph\\index.tsx",["605","606","607","608"],"import { useEffect, useState, useContext } from 'react'\r\nimport {\r\n  ResponsiveContainer,\r\n  AreaChart,\r\n  Area,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  Legend,\r\n} from 'recharts'\r\nimport useTheme from '@material-ui/core/styles/useTheme'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Menu from '@material-ui/core/Menu'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport ExpandMore from '@material-ui/icons/ExpandMore'\r\nimport Branch from 'models/branch'\r\n\r\nexport interface DataProps {\r\n  name: string\r\n  count: number\r\n  year?: number\r\n}\r\n\r\nexport interface ClientsGraphProps {\r\n  branches: Branch[]\r\n  data: DataProps[]\r\n  range: { start: string; end: string }\r\n  title: string\r\n  onSelectedRange: (range: string) => void\r\n  onSelectedBranch: (branch: string) => void\r\n}\r\n\r\nconst MyGraph: React.SFC<ClientsGraphProps> = ({\r\n  branches,\r\n  data,\r\n  title,\r\n  range,\r\n  onSelectedRange,\r\n  onSelectedBranch,\r\n}) => {\r\n  const theme = useTheme()\r\n\r\n  const [anchorElRange, setAnchorElRange] = useState(null)\r\n\r\n  const [anchorElBranch, setAnchorElBranch] = useState(null)\r\n\r\n  const [textRange, setTextRange] = useState('ALL RECORDS')\r\n\r\n  const [textBranch, setTextBranch] = useState('ALL BRANCHES')\r\n\r\n  const handleClickRange = (event: any) => {\r\n    setAnchorElRange(event.currentTarget)\r\n  }\r\n\r\n  const handleClickBranch = (event: any) => {\r\n    setAnchorElBranch(event.currentTarget)\r\n  }\r\n\r\n  const handleSelectRange = (event: any) => {\r\n    const value = event.currentTarget?.id\r\n    const text = event.currentTarget?.title\r\n\r\n    setAnchorElRange(null)\r\n\r\n    if (!text) {\r\n      return\r\n    }\r\n\r\n    onSelectedRange(value)\r\n    setTextRange(text)\r\n  }\r\n\r\n  const handleSelectBranch = (event: any) => {\r\n    const value = event.currentTarget?.id\r\n    const text = event.currentTarget?.title\r\n    setAnchorElBranch(null)\r\n\r\n    if (!text) {\r\n      return\r\n    }\r\n\r\n    onSelectedBranch(value)\r\n    setTextBranch(text)\r\n  }\r\n\r\n  const renderMenuItemBranch = (branch: Branch) => {\r\n    return (\r\n      <MenuItem\r\n        key={branch?.id!}\r\n        id={'' + branch?.id!}\r\n        title={branch?.name}\r\n        onClick={handleSelectBranch}\r\n      >\r\n        {branch?.name}\r\n      </MenuItem>\r\n    )\r\n  }\r\n\r\n  const total = data?.reduce((acc, stat) => acc + +stat.count, 0)\r\n\r\n  return (\r\n    <>\r\n      <Grid container xs={12} justify='space-between'>\r\n        <Grid container xs={6} item>\r\n          <Button\r\n            aria-controls='simple-menu'\r\n            aria-haspopup='true'\r\n            color='default'\r\n            onClick={handleClickRange}\r\n            endIcon={<ExpandMore />}\r\n          >\r\n            {textRange}\r\n          </Button>\r\n          <Menu\r\n            id='simple-menu'\r\n            anchorEl={anchorElRange}\r\n            keepMounted\r\n            open={Boolean(anchorElRange)}\r\n            onClose={handleSelectRange}\r\n          >\r\n            <MenuItem title='PAST 7 DAYS' id='week' onClick={handleSelectRange}>\r\n              PAST 7 DAYS\r\n            </MenuItem>\r\n            <MenuItem\r\n              title='PAST 30 DAYS'\r\n              id='month'\r\n              onClick={handleSelectRange}\r\n            >\r\n              PAST 30 DAYS\r\n            </MenuItem>\r\n            <MenuItem\r\n              title='PAST 12 MONTHS'\r\n              id='year'\r\n              onClick={handleSelectRange}\r\n            >\r\n              PAST 12 MONTHS\r\n            </MenuItem>\r\n            <MenuItem title='ALL RECORDS' id='' onClick={handleSelectRange}>\r\n              ALL RECORDS\r\n            </MenuItem>\r\n          </Menu>\r\n        </Grid>\r\n        <Grid container xs={6} item justify='flex-end'>\r\n          <Button\r\n            aria-controls='simple-menu-branch'\r\n            aria-haspopup='true'\r\n            color='default'\r\n            onClick={handleClickBranch}\r\n            endIcon={<ExpandMore />}\r\n          >\r\n            {textBranch}\r\n          </Button>\r\n          <Menu\r\n            id='simple-menu-branch'\r\n            anchorEl={anchorElBranch}\r\n            keepMounted\r\n            open={Boolean(anchorElBranch)}\r\n            onClose={handleSelectBranch}\r\n          >\r\n            {branches.map((branch) => renderMenuItemBranch(branch || ''))}\r\n          </Menu>\r\n        </Grid>\r\n      </Grid>\r\n\r\n      <ResponsiveContainer width='100%' height={200}>\r\n        <AreaChart\r\n          data={data}\r\n          margin={{ top: 10, right: 20, left: -20, bottom: 0 }}\r\n        >\r\n          <defs>\r\n            <linearGradient id='colorCount' x1='0' y1='0' x2='0' y2='1'>\r\n              <stop\r\n                offset='20%'\r\n                stopColor={theme.palette.secondary.main}\r\n                stopOpacity={0.8}\r\n              />\r\n              <stop\r\n                offset='95%'\r\n                stopColor={theme.palette.secondary.main}\r\n                stopOpacity={0}\r\n              />\r\n            </linearGradient>\r\n          </defs>\r\n\r\n          <XAxis dataKey='name' />\r\n          <YAxis />\r\n          <CartesianGrid strokeDasharray='3 3' />\r\n          <Tooltip\r\n            contentStyle={{\r\n              borderRadius: 10,\r\n              backgroundColor: theme.palette.background.paper,\r\n              border: 0,\r\n            }}\r\n            // labelStyle={{ color: '#333' }}\r\n          />\r\n          {/* <Legend verticalAlign='bottom' height={40} /> */}\r\n\r\n          <Area\r\n            name='total'\r\n            type='monotone'\r\n            dataKey='count'\r\n            stroke={theme.palette.secondary.main}\r\n            fillOpacity={2}\r\n            fill='url(#colorCount)'\r\n          />\r\n        </AreaChart>\r\n      </ResponsiveContainer>\r\n\r\n      <Grid xs={12} item container alignItems='center' justify='center'>\r\n        <Typography component='h5' variant='subtitle1' color='textSecondary'>\r\n          {`${total} ${title} from ${\r\n            range?.start\r\n              ? new Date(range?.start!).toLocaleDateString('en-GB', {\r\n                  month: '2-digit',\r\n                  day: '2-digit',\r\n                  year: 'numeric',\r\n                })\r\n              : ''\r\n          } to ${\r\n            range?.end\r\n              ? new Date(range?.end!).toLocaleDateString('en-GB', {\r\n                  month: '2-digit',\r\n                  day: '2-digit',\r\n                  year: 'numeric',\r\n                })\r\n              : ''\r\n          }`}\r\n        </Typography>\r\n      </Grid>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MyGraph\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\common\\MyNavFooter\\index.tsx",["609","610","611","612"],"import React, { useContext, useEffect } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport { useHistory } from 'react-router-dom'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport Fade from 'react-reveal/Fade'\r\nimport DashboardIcon from '@material-ui/icons/Dashboard'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport Badge from '@material-ui/core/Badge'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport NotificationIcon from '@material-ui/icons/Notifications'\r\nimport TransactionIcon from '@material-ui/icons/Payment'\r\nimport EmployeesIcon from '@material-ui/icons/People'\r\nimport FaceIcon from '@material-ui/icons/Face'\r\nimport ClientIcon from '@material-ui/icons/SupervisedUserCircle'\r\nimport { NotificationContext } from 'providers/NotificationProvider'\r\nimport { getUnread } from 'services/notificationService'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\n\r\nexport interface MyNavFooterProps {}\r\n\r\nconst MyNavFooter: React.SFC<MyNavFooterProps> = () => {\r\n  const styles = useStyles()\r\n  const history = useHistory()\r\n  const [globalState, _] = useContext(GlobalContext)!\r\n  const [{ unread }, dispatch] = useContext(NotificationContext)!\r\n\r\n  return (\r\n    <AppBar position='fixed' color='primary' className={styles.appBar}>\r\n      <Fade delay={1000} bottom>\r\n        <Toolbar>\r\n          <Grid\r\n            container\r\n            // style={{ paddingLeft: 50, paddingRight: 50 }}\r\n            xs={12}\r\n            justify='space-around'\r\n          >\r\n            <IconButton\r\n              onClick={() => history.push('/clients/new')}\r\n              style={{ paddingBottom: 22 }}\r\n              color='inherit'\r\n            >\r\n              <ClientIcon />\r\n            </IconButton>\r\n\r\n            <IconButton\r\n              onClick={() => history.push('/employees/new')}\r\n              style={{ paddingBottom: 22 }}\r\n              color='inherit'\r\n            >\r\n              <EmployeesIcon />\r\n            </IconButton>\r\n\r\n            <Grid item xs={2}></Grid>\r\n\r\n            <IconButton\r\n              onClick={() => history.push('/transaction/encode')}\r\n              style={{ paddingBottom: 22 }}\r\n              color='inherit'\r\n            >\r\n              <TransactionIcon />\r\n            </IconButton>\r\n\r\n            {globalState?.currentUser?.role === 'admin' && (\r\n              <IconButton\r\n                onClick={() => history.push('/notifications')}\r\n                style={{ paddingBottom: 22 }}\r\n                color='inherit'\r\n              >\r\n                <Badge\r\n                  invisible={unread <= 0}\r\n                  badgeContent={unread! >= 100 ? '99+' : unread}\r\n                  color='secondary'\r\n                >\r\n                  <NotificationIcon />\r\n                </Badge>\r\n              </IconButton>\r\n            )}\r\n            {globalState?.currentUser?.role !== 'admin' && (\r\n              <IconButton\r\n                onClick={() => history.push('/settings/account')}\r\n                style={{ paddingBottom: 22 }}\r\n                color='inherit'\r\n              >\r\n                <FaceIcon />\r\n              </IconButton>\r\n            )}\r\n          </Grid>\r\n          <Fab\r\n            onClick={() => history.replace('/')}\r\n            color='secondary'\r\n            aria-label='add'\r\n            className={styles.fabButton}\r\n          >\r\n            <DashboardIcon />\r\n          </Fab>\r\n        </Toolbar>\r\n      </Fade>\r\n    </AppBar>\r\n  )\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  appBar: {\r\n    top: 'auto',\r\n    bottom: -10,\r\n    background:\r\n      'linear-gradient(to left, #9c27b0, #9c27b0, #9c27b0, #9c27b0, #9c27b0, #a721aa, #b119a4, #ba119e, #cb0090, #d80081, #e20672, #e91e63)',\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  fabButton: {\r\n    position: 'absolute',\r\n    zIndex: 1,\r\n    top: -20,\r\n    left: 0,\r\n    right: 0,\r\n    margin: '0 auto',\r\n  },\r\n}))\r\n\r\nexport default MyNavFooter\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\statisticService.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Dashboard\\StatisticGraph\\index.tsx",["613","614"],"import { useState, useEffect, useContext } from 'react'\r\nimport MyGraph, { DataProps } from 'components/common/MyGraph'\r\nimport Branch from 'models/branch'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\n\r\ninterface StatisticsProps {\r\n  range: { start: string; end: string }\r\n  statistics: DataProps[]\r\n}\r\n\r\nexport interface StatisticGraphProps {\r\n  branches: Branch[]\r\n  title: string\r\n  getData: (range: string, branchId?: number) => Promise<any>\r\n}\r\n\r\nconst StatisticGraph: React.SFC<StatisticGraphProps> = ({\r\n  branches,\r\n  getData,\r\n  title,\r\n}) => {\r\n  const [state, _] = useContext(GlobalContext)!\r\n  const [data, setData] = useState<StatisticsProps>({\r\n    range: { start: '', end: '' },\r\n    statistics: [],\r\n  })\r\n\r\n  const [branchId, setBranchId] = useState('')\r\n\r\n  const [range, setRange] = useState('')\r\n\r\n  useEffect(() => {\r\n    if (state?.currentUser?.role === 'admin') {\r\n      getData(range, +branchId).then((data) => {\r\n        setData((prevData) => ({\r\n          ...prevData,\r\n          ...data,\r\n        }))\r\n      })\r\n    }\r\n  }, [range, branchId])\r\n\r\n  const handleSelectedBranchClient = (branchId: string) => {\r\n    setBranchId(branchId)\r\n  }\r\n\r\n  const handleSelectedRange = (range: string) => {\r\n    setRange(range)\r\n  }\r\n\r\n  return (\r\n    <MyGraph\r\n      onSelectedRange={handleSelectedRange}\r\n      onSelectedBranch={handleSelectedBranchClient}\r\n      title={title}\r\n      range={data?.range!}\r\n      data={data?.statistics!}\r\n      branches={branches}\r\n    />\r\n  )\r\n}\r\n\r\nexport default StatisticGraph\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Notifications\\index.tsx",["615"],"import { GlobalContext } from 'providers/GlobalProvider'\r\nimport { NotificationContext } from 'providers/NotificationProvider'\r\nimport { useContext, useEffect } from 'react'\r\nimport {\r\n  getNotifications,\r\n  markAsRead,\r\n  markAllAsRead,\r\n  send,\r\n} from 'services/notificationService'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport NotificationCard from './NotificationCard'\r\nimport Notification from 'models/notification'\r\n\r\nexport interface NotificationsProps {}\r\n\r\nconst Notifications: React.SFC<NotificationsProps> = () => {\r\n  const [globalState, globalDispatch] = useContext(GlobalContext)!\r\n  const [notifState, notifDispatch] = useContext(NotificationContext)!\r\n\r\n  useEffect(() => {\r\n    globalDispatch({ type: 'SET_TITLE', payload: 'Notifications' })\r\n    onLoad()\r\n  }, [])\r\n\r\n  const onLoad = () => {\r\n    globalDispatch({ type: 'SET_IS_LOADING', payload: true })\r\n\r\n    getNotifications().then((notifications) => {\r\n      globalDispatch({ type: 'SET_IS_LOADING', payload: false })\r\n      notifDispatch({ type: 'ON_LOAD_NOTIFICATIONS', payload: notifications })\r\n    })\r\n  }\r\n\r\n  const handleRead = (notification: Notification) => {\r\n    markAsRead(notification).then(() => {\r\n      onLoad()\r\n    })\r\n  }\r\n\r\n  const handleMarkAllAsRead = () => {\r\n    markAllAsRead().then(() => onLoad())\r\n  }\r\n\r\n  const handleResend = async (notification: Notification) => {\r\n    return send(notification)\r\n      .then(({ message }) => {\r\n        globalDispatch({\r\n          type: 'SET_ALERT',\r\n          payload: { message, type: 'success' },\r\n        })\r\n        onLoad()\r\n        return true\r\n      })\r\n      .catch((error) => {\r\n        globalDispatch({\r\n          type: 'SET_ALERT',\r\n          payload: { message: error.response.data.message, type: 'error' },\r\n        })\r\n        return false\r\n      })\r\n  }\r\n\r\n  const isLoading = globalState.isLoading && !notifState.notifications.length\r\n\r\n  return (\r\n    <>\r\n      {!globalState.isLoading && notifState.notifications.length === 0 && (\r\n        <Grid container xs={12} justify='center'>\r\n          <Typography component='h6' variant='subtitle1' color='textSecondary'>\r\n            No new notification\r\n          </Typography>\r\n        </Grid>\r\n      )}\r\n      {!isLoading && notifState.notifications.length > 0 && (\r\n        <>\r\n          <Grid item xs={12} justify='center' container>\r\n            <Button\r\n              onClick={handleMarkAllAsRead}\r\n              disabled={\r\n                !notifState.notifications.filter((n) => !n.is_read).length\r\n              }\r\n              variant='text'\r\n              color='primary'\r\n            >\r\n              Mark ALL AS READ\r\n            </Button>\r\n          </Grid>\r\n          {notifState.notifications.map((notif) => (\r\n            <NotificationCard\r\n              onRead={handleRead}\r\n              onResend={handleResend}\r\n              notification={notif}\r\n            ></NotificationCard>\r\n          ))}\r\n        </>\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Notifications\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\providers\\StatisticProvider.tsx",["616"],"import { createContext, Dispatch, useReducer } from 'react'\r\nimport { produce } from 'immer'\r\nimport Branch from 'models/branch'\r\n\r\nexport const StatContext = createContext<\r\n  [state: StatState, dispatch: Dispatch<StatAction>] | null\r\n>(null)\r\n\r\ninterface StatisticsProps {\r\n  totalClients: number\r\n  grossSales: number\r\n  netSales: number\r\n  near: number\r\n  lapsed: number\r\n  releaseCommissions: number\r\n  unreleaseCommissions: number\r\n  draft: number\r\n}\r\n\r\ninterface StatState {\r\n  stat: StatisticsProps\r\n}\r\n\r\nexport type StatAction = {\r\n  type: 'ON_LOAD_STAT'\r\n  payload: StatisticsProps\r\n}\r\n\r\nconst reducer = (state: StatState, action: StatAction) => {\r\n  switch (action.type) {\r\n    case 'ON_LOAD_STAT':\r\n      state.stat = action.payload\r\n      break\r\n    default:\r\n      return state\r\n  }\r\n  return state\r\n}\r\n\r\nexport const StatisticProvider: React.FC = (props) => {\r\n  const [state, dispatch] = useReducer(produce(reducer), {\r\n    stat: {\r\n      totalClients: 0,\r\n      grossSales: 0,\r\n      netSales: 0,\r\n      near: 0,\r\n      lapsed: 0,\r\n      releaseCommissions: 0,\r\n      unreleaseCommissions: 0,\r\n      draft: 0,\r\n    },\r\n  })\r\n\r\n  return (\r\n    <StatContext.Provider value={[state, dispatch]}>\r\n      {props.children}\r\n    </StatContext.Provider>\r\n  )\r\n}\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\notificationService.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\providers\\NotificationProvider.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Notifications\\NotificationCard\\index.tsx",["617","618"],"import CardContent from '@material-ui/core/CardContent'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Button from '@material-ui/core/Button'\r\nimport CircularProgress from '@material-ui/core/CircularProgress'\r\nimport Divider from '@material-ui/core/Divider'\r\nimport MyCard from 'components/common/MyCard'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Chip from '@material-ui/core/Chip'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useContext, useState } from 'react'\r\n\r\nimport Notification from 'models/notification'\r\nimport MyAvatar from 'components/common/MyAvatar'\r\nimport { GlobalContext } from 'providers/GlobalProvider'\r\n\r\nexport interface NotificationCardProps {\r\n  notification: Notification\r\n  onResend?: (notification: Notification) => Promise<boolean>\r\n  onRead?: (notification: Notification) => void\r\n}\r\n\r\nconst NotificationCard: React.SFC<NotificationCardProps> = ({\r\n  notification,\r\n  onResend,\r\n  onRead,\r\n}) => {\r\n  const history = useHistory()\r\n  const [globalState, globalDispatch] = useContext(GlobalContext)!\r\n  const profile = notification?.client?.profile\r\n  const client = notification?.client\r\n\r\n  const [isLoading, setIsLoading] = useState(false)\r\n\r\n  const next_payment = new Date(client?.next_payment!).toDateString()\r\n\r\n  const title =\r\n    notification?.type === 'lapse'\r\n      ? 'Lapsed on ' + next_payment\r\n      : 'Near on ' + next_payment\r\n\r\n  const handleResend = async () => {\r\n    setIsLoading(true)\r\n    await onResend?.(notification)\r\n    setIsLoading(false)\r\n  }\r\n\r\n  return (\r\n    <MyCard style={{ marginTop: 20 }} title={title}>\r\n      <CardContent>\r\n        <Grid container xs={12} justify='space-between'>\r\n          <Grid\r\n            style={{ paddingLeft: 10 }}\r\n            container\r\n            item\r\n            direction='column'\r\n            xs={7}\r\n            justify='flex-start'\r\n          >\r\n            <Typography component='h6' variant='h6'>\r\n              {`${profile?.lastname}, ${profile?.firstname} ${profile?.middlename}`}\r\n            </Typography>\r\n\r\n            <Typography variant='subtitle1' color='textSecondary'>\r\n              {`${client?.code}`}\r\n            </Typography>\r\n\r\n            <Grid item xs={1}>\r\n              <Chip\r\n                style={{ marginTop: 10 }}\r\n                size='small'\r\n                label={notification?.is_sent ? 'notified' : 'unnotified'}\r\n                variant='outlined'\r\n                color={!notification?.is_sent ? 'secondary' : 'primary'}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container item xs={5} justify='center' alignItems='center'>\r\n            <MyAvatar\r\n              src={profile?.image_url}\r\n              onClick={() => history.push('/clients/' + client?.id)}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n        <Divider\r\n          style={{ marginLeft: 20, marginRight: 20, marginTop: 20 }}\r\n        ></Divider>\r\n\r\n        <Grid\r\n          style={{ padding: 15, paddingBottom: 0 }}\r\n          container\r\n          xs={12}\r\n          justify='space-evenly'\r\n        >\r\n          <Grid item xs={6}>\r\n            <Button\r\n              disabled={isLoading}\r\n              onClick={handleResend}\r\n              fullWidth\r\n              variant='text'\r\n              color='primary'\r\n              startIcon={\r\n                isLoading && (\r\n                  <CircularProgress\r\n                    color='primary'\r\n                    size={24}\r\n                    style={{\r\n                      position: 'absolute',\r\n                      top: '50%',\r\n                      left: '50%',\r\n                      marginTop: -12,\r\n                      marginLeft: -12,\r\n                    }}\r\n                  />\r\n                )\r\n              }\r\n            >\r\n              Resend\r\n            </Button>\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <Button\r\n              disabled={notification?.is_read}\r\n              onClick={() => onRead?.(notification)}\r\n              fullWidth\r\n              variant='text'\r\n              color='primary'\r\n            >\r\n              Mark As Read\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </CardContent>\r\n    </MyCard>\r\n  )\r\n}\r\n\r\nexport default NotificationCard\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\services\\settingService.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\validators\\settingValidator.tsx",["619"],"import Joi from 'joi'\r\nimport { notNull } from 'utils/helper'\r\n\r\nconst settingValidator = {\r\n  apiCode: notNull('API Code'),\r\n  apiPassword: notNull('API Password'),\r\n}\r\n\r\nexport default settingValidator\r\n","C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\serviceWorker.tsx",[],"C:\\Users\\kitchan\\Desktop\\psy_insurance\\Insurance-Management-System\\src\\components\\pages\\Transactions\\ReleaseTransaction\\PDFForm\\index.tsx",["620","621","622","623"],"import Commission from 'models/commission'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport React from 'react'\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\r\nimport Table from '@material-ui/core/Table'\r\nimport TableBody from '@material-ui/core/TableBody'\r\nimport TableCell from '@material-ui/core/TableCell'\r\nimport TableContainer from '@material-ui/core/TableContainer'\r\nimport TableHead from '@material-ui/core/TableHead'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport Paper from '@material-ui/core/Paper'\r\n\r\nexport interface PDFFormProps {\r\n  commissions: Commission[]\r\n  range: { from: Date; to: Date }\r\n}\r\n\r\nconst PDFForm: React.SFC<PDFFormProps> = ({ commissions, range }) => {\r\n  const style = {\r\n    backgroundColor: 'black',\r\n    color: 'white',\r\n  }\r\n  return (\r\n    <Grid container direction='column' alignItems='center'>\r\n      <Typography style={{ marginTop: 50 }} variant='subtitle1'>\r\n        PSY Casket Trading\r\n      </Typography>\r\n      <Typography style={{ marginBottom: 20 }} variant='subtitle2'>\r\n        {`Release Commissions from ${range.from.toDateString()} to ${range.to.toDateString()}`}\r\n      </Typography>\r\n      <Table style={{ width: 685 }} size='small' aria-label='simple table'>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell style={style}>Employee Name</TableCell>\r\n            <TableCell style={style}>Position</TableCell>\r\n            <TableCell style={style} align='right'>\r\n              Amount\r\n            </TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        {!!commissions.length && (\r\n          <TableBody>\r\n            {commissions?.map((com, i) => (\r\n              <TableRow key={i}>\r\n                <TableCell component='th' scope='row'>\r\n                  {`${com?.employee?.profile?.lastname}, ${com.employee?.profile?.firstname} ${com.employee?.profile?.middlename}`}\r\n                </TableCell>\r\n                <TableCell>{com?.employee?.position?.name}</TableCell>\r\n                <TableCell align='right'>{com?.amount}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        )}\r\n      </Table>\r\n    </Grid>\r\n  )\r\n}\r\n\r\nexport default PDFForm\r\n",{"ruleId":"624","replacedBy":"625"},{"ruleId":"626","replacedBy":"627"},{"ruleId":"628","severity":1,"message":"629","line":1,"column":29,"nodeType":"630","messageId":"631","endLine":1,"endColumn":38},{"ruleId":"628","severity":1,"message":"632","line":19,"column":17,"nodeType":"630","messageId":"631","endLine":19,"endColumn":25},{"ruleId":"628","severity":1,"message":"629","line":1,"column":35,"nodeType":"630","messageId":"631","endLine":1,"endColumn":44},{"ruleId":"628","severity":1,"message":"629","line":1,"column":47,"nodeType":"630","messageId":"631","endLine":1,"endColumn":56},{"ruleId":"628","severity":1,"message":"633","line":19,"column":9,"nodeType":"630","messageId":"631","endLine":19,"endColumn":16},{"ruleId":"628","severity":1,"message":"634","line":1,"column":8,"nodeType":"630","messageId":"631","endLine":1,"endColumn":14},{"ruleId":"628","severity":1,"message":"635","line":3,"column":8,"nodeType":"630","messageId":"631","endLine":3,"endColumn":20},{"ruleId":"628","severity":1,"message":"636","line":4,"column":8,"nodeType":"630","messageId":"631","endLine":4,"endColumn":15},{"ruleId":"628","severity":1,"message":"637","line":60,"column":9,"nodeType":"630","messageId":"631","endLine":60,"endColumn":28},{"ruleId":"628","severity":1,"message":"638","line":61,"column":9,"nodeType":"630","messageId":"631","endLine":61,"endColumn":29},{"ruleId":"628","severity":1,"message":"639","line":62,"column":9,"nodeType":"630","messageId":"631","endLine":62,"endColumn":25},{"ruleId":"628","severity":1,"message":"640","line":63,"column":9,"nodeType":"630","messageId":"631","endLine":63,"endColumn":25},{"ruleId":"628","severity":1,"message":"641","line":15,"column":10,"nodeType":"630","messageId":"631","endLine":15,"endColumn":15},{"ruleId":"628","severity":1,"message":"641","line":14,"column":10,"nodeType":"630","messageId":"631","endLine":14,"endColumn":15},{"ruleId":"628","severity":1,"message":"642","line":21,"column":10,"nodeType":"630","messageId":"631","endLine":21,"endColumn":11},{"ruleId":"628","severity":1,"message":"643","line":23,"column":25,"nodeType":"630","messageId":"631","endLine":23,"endColumn":41},{"ruleId":"628","severity":1,"message":"644","line":31,"column":10,"nodeType":"630","messageId":"631","endLine":31,"endColumn":19},{"ruleId":"645","severity":1,"message":"646","line":53,"column":6,"nodeType":"647","endLine":53,"endColumn":8,"suggestions":"648"},{"ruleId":"628","severity":1,"message":"649","line":6,"column":40,"nodeType":"630","messageId":"631","endLine":6,"endColumn":48},{"ruleId":"645","severity":1,"message":"650","line":50,"column":6,"nodeType":"647","endLine":50,"endColumn":8,"suggestions":"651"},{"ruleId":"628","severity":1,"message":"652","line":2,"column":33,"nodeType":"630","messageId":"631","endLine":2,"endColumn":45},{"ruleId":"653","severity":1,"message":"654","line":57,"column":1,"nodeType":"655","endLine":63,"endColumn":2},{"ruleId":"628","severity":1,"message":"642","line":22,"column":10,"nodeType":"630","messageId":"631","endLine":22,"endColumn":11},{"ruleId":"628","severity":1,"message":"656","line":24,"column":10,"nodeType":"630","messageId":"631","endLine":24,"endColumn":21},{"ruleId":"628","severity":1,"message":"657","line":24,"column":23,"nodeType":"630","messageId":"631","endLine":24,"endColumn":37},{"ruleId":"645","severity":1,"message":"658","line":41,"column":6,"nodeType":"647","endLine":41,"endColumn":8,"suggestions":"659"},{"ruleId":"628","severity":1,"message":"660","line":20,"column":10,"nodeType":"630","messageId":"631","endLine":20,"endColumn":21},{"ruleId":"628","severity":1,"message":"661","line":21,"column":10,"nodeType":"630","messageId":"631","endLine":21,"endColumn":23},{"ruleId":"628","severity":1,"message":"662","line":24,"column":10,"nodeType":"630","messageId":"631","endLine":24,"endColumn":22},{"ruleId":"628","severity":1,"message":"663","line":30,"column":10,"nodeType":"630","messageId":"631","endLine":30,"endColumn":20},{"ruleId":"645","severity":1,"message":"664","line":51,"column":6,"nodeType":"647","endLine":51,"endColumn":8,"suggestions":"665"},{"ruleId":"628","severity":1,"message":"642","line":17,"column":10,"nodeType":"630","messageId":"631","endLine":17,"endColumn":11},{"ruleId":"645","severity":1,"message":"666","line":41,"column":6,"nodeType":"647","endLine":41,"endColumn":8,"suggestions":"667"},{"ruleId":"628","severity":1,"message":"668","line":2,"column":8,"nodeType":"630","messageId":"631","endLine":2,"endColumn":12},{"ruleId":"628","severity":1,"message":"669","line":11,"column":24,"nodeType":"630","messageId":"631","endLine":11,"endColumn":34},{"ruleId":"628","severity":1,"message":"670","line":30,"column":9,"nodeType":"630","messageId":"631","endLine":30,"endColumn":15},{"ruleId":"628","severity":1,"message":"642","line":32,"column":10,"nodeType":"630","messageId":"631","endLine":32,"endColumn":11},{"ruleId":"645","severity":1,"message":"671","line":46,"column":6,"nodeType":"647","endLine":46,"endColumn":8,"suggestions":"672"},{"ruleId":"628","severity":1,"message":"673","line":27,"column":10,"nodeType":"630","messageId":"631","endLine":27,"endColumn":21},{"ruleId":"645","severity":1,"message":"666","line":53,"column":6,"nodeType":"647","endLine":53,"endColumn":8,"suggestions":"674"},{"ruleId":"628","severity":1,"message":"673","line":20,"column":10,"nodeType":"630","messageId":"631","endLine":20,"endColumn":21},{"ruleId":"645","severity":1,"message":"675","line":30,"column":6,"nodeType":"647","endLine":30,"endColumn":8,"suggestions":"676"},{"ruleId":"628","severity":1,"message":"642","line":26,"column":10,"nodeType":"630","messageId":"631","endLine":26,"endColumn":11},{"ruleId":"645","severity":1,"message":"677","line":39,"column":6,"nodeType":"647","endLine":39,"endColumn":8,"suggestions":"678"},{"ruleId":"628","severity":1,"message":"642","line":27,"column":10,"nodeType":"630","messageId":"631","endLine":27,"endColumn":11},{"ruleId":"645","severity":1,"message":"666","line":54,"column":6,"nodeType":"647","endLine":54,"endColumn":8,"suggestions":"679"},{"ruleId":"628","severity":1,"message":"680","line":9,"column":8,"nodeType":"630","messageId":"631","endLine":9,"endColumn":12},{"ruleId":"628","severity":1,"message":"681","line":11,"column":22,"nodeType":"630","messageId":"631","endLine":11,"endColumn":33},{"ruleId":"628","severity":1,"message":"682","line":12,"column":10,"nodeType":"630","messageId":"631","endLine":12,"endColumn":24},{"ruleId":"628","severity":1,"message":"673","line":28,"column":10,"nodeType":"630","messageId":"631","endLine":28,"endColumn":21},{"ruleId":"645","severity":1,"message":"658","line":48,"column":6,"nodeType":"647","endLine":48,"endColumn":8,"suggestions":"683"},{"ruleId":"628","severity":1,"message":"684","line":53,"column":9,"nodeType":"630","messageId":"631","endLine":53,"endColumn":19},{"ruleId":"628","severity":1,"message":"685","line":12,"column":8,"nodeType":"630","messageId":"631","endLine":12,"endColumn":12},{"ruleId":"628","severity":1,"message":"686","line":13,"column":8,"nodeType":"630","messageId":"631","endLine":13,"endColumn":16},{"ruleId":"628","severity":1,"message":"687","line":14,"column":8,"nodeType":"630","messageId":"631","endLine":14,"endColumn":14},{"ruleId":"628","severity":1,"message":"688","line":15,"column":8,"nodeType":"630","messageId":"631","endLine":15,"endColumn":18},{"ruleId":"628","severity":1,"message":"660","line":17,"column":10,"nodeType":"630","messageId":"631","endLine":17,"endColumn":21},{"ruleId":"628","severity":1,"message":"634","line":18,"column":8,"nodeType":"630","messageId":"631","endLine":18,"endColumn":14},{"ruleId":"628","severity":1,"message":"642","line":29,"column":10,"nodeType":"630","messageId":"631","endLine":29,"endColumn":11},{"ruleId":"628","severity":1,"message":"689","line":31,"column":10,"nodeType":"630","messageId":"631","endLine":31,"endColumn":21},{"ruleId":"628","severity":1,"message":"690","line":31,"column":23,"nodeType":"630","messageId":"631","endLine":31,"endColumn":37},{"ruleId":"628","severity":1,"message":"691","line":39,"column":9,"nodeType":"630","messageId":"631","endLine":39,"endColumn":17},{"ruleId":"645","severity":1,"message":"675","line":50,"column":6,"nodeType":"647","endLine":50,"endColumn":8,"suggestions":"692"},{"ruleId":"628","severity":1,"message":"693","line":8,"column":21,"nodeType":"630","messageId":"631","endLine":8,"endColumn":31},{"ruleId":"645","severity":1,"message":"694","line":25,"column":6,"nodeType":"647","endLine":25,"endColumn":8,"suggestions":"695"},{"ruleId":"628","severity":1,"message":"696","line":13,"column":37,"nodeType":"630","messageId":"631","endLine":13,"endColumn":51},{"ruleId":"628","severity":1,"message":"641","line":20,"column":10,"nodeType":"630","messageId":"631","endLine":20,"endColumn":15},{"ruleId":"628","severity":1,"message":"633","line":22,"column":9,"nodeType":"630","messageId":"631","endLine":22,"endColumn":16},{"ruleId":"645","severity":1,"message":"697","line":26,"column":6,"nodeType":"647","endLine":26,"endColumn":8,"suggestions":"698"},{"ruleId":"628","severity":1,"message":"699","line":7,"column":8,"nodeType":"630","messageId":"631","endLine":7,"endColumn":18},{"ruleId":"628","severity":1,"message":"700","line":8,"column":8,"nodeType":"630","messageId":"631","endLine":8,"endColumn":15},{"ruleId":"628","severity":1,"message":"701","line":14,"column":3,"nodeType":"630","messageId":"631","endLine":14,"endColumn":18},{"ruleId":"628","severity":1,"message":"702","line":29,"column":8,"nodeType":"630","messageId":"631","endLine":29,"endColumn":18},{"ruleId":"628","severity":1,"message":"642","line":38,"column":10,"nodeType":"630","messageId":"631","endLine":38,"endColumn":11},{"ruleId":"645","severity":1,"message":"675","line":61,"column":6,"nodeType":"647","endLine":61,"endColumn":8,"suggestions":"703"},{"ruleId":"628","severity":1,"message":"704","line":231,"column":9,"nodeType":"630","messageId":"631","endLine":231,"endColumn":12},{"ruleId":"628","severity":1,"message":"705","line":233,"column":10,"nodeType":"630","messageId":"631","endLine":233,"endColumn":14},{"ruleId":"628","severity":1,"message":"706","line":233,"column":16,"nodeType":"630","messageId":"631","endLine":233,"endColumn":23},{"ruleId":"628","severity":1,"message":"707","line":235,"column":7,"nodeType":"630","messageId":"631","endLine":235,"endColumn":15},{"ruleId":"628","severity":1,"message":"708","line":237,"column":9,"nodeType":"630","messageId":"631","endLine":237,"endColumn":16},{"ruleId":"628","severity":1,"message":"709","line":8,"column":3,"nodeType":"630","messageId":"631","endLine":8,"endColumn":13},{"ruleId":"628","severity":1,"message":"663","line":35,"column":10,"nodeType":"630","messageId":"631","endLine":35,"endColumn":20},{"ruleId":"645","severity":1,"message":"710","line":70,"column":6,"nodeType":"647","endLine":70,"endColumn":8,"suggestions":"711"},{"ruleId":"645","severity":1,"message":"712","line":121,"column":6,"nodeType":"647","endLine":121,"endColumn":48,"suggestions":"713"},{"ruleId":"628","severity":1,"message":"714","line":3,"column":31,"nodeType":"630","messageId":"631","endLine":3,"endColumn":42},{"ruleId":"628","severity":1,"message":"635","line":5,"column":8,"nodeType":"630","messageId":"631","endLine":5,"endColumn":20},{"ruleId":"645","severity":1,"message":"715","line":41,"column":6,"nodeType":"647","endLine":41,"endColumn":27,"suggestions":"716"},{"ruleId":"645","severity":1,"message":"717","line":51,"column":6,"nodeType":"647","endLine":51,"endColumn":8,"suggestions":"718"},{"ruleId":"628","severity":1,"message":"687","line":3,"column":8,"nodeType":"630","messageId":"631","endLine":3,"endColumn":14},{"ruleId":"628","severity":1,"message":"719","line":9,"column":8,"nodeType":"630","messageId":"631","endLine":9,"endColumn":16},{"ruleId":"628","severity":1,"message":"720","line":10,"column":8,"nodeType":"630","messageId":"631","endLine":10,"endColumn":18},{"ruleId":"628","severity":1,"message":"721","line":11,"column":8,"nodeType":"630","messageId":"631","endLine":11,"endColumn":16},{"ruleId":"628","severity":1,"message":"722","line":12,"column":8,"nodeType":"630","messageId":"631","endLine":12,"endColumn":15},{"ruleId":"628","severity":1,"message":"636","line":1,"column":8,"nodeType":"630","messageId":"631","endLine":1,"endColumn":15},{"ruleId":"628","severity":1,"message":"723","line":2,"column":10,"nodeType":"630","messageId":"631","endLine":2,"endColumn":21},{"ruleId":"628","severity":1,"message":"724","line":2,"column":23,"nodeType":"630","messageId":"631","endLine":2,"endColumn":30},{"ruleId":"628","severity":1,"message":"725","line":1,"column":17,"nodeType":"630","messageId":"631","endLine":1,"endColumn":27},{"ruleId":"628","severity":1,"message":"649","line":1,"column":29,"nodeType":"630","messageId":"631","endLine":1,"endColumn":37},{"ruleId":"628","severity":1,"message":"726","line":14,"column":8,"nodeType":"630","messageId":"631","endLine":14,"endColumn":19},{"ruleId":"628","severity":1,"message":"633","line":26,"column":9,"nodeType":"630","messageId":"631","endLine":26,"endColumn":16},{"ruleId":"628","severity":1,"message":"727","line":3,"column":8,"nodeType":"630","messageId":"631","endLine":3,"endColumn":18},{"ruleId":"628","severity":1,"message":"728","line":8,"column":10,"nodeType":"630","messageId":"631","endLine":8,"endColumn":36},{"ruleId":"628","severity":1,"message":"729","line":20,"column":8,"nodeType":"630","messageId":"631","endLine":20,"endColumn":17},{"ruleId":"628","severity":1,"message":"641","line":106,"column":10,"nodeType":"630","messageId":"631","endLine":106,"endColumn":15},{"ruleId":"628","severity":1,"message":"730","line":10,"column":10,"nodeType":"630","messageId":"631","endLine":10,"endColumn":24},{"ruleId":"628","severity":1,"message":"727","line":5,"column":8,"nodeType":"630","messageId":"631","endLine":5,"endColumn":18},{"ruleId":"628","severity":1,"message":"642","line":37,"column":17,"nodeType":"630","messageId":"631","endLine":37,"endColumn":18},{"ruleId":"628","severity":1,"message":"723","line":2,"column":10,"nodeType":"630","messageId":"631","endLine":2,"endColumn":21},{"ruleId":"628","severity":1,"message":"649","line":1,"column":10,"nodeType":"630","messageId":"631","endLine":1,"endColumn":18},{"ruleId":"628","severity":1,"message":"635","line":9,"column":8,"nodeType":"630","messageId":"631","endLine":9,"endColumn":20},{"ruleId":"628","severity":1,"message":"731","line":15,"column":10,"nodeType":"630","messageId":"631","endLine":15,"endColumn":30},{"ruleId":"628","severity":1,"message":"657","line":31,"column":23,"nodeType":"630","messageId":"631","endLine":31,"endColumn":37},{"ruleId":"645","severity":1,"message":"732","line":44,"column":6,"nodeType":"647","endLine":44,"endColumn":78,"suggestions":"733"},{"ruleId":"628","severity":1,"message":"725","line":1,"column":38,"nodeType":"630","messageId":"631","endLine":1,"endColumn":48},{"ruleId":"628","severity":1,"message":"727","line":4,"column":8,"nodeType":"630","messageId":"631","endLine":4,"endColumn":18},{"ruleId":"628","severity":1,"message":"734","line":6,"column":8,"nodeType":"630","messageId":"631","endLine":6,"endColumn":14},{"ruleId":"628","severity":1,"message":"722","line":8,"column":8,"nodeType":"630","messageId":"631","endLine":8,"endColumn":15},{"ruleId":"628","severity":1,"message":"735","line":10,"column":10,"nodeType":"630","messageId":"631","endLine":10,"endColumn":23},{"ruleId":"628","severity":1,"message":"736","line":11,"column":10,"nodeType":"630","messageId":"631","endLine":11,"endColumn":22},{"ruleId":"628","severity":1,"message":"634","line":13,"column":8,"nodeType":"630","messageId":"631","endLine":13,"endColumn":14},{"ruleId":"628","severity":1,"message":"737","line":14,"column":10,"nodeType":"630","messageId":"631","endLine":14,"endColumn":16},{"ruleId":"628","severity":1,"message":"738","line":15,"column":8,"nodeType":"630","messageId":"631","endLine":15,"endColumn":17},{"ruleId":"645","severity":1,"message":"739","line":45,"column":6,"nodeType":"647","endLine":45,"endColumn":14,"suggestions":"740"},{"ruleId":"628","severity":1,"message":"642","line":22,"column":27,"nodeType":"630","messageId":"631","endLine":22,"endColumn":28},{"ruleId":"628","severity":1,"message":"741","line":1,"column":8,"nodeType":"630","messageId":"631","endLine":1,"endColumn":11},{"ruleId":"628","severity":1,"message":"742","line":2,"column":8,"nodeType":"630","messageId":"631","endLine":2,"endColumn":16},{"ruleId":"628","severity":1,"message":"725","line":1,"column":17,"nodeType":"630","messageId":"631","endLine":1,"endColumn":27},{"ruleId":"628","severity":1,"message":"649","line":1,"column":29,"nodeType":"630","messageId":"631","endLine":1,"endColumn":37},{"ruleId":"628","severity":1,"message":"743","line":17,"column":10,"nodeType":"630","messageId":"631","endLine":17,"endColumn":25},{"ruleId":"628","severity":1,"message":"687","line":3,"column":8,"nodeType":"630","messageId":"631","endLine":3,"endColumn":14},{"ruleId":"628","severity":1,"message":"680","line":6,"column":8,"nodeType":"630","messageId":"631","endLine":6,"endColumn":12},{"ruleId":"628","severity":1,"message":"721","line":12,"column":8,"nodeType":"630","messageId":"631","endLine":12,"endColumn":16},{"ruleId":"628","severity":1,"message":"725","line":2,"column":10,"nodeType":"630","messageId":"631","endLine":2,"endColumn":20},{"ruleId":"628","severity":1,"message":"680","line":7,"column":8,"nodeType":"630","messageId":"631","endLine":7,"endColumn":12},{"ruleId":"628","severity":1,"message":"741","line":1,"column":8,"nodeType":"630","messageId":"631","endLine":1,"endColumn":11},{"ruleId":"628","severity":1,"message":"723","line":2,"column":10,"nodeType":"630","messageId":"631","endLine":2,"endColumn":21},{"ruleId":"628","severity":1,"message":"723","line":2,"column":10,"nodeType":"630","messageId":"631","endLine":2,"endColumn":21},{"ruleId":"628","severity":1,"message":"744","line":3,"column":22,"nodeType":"630","messageId":"631","endLine":3,"endColumn":33},{"ruleId":"628","severity":1,"message":"642","line":25,"column":10,"nodeType":"630","messageId":"631","endLine":25,"endColumn":11},{"ruleId":"645","severity":1,"message":"675","line":34,"column":6,"nodeType":"647","endLine":34,"endColumn":8,"suggestions":"745"},{"ruleId":"628","severity":1,"message":"725","line":1,"column":17,"nodeType":"630","messageId":"631","endLine":1,"endColumn":27},{"ruleId":"628","severity":1,"message":"649","line":1,"column":29,"nodeType":"630","messageId":"631","endLine":1,"endColumn":37},{"ruleId":"628","severity":1,"message":"721","line":9,"column":8,"nodeType":"630","messageId":"631","endLine":9,"endColumn":16},{"ruleId":"628","severity":1,"message":"680","line":12,"column":8,"nodeType":"630","messageId":"631","endLine":12,"endColumn":12},{"ruleId":"628","severity":1,"message":"746","line":10,"column":31,"nodeType":"630","messageId":"631","endLine":10,"endColumn":41},{"ruleId":"628","severity":1,"message":"643","line":23,"column":25,"nodeType":"630","messageId":"631","endLine":23,"endColumn":41},{"ruleId":"645","severity":1,"message":"747","line":37,"column":6,"nodeType":"647","endLine":37,"endColumn":8,"suggestions":"748"},{"ruleId":"628","severity":1,"message":"746","line":10,"column":31,"nodeType":"630","messageId":"631","endLine":10,"endColumn":41},{"ruleId":"628","severity":1,"message":"749","line":12,"column":10,"nodeType":"630","messageId":"631","endLine":12,"endColumn":21},{"ruleId":"645","severity":1,"message":"747","line":35,"column":6,"nodeType":"647","endLine":35,"endColumn":8,"suggestions":"750"},{"ruleId":"628","severity":1,"message":"727","line":4,"column":8,"nodeType":"630","messageId":"631","endLine":4,"endColumn":18},{"ruleId":"628","severity":1,"message":"751","line":5,"column":8,"nodeType":"630","messageId":"631","endLine":5,"endColumn":18},{"ruleId":"628","severity":1,"message":"752","line":6,"column":8,"nodeType":"630","messageId":"631","endLine":6,"endColumn":19},{"ruleId":"628","severity":1,"message":"746","line":10,"column":31,"nodeType":"630","messageId":"631","endLine":10,"endColumn":41},{"ruleId":"628","severity":1,"message":"749","line":12,"column":10,"nodeType":"630","messageId":"631","endLine":12,"endColumn":21},{"ruleId":"628","severity":1,"message":"753","line":27,"column":10,"nodeType":"630","messageId":"631","endLine":27,"endColumn":19},{"ruleId":"628","severity":1,"message":"754","line":27,"column":21,"nodeType":"630","messageId":"631","endLine":27,"endColumn":33},{"ruleId":"645","severity":1,"message":"646","line":47,"column":6,"nodeType":"647","endLine":47,"endColumn":8,"suggestions":"755"},{"ruleId":"628","severity":1,"message":"722","line":9,"column":8,"nodeType":"630","messageId":"631","endLine":9,"endColumn":15},{"ruleId":"628","severity":1,"message":"687","line":3,"column":8,"nodeType":"630","messageId":"631","endLine":3,"endColumn":14},{"ruleId":"628","severity":1,"message":"746","line":10,"column":31,"nodeType":"630","messageId":"631","endLine":10,"endColumn":41},{"ruleId":"628","severity":1,"message":"749","line":12,"column":10,"nodeType":"630","messageId":"631","endLine":12,"endColumn":21},{"ruleId":"628","severity":1,"message":"756","line":22,"column":12,"nodeType":"630","messageId":"631","endLine":22,"endColumn":23},{"ruleId":"628","severity":1,"message":"757","line":24,"column":9,"nodeType":"630","messageId":"631","endLine":24,"endColumn":15},{"ruleId":"645","severity":1,"message":"747","line":51,"column":6,"nodeType":"647","endLine":51,"endColumn":8,"suggestions":"758"},{"ruleId":"628","severity":1,"message":"633","line":53,"column":9,"nodeType":"630","messageId":"631","endLine":53,"endColumn":16},{"ruleId":"628","severity":1,"message":"629","line":1,"column":10,"nodeType":"630","messageId":"631","endLine":1,"endColumn":19},{"ruleId":"628","severity":1,"message":"725","line":1,"column":31,"nodeType":"630","messageId":"631","endLine":1,"endColumn":41},{"ruleId":"628","severity":1,"message":"759","line":10,"column":3,"nodeType":"630","messageId":"631","endLine":10,"endColumn":9},{"ruleId":"628","severity":1,"message":"760","line":16,"column":8,"nodeType":"630","messageId":"631","endLine":16,"endColumn":13},{"ruleId":"628","severity":1,"message":"629","line":1,"column":29,"nodeType":"630","messageId":"631","endLine":1,"endColumn":38},{"ruleId":"628","severity":1,"message":"761","line":18,"column":10,"nodeType":"630","messageId":"631","endLine":18,"endColumn":19},{"ruleId":"628","severity":1,"message":"642","line":26,"column":23,"nodeType":"630","messageId":"631","endLine":26,"endColumn":24},{"ruleId":"628","severity":1,"message":"632","line":27,"column":22,"nodeType":"630","messageId":"631","endLine":27,"endColumn":30},{"ruleId":"628","severity":1,"message":"642","line":22,"column":17,"nodeType":"630","messageId":"631","endLine":22,"endColumn":18},{"ruleId":"645","severity":1,"message":"762","line":41,"column":6,"nodeType":"647","endLine":41,"endColumn":23,"suggestions":"763"},{"ruleId":"645","severity":1,"message":"675","line":25,"column":6,"nodeType":"647","endLine":25,"endColumn":8,"suggestions":"764"},{"ruleId":"628","severity":1,"message":"634","line":3,"column":8,"nodeType":"630","messageId":"631","endLine":3,"endColumn":14},{"ruleId":"628","severity":1,"message":"673","line":28,"column":10,"nodeType":"630","messageId":"631","endLine":28,"endColumn":21},{"ruleId":"628","severity":1,"message":"765","line":28,"column":23,"nodeType":"630","messageId":"631","endLine":28,"endColumn":37},{"ruleId":"628","severity":1,"message":"741","line":1,"column":8,"nodeType":"630","messageId":"631","endLine":1,"endColumn":11},{"ruleId":"628","severity":1,"message":"766","line":5,"column":10,"nodeType":"630","messageId":"631","endLine":5,"endColumn":20},{"ruleId":"628","severity":1,"message":"767","line":5,"column":22,"nodeType":"630","messageId":"631","endLine":5,"endColumn":32},{"ruleId":"628","severity":1,"message":"768","line":9,"column":8,"nodeType":"630","messageId":"631","endLine":9,"endColumn":22},{"ruleId":"628","severity":1,"message":"760","line":12,"column":8,"nodeType":"630","messageId":"631","endLine":12,"endColumn":13},"no-native-reassign",["769"],"no-negated-in-lhs",["770"],"@typescript-eslint/no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'dispatch' is assigned a value but never used.","'history' is assigned a value but never used.","'Branch' is defined but never used.","'Commissioner' is defined but never used.","'Payment' is defined but never used.","'stateManagementOpen' is assigned a value but never used.","'stateTransactionOpen' is assigned a value but never used.","'stateHistoryOpen' is assigned a value but never used.","'stateSettingOpen' is assigned a value but never used.","'state' is assigned a value but never used.","'_' is assigned a value but never used.","'employeeDispatch' is assigned a value but never used.","'isLoading' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'branchDispatch', 'globalDispatch', and 'params.id'. Either include them or remove the dependency array.","ArrayExpression",["771"],"'useState' is defined but never used.","React Hook useEffect has missing dependencies: 'branchDispatch', 'dispatch', 'scroll', 'stat', and 'statDispatch'. Either include them or remove the dependency array.",["772"],"'apiUrlMobile' is defined but never used.","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","'clientState' is assigned a value but never used.","'clientDispatch' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'globalDispatch' and 'params.id'. Either include them or remove the dependency array.",["773"],"'getBranches' is defined but never used.","'BranchContext' is defined but never used.","'calculateAge' is defined but never used.","'notifState' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'currentUser?.branch?.name', 'globalDispatch', and 'scroll'. Either include them or remove the dependency array.",["774"],"React Hook useEffect has missing dependencies: 'globalDispatch', 'location.search', and 'onLoad'. Either include them or remove the dependency array.",["775"],"'Link' is defined but never used.","'capitalize' is defined but never used.","'styles' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'dispatch' and 'params.id'. Either include them or remove the dependency array.",["776"],"'globalState' is assigned a value but never used.",["777"],"React Hook useEffect has missing dependencies: 'globalDispatch' and 'onLoad'. Either include them or remove the dependency array.",["778"],"React Hook useEffect has missing dependencies: 'globalDispatch' and 'id'. Either include them or remove the dependency array.",["779"],["780"],"'Chip' is defined but never used.","'getPayments' is defined but never used.","'PaymentContext' is defined but never used.",["781"],"'insured_at' is assigned a value but never used.","'Menu' is defined but never used.","'MenuItem' is defined but never used.","'Button' is defined but never used.","'ExpandMore' is defined but never used.","'branchState' is assigned a value but never used.","'branchDispatch' is assigned a value but never used.","'location' is assigned a value but never used.",["782"],"'saveBranch' is defined but never used.","React Hook useEffect has a missing dependency: 'params.id'. Either include it or remove the dependency array.",["783"],"'nameCapitalize' is defined but never used.","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.",["784"],"'Pagination' is defined but never used.","'PDFForm' is defined but never used.","'CommissionProps' is defined but never used.","'ReactToPdf' is defined but never used.",["785"],"'ref' is assigned a value but never used.","'isDL' is assigned a value but never used.","'setIsDL' is assigned a value but never used.","'clickRef' is assigned a value but never used.","'options' is assigned a value but never used.","'getClients' is defined but never used.","React Hook useEffect has missing dependencies: 'globalDispatch' and 'onLoadClients'. Either include them or remove the dependency array.",["786"],"React Hook useEffect has missing dependencies: 'globalDispatch', 'globalState.currentUser?.branch?.id', 'globalState.currentUser?.role', and 'transaction'. Either include them or remove the dependency array.",["787"],"'RenderProps' is defined but never used.","React Hook useEffect has a missing dependency: 'branchOptions'. Either include it or remove the dependency array.",["788"],"React Hook useEffect has a missing dependency: 'setTransaction'. Either include it or remove the dependency array. If 'setTransaction' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["789"],"'EditIcon' is defined but never used.","'DeleteIcon' is defined but never used.","'ViewIcon' is defined but never used.","'Divider' is defined but never used.","'lettersOnly' is defined but never used.","'notNull' is defined but never used.","'useContext' is defined but never used.","'ReleaseIcon' is defined but never used.","'Typography' is defined but never used.","'ToggleCheckBoxOutlineBlank' is defined but never used.","'HeadShake' is defined but never used.","'AnyCnameRecord' is defined but never used.","'SettingsPowerRounded' is defined but never used.","React Hook useEffect has missing dependencies: 'clientState.plans' and 'setClient'. Either include them or remove the dependency array. If 'setClient' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["790"],"'Client' is defined but never used.","'GlobalContext' is defined but never used.","'getEmployees' is defined but never used.","'access' is defined but never used.","'Employees' is defined but never used.","React Hook useEffect has a missing dependency: 'setCommissioner'. Either include it or remove the dependency array. If 'setCommissioner' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["791"],"'Joi' is defined but never used.","'Employee' is defined but never used.","'EmployeeContext' is defined but never used.","'useLocation' is defined but never used.",["792"],"'InputProps' is defined but never used.","React Hook useEffect has missing dependencies: 'branchDispatch' and 'globalDispatch'. Either include them or remove the dependency array.",["793"],"'UserContext' is defined but never used.",["794"],"'IconButton' is defined but never used.","'PhotoCamera' is defined but never used.","'imageFile' is assigned a value but never used.","'setImageFile' is assigned a value but never used.",["795"],"'currentUser' is assigned a value but never used.","'params' is assigned a value but never used.",["796"],"'Legend' is defined but never used.","'Paper' is defined but never used.","'getUnread' is defined but never used.","React Hook useEffect has missing dependencies: 'getData' and 'state?.currentUser?.role'. Either include them or remove the dependency array. If 'getData' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["797"],["798"],"'globalDispatch' is assigned a value but never used.","'makeStyles' is defined but never used.","'withStyles' is defined but never used.","'TableContainer' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"799","fix":"800"},{"desc":"801","fix":"802"},{"desc":"803","fix":"804"},{"desc":"805","fix":"806"},{"desc":"807","fix":"808"},{"desc":"809","fix":"810"},{"desc":"807","fix":"811"},{"desc":"812","fix":"813"},{"desc":"814","fix":"815"},{"desc":"807","fix":"816"},{"desc":"803","fix":"817"},{"desc":"812","fix":"818"},{"desc":"819","fix":"820"},{"desc":"821","fix":"822"},{"desc":"812","fix":"823"},{"desc":"824","fix":"825"},{"desc":"826","fix":"827"},{"desc":"828","fix":"829"},{"desc":"830","fix":"831"},{"desc":"832","fix":"833"},{"desc":"834","fix":"835"},{"desc":"812","fix":"836"},{"desc":"837","fix":"838"},{"desc":"837","fix":"839"},{"desc":"799","fix":"840"},{"desc":"837","fix":"841"},{"desc":"842","fix":"843"},{"desc":"812","fix":"844"},"Update the dependencies array to be: [branchDispatch, globalDispatch, params.id]",{"range":"845","text":"846"},"Update the dependencies array to be: [branchDispatch, dispatch, scroll, stat, statDispatch]",{"range":"847","text":"848"},"Update the dependencies array to be: [globalDispatch, params.id]",{"range":"849","text":"850"},"Update the dependencies array to be: [currentUser?.branch?.name, globalDispatch, scroll]",{"range":"851","text":"852"},"Update the dependencies array to be: [globalDispatch, location.search, onLoad]",{"range":"853","text":"854"},"Update the dependencies array to be: [dispatch, params.id]",{"range":"855","text":"856"},{"range":"857","text":"854"},"Update the dependencies array to be: [globalDispatch, onLoad]",{"range":"858","text":"859"},"Update the dependencies array to be: [globalDispatch, id]",{"range":"860","text":"861"},{"range":"862","text":"854"},{"range":"863","text":"850"},{"range":"864","text":"859"},"Update the dependencies array to be: [params.id]",{"range":"865","text":"866"},"Update the dependencies array to be: [dispatch]",{"range":"867","text":"868"},{"range":"869","text":"859"},"Update the dependencies array to be: [globalDispatch, onLoadClients]",{"range":"870","text":"871"},"Update the dependencies array to be: [transaction.payment_mode, transaction.id, transaction, globalDispatch, globalState.currentUser?.role, globalState.currentUser?.branch?.id]",{"range":"872","text":"873"},"Update the dependencies array to be: [branchOptions, transaction?.branch]",{"range":"874","text":"875"},"Update the dependencies array to be: [setTransaction]",{"range":"876","text":"877"},"Update the dependencies array to be: [client.payment_mode, client.payment_period, client.plan, client.is_pwd, clientState.plans, setClient]",{"range":"878","text":"879"},"Update the dependencies array to be: [branch, setCommissioner]",{"range":"880","text":"881"},{"range":"882","text":"859"},"Update the dependencies array to be: [branchDispatch, globalDispatch]",{"range":"883","text":"884"},{"range":"885","text":"884"},{"range":"886","text":"846"},{"range":"887","text":"884"},"Update the dependencies array to be: [range, branchId, state?.currentUser?.role, getData]",{"range":"888","text":"889"},{"range":"890","text":"859"},[1922,1924],"[branchDispatch, globalDispatch, params.id]",[1709,1711],"[branchDispatch, dispatch, scroll, stat, statDispatch]",[1516,1518],"[globalDispatch, params.id]",[2068,2070],"[currentUser?.branch?.name, globalDispatch, scroll]",[1478,1480],"[globalDispatch, location.search, onLoad]",[1856,1858],"[dispatch, params.id]",[1880,1882],[1172,1174],"[globalDispatch, onLoad]",[1366,1368],"[globalDispatch, id]",[1958,1960],[1921,1923],[1779,1781],[802,804],"[params.id]",[923,925],"[dispatch]",[2253,2255],[2468,2470],"[globalDispatch, onLoadClients]",[4062,4104],"[transaction.payment_mode, transaction.id, transaction, globalDispatch, globalState.currentUser?.role, globalState.currentUser?.branch?.id]",[1245,1266],"[branchOptions, transaction?.branch]",[1470,1472],"[setTransaction]",[1594,1666],"[client.payment_mode, client.payment_period, client.plan, client.is_pwd, clientState.plans, setClient]",[1494,1502],"[branch, setCommissioner]",[1322,1324],[1535,1537],"[branchDispatch, globalDispatch]",[1389,1391],[1687,1689],[1834,1836],[1065,1082],"[range, branchId, state?.currentUser?.role, getData]",[888,890]]